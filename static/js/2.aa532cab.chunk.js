(this["webpackJsonpapp.deri.finance"]=this["webpackJsonpapp.deri.finance"]||[]).push([[2],{530:function(e,s,a){"use strict";a.d(s,"a",(function(){return i}));var t=a(2),c=(a(17),a(43));function i({btnText:e,className:s,disabled:a,click:i,afterClick:n,checkApprove:l,wallet:o,spec:r}){const[d,A]=Object(t.useState)(a?"disabled":"enabled"),[j,b]=Object(t.useState)(!0),[m,O]=Object(t.useState)(!1),x=Object(t.useRef)(null),g=()=>{A("disabled"),O(!0),x.current&&(x.current.style.display="inline-block")},u=()=>{x.current&&(x.current.style.display="none"),A("enabled"),O(!1)};return Object(t.useEffect)((()=>((async()=>{if(l&&o&&o.detail.account){const e=await o.isApproved(r.pool,r.bTokenId);b(e)}})(),()=>{})),[o,r,l]),Object(c.jsxs)("button",{className:s,onClick:()=>{j?(async()=>{if("enabled"!==d)return;g(),await i()&&n&&n(),u()})():(async()=>{g(),(await o.approve(r.pool,r.bTokenId)).success?b(!0):(b(!1),alert("Approve faild")),u()})()},children:[Object(c.jsx)("span",{className:"btn-loading-wrap",children:Object(c.jsx)("span",{ref:x,className:"spinner spinner-border spinner-border-sm",style:{display:"none",marginRight:"2"}})}),m?"PENDING":j?e:"APPROVE"]})}},531:function(e,s,a){"use strict";a.d(s,"a",(function(){return n}));var t=a(2),c=a(532),i=a(43);function n(e){const[s,a]=Object(t.useState)("--");return Object(t.useEffect)((()=>{const{allowZero:s,...t}=e;return(void 0!==e.value&&""!==e.value&&"NaN"!==e.value||0===(isNaN(e.value)&&Math.abs(e.value))&&!0===s)&&a(Object(i.jsx)(c.a,{...t,displayType:"text"})),()=>{}}),[e.value]),s}},533:function(e,s,a){"use strict";a.d(s,"a",(function(){return c}));var t=a(2);function c(e){return Object(t.useEffect)((()=>(document.querySelector("body").style.overflow="hidden",()=>{e||(document.querySelector("body").style.overflow="auto")})),[]),null}},534:function(e,s,a){"use strict";var t=a(2),c=a.n(t),i=a(535),n=a.n(i),l=a(43);s.a=e=>{const s=document.getElementById("root"),a={overlay:{position:"fixed",zIndex:1,background:"rgb(0 0 0 / 0.5)"},content:{position:"absolute",border:0,background:"none",inset:0,overflow:"initial"}};class t extends c.a.Component{constructor(e){super(e),this.state={modalIsOpen:!1}}render(){const{modalIsOpen:t,className:c,overlay:i={}}=this.props,o=Object.assign(a.overlay,{...i}),r=Object.assign(a,{overlay:o});return Object(l.jsx)(n.a,{isOpen:t,style:r,appElement:s,children:Object(l.jsx)("div",{className:c,children:Object(l.jsx)(e,{...this.props,className:c,onClose:this.props.onClose})})})}}return t}},537:function(e,s,a){"use strict";a.d(s,"a",(function(){return r}));var t=a(2),c=a(17),i=a(532),n=a(530),l=a(533),o=a(43);function r({wallet:e,spec:s={},onClose:a,balance:r,afterDeposit:d,nested:A}){const[j,b]=Object(t.useState)(""),[m,O]=Object(t.useState)(""),[x,g]=Object(t.useState)(""),[u,h]=Object(t.useState)(!1);Object(l.a)(A);return Object(t.useEffect)((()=>((()=>{if(r){const e=(+r).toFixed(2),s=e.indexOf(".")>0?e.substring(e.indexOf(".")+1,e.length):"0";b(r),O(s)}})(),()=>{})),[r]),Object(o.jsx)("div",{className:"modal fade",children:Object(o.jsx)("div",{className:"modal-dialog",children:Object(o.jsxs)("div",{className:"modal-content",children:[Object(o.jsxs)("div",{className:"modal-header",children:[Object(o.jsx)("div",{className:"title",children:"DEPOSIT MARGIN"}),Object(o.jsx)("div",{className:"close","data-dismiss":"modal",onClick:()=>{u||a()},children:Object(o.jsx)("span",{children:"\xd7"})})]}),Object(o.jsx)("div",{className:"modal-body",children:Object(o.jsxs)("div",{className:"margin-box-info",children:[Object(o.jsx)("div",{children:"Wallet Balance"}),Object(o.jsxs)("div",{className:"money",children:[Object(o.jsxs)("span",{children:[Object(o.jsxs)("span",{className:"bt-balance",children:[Object(o.jsx)(i.a,{value:j,displayType:"text",decimalScale:0}),".",Object(o.jsx)("span",{style:{fontSize:"12px"},children:m})]}),Object(o.jsx)("br",{}),Object(o.jsx)("span",{style:{fontSize:"14px",marginLeft:"10px",marginTop:"10px"},children:s.bTokenSymbol})]}),Object(o.jsx)("span",{className:"add"})]}),Object(o.jsxs)("div",{className:"enter-margin",children:[Object(o.jsx)("div",{className:"input-margin",children:Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("div",{className:"amount",style:{display:""!==x?"block":"none"},children:"AMOUNT"}),Object(o.jsx)("input",{type:"number",className:"margin-value",placeholder:"Amount",value:x,onChange:e=>{const{value:s}=e.target;g(s)}})]})}),Object(o.jsx)("div",{children:s.bTokenSymbol})]}),Object(o.jsxs)("div",{className:"max",children:["MAX: ",Object(o.jsx)("span",{className:"max-num",children:r}),Object(o.jsx)("span",{className:"max-btn-left",onClick:()=>{g(r)},children:"ADD ALL"})]}),Object(o.jsx)("div",{className:"add-margin-btn",children:Object(o.jsx)(n.a,{className:"margin-btn",btnText:"DEPOSIT",checkApprove:!0,wallet:e,spec:s,click:()=>(async t=>{const i=Object(c.bg)(r);if(Object(c.bg)(t).gt(i))return void alert("Insufficient balance in wallet");if(+t<=0||isNaN(t))return void alert("It has to be greater than zero");h(!0),(await Object(c.depositMargin)(e.detail.chainId,s.pool,e.detail.account,t,s.bTokenId)).success?(d(),a()):alert("Deposit failed"),h(!1)})(x)})})]})})]})})})}},541:function(e,s,a){"use strict";a.d(s,"a",(function(){return d}));var t=a(2),c=a(17),i=a(530),n=a(531),l=a(35),o=a(533),r=a(43);function d({wallet:e,spec:s={},position:a,onClose:d,afterWithdraw:A,availableBalance:j,nested:b}){const[m,O]=Object(t.useState)(""),[x,g]=Object(t.useState)(""),[u,h]=Object(t.useState)(""),[v,p]=Object(t.useState)(!1);Object(o.a)(b);return Object(t.useEffect)((()=>((async()=>{if(e.isConnected()&&j){const e=j;O(e);const s=e.indexOf(".");g(s>0?e.substring(s+1,s+3):"00")}})(),()=>{})),[e.detail.account,a.margin,a.unrealizedPnl]),Object(r.jsx)("div",{className:"modal fade",id:"removeMargin",children:Object(r.jsx)("div",{className:"modal-dialog",children:Object(r.jsxs)("div",{className:"modal-content",children:[Object(r.jsxs)("div",{className:"modal-header",children:[Object(r.jsx)("div",{className:"title",children:"WITHDRAW MARGIN"}),Object(r.jsx)("div",{className:"close",onClick:()=>{v||d()},children:Object(r.jsx)("span",{children:"\xd7"})})]}),Object(r.jsx)("div",{className:"modal-body",children:Object(r.jsxs)("div",{className:"margin-box-info",children:[Object(r.jsx)("div",{children:"Available Balance"}),Object(r.jsxs)("div",{className:"money",children:[Object(r.jsx)("span",{children:Object(r.jsxs)("span",{className:"bt-balance",children:[Object(r.jsx)(n.a,{value:m,thousandSeparator:!0,decimalScale:0}),".",Object(r.jsx)("span",{style:{fontSize:"12px"},children:x})]})}),Object(r.jsx)("span",{className:"remove"})]}),Object(r.jsxs)("div",{className:"enter-margin remv",children:[Object(r.jsx)("div",{className:"input-margin",children:Object(r.jsxs)("div",{className:"box",children:[Object(r.jsx)("div",{className:"amount",style:{display:""!==u?"block":"none"},children:"AMOUNT"}),Object(r.jsx)("input",{type:"number",className:"margin-value",value:u,onChange:e=>{const{value:s}=e.target;h(s)},placeholder:"Amount"})]})}),Object(r.jsx)("div",{children:s.baseToken})]}),0===+a.volume&&Object(r.jsxs)("div",{className:"max",children:["MAX: ",Object(r.jsx)("span",{className:"max-num",children:m||a.margin}),Object(r.jsx)("span",{className:"max-btn-left",onClick:()=>{h(j)},children:"REMOVE ALL"})]}),+a.volume>0&&Object(r.jsxs)("div",{className:"max",children:[Object(r.jsx)("span",{className:"max-num"}),Object(r.jsx)("span",{className:"max-btn-left",children:" "})]}),Object(r.jsx)("div",{className:"add-margin-btn",children:Object(r.jsx)(i.a,{className:"margin-btn",btnText:"WITHDRAW",click:async()=>{const a=Object(l.a)(m);if(Object(l.a)(u).gt(a))return void alert("under margin");if(+u<=0||isNaN(u))return void alert("It has to be greater than zero");p(!0);const t=a.eq(u),i=await Object(c.withdrawMargin)(e.detail.chainId,s.pool,e.detail.account,u,s.bTokenId,t);if(i.success)A(),d();else{const e="string"===typeof i.error?i.error:i.error.errorMessage||i.error.message;alert(e)}p(!1)},checkApprove:!0,wallet:e,spec:s})})]})})]})})})}},542:function(e,s,a){"use strict";a.d(s,"a",(function(){return O}));var t=a(2),c=a(534),i=a(537),n=a(541),l=a(543),o=a(544),r=a(531),d=a(17),A=a(533),j=a(43);const b=Object(c.a)(i.a),m=Object(c.a)(n.a);function O({wallet:e,spec:s,afterDepositAndWithdraw:a,position:c,onClose:i}){const[n,O]=Object(t.useState)([]),x=parseInt((document.body.offsetHeight-140)/54),[g,u]=Object(t.useState)(Array.from({length:x})),[h,v]=Object(t.useState)(!1),[p,N]=Object(t.useState)(!1),[f,w]=Object(t.useState)(""),[y,D]=Object(t.useState)(""),[I,C]=Object(t.useState)(""),[B,S]=Object(t.useState)("");Object(A.a)();const k=async()=>{if(e.detail.account&&s){const a=await Object(d.getPoolBTokensBySymbolId)(e.detail.chainId,s.pool,e.detail.account,s.symbolId);O(a),a.length<x&&u(Array.from({length:x-a.length}))}};return Object(t.useEffect)((()=>(k(),window.scrollTo(0,0),()=>{})),[e.detail.account,s]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"modal fade",children:Object(j.jsx)("div",{className:"modal-dialog",children:Object(j.jsxs)("div",{className:"modal-content",children:[Object(j.jsxs)("div",{className:"modal-header",children:[Object(j.jsx)("div",{className:"title",children:"BALANCE IN CONTRACT"}),Object(j.jsx)("div",{className:"close","data-dismiss":"modal",onClick:()=>{a(),i()},children:Object(j.jsx)("span",{children:"\xd7"})})]}),Object(j.jsx)("div",{className:"modal-body",children:Object(j.jsxs)("div",{className:"balance-list",children:[Object(j.jsxs)("div",{className:"row header",children:[Object(j.jsx)("span",{className:"btoken pc",children:"Base Token"}),Object(j.jsx)("span",{className:"btoken mobile",children:"B Token"}),Object(j.jsx)("span",{className:"w-balance pc",children:"Wallet Balance"}),Object(j.jsx)("span",{className:"w-balance mobile",children:"Wal Bal"}),Object(j.jsx)("span",{className:"avail-balance pc",children:"Available Balance"}),Object(j.jsx)("span",{className:"avail-balance mobile",children:"Avail Bal"})]}),n.map(((e,s)=>Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("span",{className:"btoken",children:e.bTokenSymbol}),Object(j.jsx)("span",{className:"w-balance",children:Object(j.jsx)(r.a,{value:e.walletBalance,fixedDecimalScale:!0,decimalScale:2})}),Object(j.jsx)("span",{className:"avail-balance",children:Object(j.jsx)(r.a,{value:e.availableBalance,fixedDecimalScale:!0,decimalScale:2})}),Object(j.jsxs)("span",{className:"action",children:[Object(j.jsxs)("span",{className:"add-margin",id:"openAddMargin",onClick:()=>((e,s,a)=>{w(e),C(s),S(a),v(!0)})(e.walletBalance,e.bTokenId,e.bTokenSymbol),children:[Object(j.jsx)("img",{src:l.a,alt:"add margin"})," Add"]}),Object(j.jsxs)("span",{className:"remove-margin",onClick:()=>((e,s,a)=>{D(e),C(s),S(a),N(!0)})(e.availableBalance,e.bTokenId,e.bTokenSymbol),children:[Object(j.jsx)("img",{src:o.a,alt:"add margin"})," Remove"]})]})]},s))),g.map(((e,s)=>Object(j.jsx)("div",{className:"row"},s)))]})})]})})}),Object(j.jsx)(b,{wallet:e,onClose:()=>v(!1),balance:f,spec:{...s,bTokenId:I,bTokenSymbol:B},position:c,modalIsOpen:h,afterDeposit:()=>{v(!1),k()},className:"trading-dialog",nested:!0}),Object(j.jsx)(m,{wallet:e,onClose:()=>N(!1),spec:{...s,bTokenId:I,bTokenSymbol:B},position:c,modalIsOpen:p,afterWithdraw:()=>{N(!1),k()},availableBalance:y,className:"trading-dialog",nested:!0})]})}},543:function(e,s,a){"use strict";s.a=a.p+"static/media/remove-margin.1ccb58c4.svg"},544:function(e,s,a){"use strict";s.a=a.p+"static/media/add-margin.8b496dd1.svg"},550:function(e,s,a){"use strict";var t=a(2),c=a(17),i=a(529),n=a.n(i),l=a(534),o=a(537),r=a(541),d=a(531),A=a(35),j=a(138),b=a(542),m=a(544),O=a(543),x=a(558),g=a(559),u=a(43);const h=Object(l.a)(o.a),v=Object(l.a)(r.a),p=Object(l.a)(b.a);var N=Object(j.b)("wallet","trading","version")(Object(j.c)((function({wallet:e,trading:s,version:a}){const[i,l]=Object(t.useState)(!1),[o,r]=Object(t.useState)(""),[j,b]=Object(t.useState)(""),[N,f]=Object(t.useState)(""),[w,y]=Object(t.useState)(!1),[D,I]=Object(t.useState)(!1),[C,B]=Object(t.useState)(!1),[S,k]=Object(t.useState)(""),M=async()=>{if(e.isConnected()&&s.config){const a=await Object(c.getWalletBalance)(e.detail.chainId,s.config.pool,e.detail.account,s.config.bTokenId).catch((e=>console.log(e)));a&&k(a)}},Q=()=>{s.refresh(),M()},E=n()("Direction","info-num",{LONG:"LONG"===o,SHORT:"SHORT"===o});return Object(t.useEffect)((()=>(M(),()=>{})),[e.detail.account,s.config]),Object(t.useEffect)((()=>{if(s.position){const{position:e}=s,a=+e.volume>0?"LONG":Object(A.b)(e.volume,0)||!e.volume?"--":"SHORT";r(a),b(Object(c.bg)(e.margin).plus(e.unrealizedPnl).toString()),f(Object(c.bg)(e.margin).plus(e.unrealizedPnl).minus(e.marginHeld).toString())}return()=>{}}),[s.position.volume,s.position.margin,s.position.unrealizedPnl]),Object(u.jsxs)("div",{className:"position-info",children:[Object(u.jsxs)("div",{className:"info",children:[Object(u.jsxs)("div",{className:"info-left",children:[Object(u.jsx)("div",{className:"title-text",children:"Position"}),Object(u.jsx)("div",{className:"info-num",children:s.position.volume})]}),Object(u.jsx)("div",{className:"info-right",children:Object(u.jsxs)("div",{className:"close-position",id:"close-p",onClick:async()=>{l(!0);const a=await Object(c.closePosition)(e.detail.chainId,s.config.pool,e.detail.account,s.config.symbolId).finally((()=>l(!1)));a.success?Q():"string"===typeof a.error?alert(a.error||"Liquidation failed"):"object"===typeof a.error?alert(a.error.errorMessage||"Liquidation failed"):alert("Close position failed")},children:[Object(u.jsx)("span",{className:"spinner spinner-border spinner-border-10px",role:"status","aria-hidden":"true",style:{display:i?"block":"none"}}),Object(u.jsx)("svg",{t:"1618369709897",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2009",width:"14",height:"14",children:Object(u.jsx)("path",{d:"M510.8096 420.3008l335.296-335.296 90.5088 90.5088-335.296 335.296 335.296 335.296-90.5088 90.5088-335.296-335.296-335.296 335.296-90.5088-90.5088 335.296-335.296-335.296-335.296 90.5088-90.5088z","p-id":"2010",fill:"#ffffff"})})," Close"]})})]}),Object(u.jsxs)("div",{className:"info",children:[Object(u.jsxs)("div",{className:"info-left",children:[Object(u.jsx)("div",{className:"title-text",children:"Average Entry Price"}),Object(u.jsx)("div",{className:"info-num",children:Object(u.jsx)(d.a,{value:s.position.averageEntryPrice,decimalScale:2})})]}),Object(u.jsx)("div",{className:"info-right"})]}),Object(u.jsxs)("div",{className:"info",children:[Object(u.jsxs)("div",{className:"info-left",children:[Object(u.jsx)("div",{className:"title-text balance-con",children:a.isV1?Object(u.jsxs)(u.Fragment,{children:["Balance in Contract ",Object(u.jsx)("br",{})," (Dynamic Balance)"]}):"Dynamic Effective Bal "}),Object(u.jsx)("div",{className:"info-num",children:Object(u.jsx)(d.a,{decimalScale:2,allowZero:!0,value:j})})]}),Object(u.jsx)("div",{className:"info-right",children:a.isV1?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"add-margin",id:"openAddMargin",onClick:()=>I(!0),children:[Object(u.jsx)("img",{src:O.a,alt:"add margin"})," Add"]}),Object(u.jsxs)("div",{className:"remove-margin",onClick:()=>B(!0),children:[Object(u.jsx)("img",{src:m.a,alt:"add margin"})," Remove"]})]}):Object(u.jsxs)("div",{onClick:()=>y(!0),children:[Object(u.jsx)("img",{src:x.a,alt:"Remove margin"})," Detail"]})})]}),Object(u.jsxs)("div",{className:"info",children:[Object(u.jsxs)("div",{className:"info-left",children:[Object(u.jsx)("div",{className:"title-text",children:"Direction"}),Object(u.jsx)("div",{className:E,children:o})]}),Object(u.jsx)("div",{className:"info-right"})]}),Object(u.jsxs)("div",{className:"info",children:[Object(u.jsxs)("div",{className:"info-left",children:[Object(u.jsx)("div",{className:"title-text",children:"Margin"}),Object(u.jsx)("div",{className:"info-num",children:Object(u.jsx)(d.a,{value:s.position.marginHeld,decimalScale:2})})]}),Object(u.jsx)("div",{className:"info-right"})]}),Object(u.jsxs)("div",{className:"info",children:[Object(u.jsxs)("div",{className:"info-left",children:[Object(u.jsx)("div",{className:"title-text",children:"Unrealized PnL"}),Object(u.jsx)("div",{className:"info-num",children:Object(u.jsxs)("span",{className:"pnl-list",children:[Object(u.jsx)(d.a,{value:s.position.unrealizedPnl,decimalScale:8}),a.isV2&&s.position.unrealizedPnl&&Object(u.jsx)("img",{src:g.a,alt:"unrealizePnl"}),a.isV2&&Object(u.jsx)("div",{className:"pnl-box",children:s.position.unrealizedPnlList&&s.position.unrealizedPnlList.map(((e,s)=>Object(u.jsxs)("div",{className:"unrealizePnl-item",children:[Object(u.jsx)("span",{children:e[0]}),Object(u.jsx)("span",{children:e[1]})]},s)))})]})})]}),Object(u.jsx)("div",{className:"info-right"})]}),Object(u.jsxs)("div",{className:"info",children:[Object(u.jsxs)("div",{className:"info-left",children:[Object(u.jsx)("div",{className:"title-text",children:"Liquidation Price"}),Object(u.jsx)("div",{className:"info-num",children:Object(u.jsx)(d.a,{decimalScale:2,value:s.position.liquidationPrice})})]}),Object(u.jsx)("div",{className:"info-right"})]}),Object(u.jsx)(h,{wallet:e,modalIsOpen:D,onClose:()=>{I(!1)},spec:s.config,afterDeposit:()=>{I(!1),Q()},balance:S,className:"trading-dialog"}),Object(u.jsx)(v,{wallet:e,modalIsOpen:C,onClose:()=>{B(!1)},spec:s.config,afterWithdraw:()=>{B(!1),Q()},position:s.position,availableBalance:N,className:"trading-dialog"}),Object(u.jsx)(p,{wallet:e,modalIsOpen:w,onClose:()=>{y(!1)},spec:s.config,afterDepositAndWithdraw:()=>{Q()},position:s.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog"})]})}))),f=a(560),w=a.n(f),y=a(532);var D=a(140),I=a(561);const C=D[c.DeriEnv.get()].chainInfo;function B({wallet:e,his:s}){const[a,c]=Object(t.useState)(!1),i=()=>{c(!0)},l=()=>{c(!1)},o=n()("view",{hover:a});return Object(u.jsxs)("span",{className:o,onMouseOut:l,children:[Object(u.jsx)("span",{className:"view-space",onMouseOver:i,children:Object(u.jsxs)("a",{target:"_blank",rel:"noreferrer",href:`${C[e.detail.chainId].viewUrl}tx/${s.transactionHash}`,children:["View at ",C[e.detail.chainId].viewUrl]})}),Object(u.jsx)("span",{className:"right-arrow",onMouseOver:i,children:Object(u.jsx)("img",{alt:"",src:I.a})}),Object(u.jsx)("span",{className:"view-arrow",onMouseOver:i,onMouseOut:l,children:Object(u.jsx)("a",{target:"_blank",rel:"noreferrer",href:`${C[e.detail.chainId].viewUrl}tx/${s.transactionHash}`,children:Object(u.jsx)("img",{rel:"noreferrer",alt:"",src:"data:image/svg+xml;base64,DQo8c3ZnIGZpbGw9Im5vbmUiIGhlaWdodD0iMTAiIHdpZHRoPSIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCiAgICA8cGF0aCBkPSJNOC42NzYuNjQyYS42NS42NSAwIDAwLS4wNzIuMDA2SDQuNzkzYS42NS42NSAwIDAwLS41Ny45NzUuNjUuNjUgMCAwMC41Ny4zMjJINy4xMkwuNDM4IDguNjE0YS42NDcuNjQ3IDAgMDAuMjg2IDEuMDk2LjY1LjY1IDAgMDAuNjMyLS4xNzlMOC4wNCAyLjg2MXYyLjMyNGEuNjQ4LjY0OCAwIDAwLjk3Ny41Ny42NDguNjQ4IDAgMDAuMzIyLS41N1YxLjM4YS42NDcuNjQ3IDAgMDAtLjY2Mi0uNzM3eiIgZmlsbD0iI0FBQUFBQSIvPg0KPC9zdmc+DQoNCg=="})})})]})}var S=Object(j.b)("wallet","trading")(Object(j.c)((function({wallet:e,trading:s}){const[a,c]=Object(t.useState)([]);return Object(t.useEffect)((()=>(async function(){if(e.isConnected()&&s.configs&&s.config){const e=s.history.map((e=>{e.directionText="LONG / BUY","SHORT"===e.direction?e.directionText="SHORT / SELL":"Liquidation"===e.direction&&(e.directionText="LIQUIDATION");const a=s.config;return a&&(e.baseTokenText=e.baseToken?` ${a.symbol} / ${a.bTokenSymbol}`:a.symbol),e}));c(e)}}(),()=>{})),[e.detail,s.configs,s.config,s.history]),Object(u.jsx)("div",{className:"history-info","v-show":"historyShow",children:a.map(((s,a)=>Object(u.jsxs)("div",{className:"history-box",children:[Object(u.jsxs)("div",{className:"direction-bToken-price",children:[Object(u.jsxs)("span",{className:"direction",children:[Object(u.jsxs)("span",{className:`${s.direction}`,children:[" ",s.directionText]}),Object(u.jsx)("span",{className:"basetoken",children:s.baseTokenText}),Object(u.jsx)(B,{wallet:e,his:s})]}),Object(u.jsx)("span",{className:"history-text time",children:w.a.asString("yyyy-MM-dd hh:mm:ss",new Date(parseInt(s.time)))})]}),Object(u.jsxs)("div",{className:"time-price-volume",children:[Object(u.jsxs)("div",{className:"history-price",children:[Object(u.jsx)("div",{className:"history-title",children:"Volume @ Price"}),Object(u.jsxs)("div",{className:"history-text",children:[s.volume," @ ",Object(u.jsx)(d.a,{value:s.price,decimalScale:2,displayType:"text"})]})]}),Object(u.jsxs)("div",{className:"notional",children:[Object(u.jsx)("div",{className:"history-title",children:"Notional"}),Object(u.jsx)("div",{className:"history-text",children:Object(u.jsx)(d.a,{value:s.notional,decimalScale:4})})]}),Object(u.jsxs)("div",{className:"history-fee",children:[Object(u.jsx)("div",{className:"history-title pc",children:"Transaction Fee"}),Object(u.jsx)("div",{className:"history-title mobile",children:"Fee"}),Object(u.jsx)("div",{className:"history-text",children:Object(u.jsx)(d.a,{value:s.transactionFee,decimalScale:4})})]})]})]},a)))})})));var k=Object(j.b)("wallet","trading")(Object(j.c)((function({wallet:e,trading:s}){return Object(u.jsxs)("div",{className:"contract-box",children:[Object(u.jsx)("div",{className:"contract-header"}),Object(u.jsxs)("div",{className:"contract-info",children:[Object(u.jsx)("div",{className:"conntract-header",children:"CONTRACT INFO"}),Object(u.jsxs)("div",{className:"info",children:[Object(u.jsx)("div",{className:"title",children:"Base Token"}),Object(u.jsx)("div",{className:"text",children:s.contract.bSymbol})]}),Object(u.jsxs)("div",{className:"info",children:[Object(u.jsx)("div",{className:"title",children:"Symbol"}),Object(u.jsx)("div",{className:"text",children:s.contract.symbol})]}),Object(u.jsxs)("div",{className:"info",children:[Object(u.jsx)("div",{className:"title",children:"Multiplier"}),Object(u.jsx)("div",{className:"text",children:s.contract.multiplier})]}),Object(u.jsxs)("div",{className:"info",children:[Object(u.jsx)("div",{className:"title",children:"Funding Rate Coefficient"}),Object(u.jsx)("div",{className:"text",children:s.contract.fundingRateCoefficient})]}),Object(u.jsxs)("div",{className:"info",children:[Object(u.jsx)("div",{className:"title",children:"Min Initial Margin Ratio"}),Object(u.jsx)("div",{className:"text",children:Object(u.jsx)(y.a,{displayType:"text",value:100*s.contract.minInitialMarginRatio,decimalScale:2,suffix:"%"})})]}),Object(u.jsxs)("div",{className:"info",children:[Object(u.jsx)("div",{className:"title",children:"Min Maintenance Margin Ratio"}),Object(u.jsx)("div",{className:"text",children:Object(u.jsx)(y.a,{displayType:"text",value:100*s.contract.minMaintenanceMarginRatio,decimalScale:2,suffix:"%"})})]}),Object(u.jsxs)("div",{className:"info",children:[Object(u.jsx)("div",{className:"title",children:"Transaction Fee"}),Object(u.jsx)("div",{className:"text",children:Object(u.jsx)(y.a,{displayType:"text",value:100*s.contract.feeRatio,decimalScale:2,suffix:"%"})})]})]})]})}))),M=a(591);a(583),a(584);const{Handle:Q}=M.b;function E(e){const{value:s,dragging:a,index:t,...c}=e;return Object(u.jsx)(M.a,{prefixCls:"rc-slider-tooltip",overlay:s||"",placement:"top",visible:!!s,overlayStyle:{display:"block"},overlayInnerStyle:{color:"#569BDA",background:"none",display:"block",fontSize:"10px",boxShadow:"none"},children:Object(u.jsx)(Q,{value:s,...c})},t)}function T({max:e="--",start:s,onValueChange:a,freeze:i,currentSymbolMarginHeld:l,originMarginHeld:o,setStopCalculate:r}){const[d,A]=Object(t.useState)(0),[j,b]=Object(t.useState)(0),[m,O]=Object(t.useState)(!1),[x,g]=Object(t.useState)({}),[h,v]=Object(t.useState)(!1),[p,N]=Object(t.useState)(!1);Object(t.useEffect)((()=>(O(i),0===Math.abs(e)&&O(!0),()=>{})),[i,e]),Object(t.useEffect)((()=>{const s=e;return 0!==Math.abs(e)&&"--"!==e||(e=100),isNaN(s)&&A(""),e&&g((e=>{const s={},a=+e/10;for(let t=0;t<=10;t++)if(0===t||10===t){const e={top:"-16px",position:"relative"};10===t&&(e.width=100,e.left="-10px",e.paddingRight="10px"),s[t*a]=Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{style:e,children:10===t?(t*a).toFixed(2):t*a}),Object(u.jsx)("div",{style:{top:"-16px",position:"relative"},children:"l"})]})}else s[t*a]="l";return s})(e)),A(+e),"--"!==s&&v(!0),0!==Math.abs(e)&&0!==Math.abs(s)||v(!1),()=>{}}),[e]),Object(t.useEffect)((()=>(p||(isNaN(s)?b(0):b(s)),()=>{})),[s]);const f=n()("deri-slider",{controlled:h});return Object(u.jsx)(M.b,{handle:E,className:f,start:s,min:0,max:d,value:j,onChange:e=>{N(!0),r(!0),b(e),a(e,!1)},onAfterChange:e=>{if(l){const s=Object(c.bg)(o).minus(l);Object(c.bg)(e).lt(s)&&(b(s),a(s))}N(!1),r(!1)},disabled:m,overlay:j,step:.01,marks:x})}var R=a(530);var Y=a.p+"static/media/symbol-arrow.66dccd14.svg";function P({version:e,spec:s}){return e.isV1?`${s.symbol||"BTCUSD"} / ${s.bTokenSymbol||"BUSD"} (10X)`:`${s.symbol||"BTCUSD"} (10X)`}var G=Object(j.b)("trading","version")(Object(j.c)((function({trading:e,version:s,setSpec:a,spec:c,afterChanged:i}){const[l,o]=Object(t.useState)(!1),r=n()("dropdown-menu",{show:l});return Object(u.jsxs)("div",{className:"btn-group check-baseToken-btn",children:[Object(u.jsxs)("button",{type:"button",onClick:s=>{e.configs.length>0&&(s.preventDefault(),o(!l))},className:"btn chec",children:[Object(u.jsx)(P,{spec:c,version:s}),Object(u.jsx)("span",{className:"check-base-down",children:Object(u.jsx)("img",{src:Y,alt:""})})]}),Object(u.jsx)("div",{className:r,children:Object(u.jsx)("div",{className:"dropdown-box",children:e.configs.map(((t,c)=>Object(u.jsx)("div",{className:"dropdown-item",onClick:s=>(s=>{const t=e.configs.find((e=>e.pool===s.pool&&s.symbolId===e.symbolId));t&&(e.pause(),a(t),e.switch(t),o(!1))})(t),children:Object(u.jsx)(P,{spec:t,version:s})},c)))})})]})})));const H=Object(l.a)((function({wallet:e,spec:s,onClose:a,direction:i,volume:n,position:l=0,indexPrice:o,leverage:r,transFee:d,afterTrade:A}){const[j,b]=Object(t.useState)(!1),m=()=>{j||a()},O="long"===i?+n+ +l:+l-+n;return Object(u.jsx)("div",{className:"modal-dialog",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsxs)("div",{className:"modal-header",children:[Object(u.jsx)("div",{className:"title",children:"CONFIRM"}),Object(u.jsx)("div",{className:"close","data-dismiss":"modal",onClick:m,children:Object(u.jsx)("span",{children:"\xd7"})})]}),Object(u.jsx)("div",{className:"modal-body",children:Object(u.jsxs)("div",{className:"contract-box-info",children:[Object(u.jsxs)("div",{className:"top",children:[Object(u.jsxs)("div",{className:"text",children:[Object(u.jsx)("div",{className:"text-title",children:"# of Contracts"}),Object(u.jsx)("div",{className:"text-num",children:"long"===i?n:`-${n}`})]}),Object(u.jsxs)("div",{className:"text",children:[Object(u.jsx)("div",{className:"text-title",children:"Position after execution"}),Object(u.jsx)("div",{className:"text-num",children:O})]}),Object(u.jsxs)("div",{className:"text",children:[Object(u.jsx)("div",{className:"text-title",children:"Direction"}),Object(u.jsx)("div",{className:"text-num",children:Object(u.jsx)("span",{className:i,children:i})})]}),Object(u.jsxs)("div",{className:"text",children:[Object(u.jsx)("div",{className:"text-title",children:"Trade Price (estimated)"}),Object(u.jsx)("div",{className:"text-num",children:Object(u.jsx)(y.a,{value:o,decimalScale:2,displayType:"text"})})]}),Object(u.jsxs)("div",{className:"text",children:[Object(u.jsx)("div",{className:"text-title",children:"Leverage after execution"}),Object(u.jsxs)("div",{className:"text-num",children:[r,"X"]})]}),Object(u.jsxs)("div",{className:"text",children:[Object(u.jsx)("div",{className:"text-title",children:"Transaction Fee"}),Object(u.jsx)("div",{className:"text-num",children:Object(u.jsx)(y.a,{value:d,decimalScale:2,suffix:` ${s.bTokenSymbol}`,displayType:"text"})})]})]}),Object(u.jsx)("div",{className:"modal-footer",children:Object(u.jsxs)("div",{className:"long-btn","v-if":"confirm",children:[Object(u.jsx)("button",{className:"cancel",onClick:m,children:"CANCEL"}),Object(u.jsx)(R.a,{className:"confirm",btnText:"OK",click:async()=>{b(!0),n="long"===i?n:-+n;const t=await Object(c.tradeWithMargin)(e.detail.chainId,s.pool,e.detail.account,n,s.symbolId);if(t.success)A(),a();else{const e="string"===typeof t.error?t.error:t.error.errorMessage||t.error.message;alert(e)}b(!1)}})]})})]})})]})})})),J=Object(l.a)(o.a),F=Object(l.a)(b.a);function L({hasConnectWallet:e,wallet:s,spec:a,volume:i,available:n,baseToken:l,leverage:o,indexPrice:r,position:d,transFee:A,afterTrade:j,direction:b,trading:m,symbolId:O,bTokenId:x,version:g}){const[h,v]=Object(t.useState)(!0),[p,N]=Object(t.useState)(!0),[f,w]=Object(t.useState)(!1),[y,D]=Object(t.useState)(!1),[I,C]=Object(t.useState)(""),B=()=>{s.connect()},S=async()=>{(await s.approve(a.pool,x)).success?(v(!0),Q()):(v(!1),alert("Approve faild"))},k=async()=>{m.refresh(),D(!1)},M=()=>{m.refresh(),D(!1)},Q=async()=>{if(e()&&a){const e=await s.isApproved(a.pool,x);v(e)}};Object(t.useEffect)((()=>(e()&&a&&(async()=>{if(s.isConnected()&&a){const e=await Object(c.getWalletBalance)(s.detail.chainId,a.pool,s.detail.account,x).catch((e=>console.log(e)));e&&C(e)}})(),()=>{})),[s.detail.account,a,n]),Object(t.useEffect)((()=>(N(!i),()=>{})),[i]),Object(t.useEffect)((()=>(a&&Q(),()=>{})),[s.detail.isApproved,a]);let E=Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(H,{wallet:s,className:"trading-dialog",spec:a,modalIsOpen:f,onClose:()=>w(!1),leverage:o,baseToken:l,volume:i,position:d.volume,indexPrice:r,transFee:A,afterTrade:j,direction:b}),Object(u.jsx)("button",{className:"short-submit",onClick:()=>w(!0),children:"TRADE"})]});return e()?h?!n||+n<=0?E=Object(u.jsxs)(u.Fragment,{children:[g.isV2?Object(u.jsx)(F,{wallet:s,modalIsOpen:y,onClose:M,spec:m.config,afterDepositAndWithdraw:M,position:m.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog"}):Object(u.jsx)(J,{wallet:s,modalIsOpen:y,onClose:()=>D(!1),spec:a,balance:I,afterDeposit:k,className:"trading-dialog"}),Object(u.jsx)("div",{className:"noMargin-text",children:"You\xa0have\xa0no\xa0fund\xa0in\xa0contract.\xa0Please\xa0deposit\xa0first."}),Object(u.jsx)("button",{className:"short-submit",onClick:()=>D(!0),children:"DEPOSIT"})]}):p&&(E=Object(u.jsx)("button",{className:"btn btn-danger short-submit",children:"ENTER VOLUME"})):E=Object(u.jsx)(R.a,{className:"approve",btnText:"APPROVE",click:S}):E=Object(u.jsx)(R.a,{className:"btn btn-danger connect",btnText:"Connect Wallet",click:B}),Object(u.jsx)("div",{className:"submit-btn",children:E})}var z=Object(j.b)("wallet","trading","version")(Object(j.c)((function({wallet:e={},trading:s,version:a}){const[i,l]=Object(t.useState)("long"),[o,r]=Object(t.useState)({}),[A,j]=Object(t.useState)(""),[b,m]=Object(t.useState)(""),[O,x]=Object(t.useState)({}),[g,h]=Object(t.useState)("rise"),[v,p]=Object(t.useState)(!0),[N,f]=Object(t.useState)(!1),[w,y]=Object(t.useState)(!1),D=Object(t.useRef)(),I=n()("checked-long","check-long-short"," long-short",{"checked-short":"short"===i}),C=n()("contrant-input",{inputFamliy:""!==s.volume}),B=()=>o&&o.pool,S=()=>e&&e.detail&&e.detail.account,k=e=>{s.setVolume(""),l(e)};return Object(t.useEffect)((()=>((()=>{if(S()&&B()){const{chainId:s,account:a}=e.detail,t=o.pool;c.priceCache.clear(),c.priceCache.update(s,t),c.PerpetualPoolParametersCache.update(s,t,a)}})(),()=>{})),[e.detail]),Object(t.useEffect)((()=>{var e;return s.position&&s.position.volume&&(e=+s.position.volume,l(e>=0?"long":"short")),()=>{}}),[s.position.volume]),Object(t.useEffect)((()=>(w||""===s.volumeDisplay?e.detail.account&&s.resume():(s.pause(),(async()=>{if(S()&&B()&&s.volumeDisplay){const a="long"===i?s.volumeDisplay:-s.volumeDisplay,t=await Object(c.getEstimatedFundingRate)(e.detail.chainId,o.pool,a,o.symbolId);t&&j(t.fundingRate1)}})(),(async()=>{if(S()&&B()&&s.volumeDisplay){const{detail:a}=e,t="long"===i?s.volumeDisplay:-s.volumeDisplay,n=await Object(c.getLiquidityUsed)(a.chainId,o.pool,o.symbolId),l=await Object(c.getEstimatedLiquidityUsed)(a.chainId,o.pool,t,o.symbolId);n&&l&&x({curLiqUsed:n.liquidityUsed0,afterLiqUsed:l.liquidityUsed1})}})(),(async()=>{if(S()&&B()&&s.volumeDisplay){const a=await Object(c.getEstimatedFee)(e.detail.chainId,o.pool,Math.abs(s.volumeDisplay),o.symbolId);isNaN(a)||m((+a).toFixed(2))}})()),()=>{})),[s.volumeDisplay,w]),Object(t.useEffect)((()=>(D.current>s.index?h("fall"):h("rise"),D.current=s.index,()=>{})),[s.index]),Object(t.useEffect)((()=>(s.config&&r(s.config),()=>{})),[s.config]),Object(t.useEffect)((()=>{s.init(e,a)}),[e.detail.account,a.current]),Object(t.useEffect)((()=>(s.margin&&s.direction&&l(s.direction),()=>{})),[s.margin]),Object(t.useEffect)((()=>(s.index&&e.isConnected()&&e.supportChain&&p(!1),()=>{})),[e.detail.account,s.index]),Object(t.useEffect)((()=>(N||(s.position.volume>0?s.volume<0?l("short"):l("long"):s.position.volume<0&&(s.volume>0?l("short"):l("long"))),()=>{})),[s.volume,N]),Object(t.useEffect)((()=>(s.setUserSelectedDirection(i),()=>{})),[i]),Object(u.jsx)("div",{className:"trade-info",children:Object(u.jsxs)("div",{className:"trade-peration",children:[Object(u.jsxs)("div",{className:"check-baseToken",children:[Object(u.jsx)(G,{setSpec:r,spec:o}),Object(u.jsxs)("div",{className:"price-fundingRate pc",children:[Object(u.jsxs)("div",{className:"index-prcie",children:["Index Price: ",Object(u.jsxs)("span",{className:g,children:["\xa0 ",Object(u.jsx)(d.a,{value:s.index,decimalScale:2})]})]}),Object(u.jsxs)("div",{className:"funding-rate",children:[Object(u.jsx)("span",{children:"Funding Rate Annual: \xa0"}),Object(u.jsx)("span",{className:"funding-per",title:s.fundingRateTip,children:Object(u.jsx)(d.a,{value:s.fundingRate.fundingRate0,decimalScale:4,suffix:"%"})})]})]}),Object(u.jsxs)("div",{className:"price-fundingRate mobile",children:[Object(u.jsxs)("div",{className:"index-prcie",children:["Index: ",Object(u.jsxs)("span",{className:g,children:["\xa0 ",Object(u.jsx)(d.a,{value:s.index,decimalScale:2})]})]}),Object(u.jsxs)("div",{className:"funding-rate",children:[Object(u.jsx)("span",{children:"Funding: \xa0"}),Object(u.jsx)("span",{className:"funding-per",title:s.fundingRateTip,children:Object(u.jsx)(d.a,{value:s.fundingRate.fundingRate0,decimalScale:4,suffix:"%"})})]})]})]}),Object(u.jsxs)("div",{className:I,children:[Object(u.jsx)("div",{className:"check-long",onClick:()=>k("long"),children:"LONG / BUY"}),Object(u.jsx)("div",{className:"check-short",onClick:()=>k("short"),children:"SHORT / SELL"})]}),Object(u.jsxs)("div",{className:"the-input",children:[Object(u.jsxs)("div",{className:"left",children:[Object(u.jsxs)("div",{className:"current-position",children:[Object(u.jsx)("span",{children:"Current Position"}),Object(u.jsx)("span",{className:"position-text",children:Object(u.jsx)(d.a,{value:s.position.volume,allowZero:!0})})]}),Object(u.jsxs)("div",{className:"contrant",children:[Object(u.jsx)("input",{type:"number",onFocus:e=>{e.target.setAttribute("class","contrant-input inputFamliy")},onBlur:e=>{const s=e.target;""===s.value&&s.setAttribute("class","contrant-input")},onKeyPress:e=>{(e.which<48||e.which>57)&&e.preventDefault()},disabled:!s.index||0===Math.abs(s.position.margin),onChange:e=>(e=>{let{value:a}=e.target;"0"===a&&(a=""),s.setVolume(a),f(!0)})(e),value:s.volumeDisplay,className:C,placeholder:"Contract Volume"}),Object(u.jsx)("div",{className:"title-volume",children:"Contract Volume"})]}),!!s.volumeDisplay&&Object(u.jsx)("div",{className:"btc",children:Object(u.jsx)(d.a,{value:s.amount.exchanged,allowNegative:!1,decimalScale:4,prefix:"= ",suffix:` ${o.unit}`})})]}),Object(u.jsx)("div",{className:"right-info",children:Object(u.jsxs)("div",{className:`contrant-info ${a.current}`,children:[Object(u.jsxs)("div",{className:"balance-contract",children:[a.isV1&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("span",{className:"balance-contract-text pc v1",children:["Balance in Contract",Object(u.jsx)("br",{}),"(Dynamic Balance)"]}),Object(u.jsxs)("span",{className:"balance-contract-text mobile v1",children:["Balance in Contract",Object(u.jsx)("br",{}),"(Dyn Bal.)"]})]}),a.isV2&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{className:"balance-contract-text pc",title:"Discounted Margin + Unrealized PnL",children:"Dynamic Effective Bal"}),Object(u.jsx)("span",{className:"balance-contract-text mobile",title:"Discounted Margin + Unrealized PnL",children:"Dyn. Eff. Bal"})]}),Object(u.jsx)("span",{className:`balance-contract-num ${a.current}`,children:Object(u.jsx)(d.a,{value:s.amount.dynBalance,allowZero:!0,decimalScale:2})})]}),a.isV1&&Object(u.jsxs)("div",{className:"box-margin",children:[Object(u.jsx)("span",{children:"Margin"}),Object(u.jsx)("span",{className:"margin",children:Object(u.jsx)(d.a,{value:s.amount.margin,allowZero:!0,decimalScale:2})})]}),a.isV2&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"box-margin",children:"Margin"}),Object(u.jsxs)("div",{className:"box-margin",children:[Object(u.jsx)("span",{className:"total-held",title:"Margin held by all positions",children:"\xa0- total held "}),Object(u.jsx)("span",{className:"margin",children:Object(u.jsx)(d.a,{value:s.amount.margin,allowZero:!0,decimalScale:2})})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{className:"pos-held",title:"Margin held by this position",children:"\xa0- for this pos "}),Object(u.jsx)("span",{className:"margin",children:Object(u.jsx)(d.a,{value:s.amount.currentSymbolMarginHeld,allowZero:!0,decimalScale:2})})]})]}),Object(u.jsxs)("div",{className:"available-balance",children:[Object(u.jsx)("span",{className:"available-balance pc",title:"Dynamic Effective Bal - Margin Total Held",children:" Available Balance "}),Object(u.jsx)("span",{className:"available-balance mobile",children:"Avail. Bal"}),Object(u.jsx)("span",{className:"available-balance-num",children:Object(u.jsx)(d.a,{value:s.amount.available,allowZero:!0,decimalScale:2})})]})]})})]}),Object(u.jsx)("div",{className:"slider mt-13",children:Object(u.jsx)(T,{max:s.amount.dynBalance,onValueChange:(e,a)=>{s.setSlideMargin(e),f(!1),a&&l("long"===i?"short":"long")},start:s.amount.margin,freeze:v,currentSymbolMarginHeld:s.position.marginHeldBySymbol,originMarginHeld:s.position.marginHeld,setStopCalculate:e=>y(e)})}),Object(u.jsx)("div",{className:"title-margin",children:"Margin"}),Object(u.jsx)("div",{className:"enterInfo",children:!!s.volumeDisplay&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"text-info",children:[Object(u.jsx)("div",{className:"title-enter pool",children:"Pool Liquidity"}),Object(u.jsx)("div",{className:"text-enter poolL",children:Object(u.jsx)(d.a,{value:s.fundingRate.liquidity,decimalScale:2,suffix:` ${o.bTokenSymbol}`})})]}),Object(u.jsxs)("div",{className:"text-info",children:[Object(u.jsx)("div",{className:"title-enter",children:"Liquidity Used"}),Object(u.jsxs)("div",{className:"text-enter",children:[Object(u.jsx)(d.a,{value:O.curLiqUsed,suffix:"%",decimalScale:2})," -> ",Object(u.jsx)(d.a,{value:O.afterLiqUsed,decimalScale:2,suffix:"%"})]})]}),Object(u.jsxs)("div",{className:"text-info",children:[Object(u.jsx)("div",{className:"title-enter",children:"Funding Rate Impact"}),Object(u.jsxs)("div",{className:"text-enter",children:[Object(u.jsx)(d.a,{value:s.fundingRate.fundingRate0,suffix:"%",decimalScale:4})," -> ",Object(u.jsx)(d.a,{value:A,decimalScale:4,suffix:"%"})]})]}),Object(u.jsxs)("div",{className:"text-info",children:[Object(u.jsx)("div",{className:"title-enter",children:"Transaction Fee"}),Object(u.jsx)("div",{className:"text-enter",children:Object(u.jsx)(d.a,{value:b,allowZero:!0,decimalScale:2,suffix:` ${o.bTokenSymbol}`})})]})]})}),Object(u.jsx)(L,{hasConnectWallet:S,transFee:b,wallet:e,spec:s.config,indexPrice:s.index,available:s.amount.available,volume:s.volumeDisplay,direction:i,leverage:s.amount.leverage,afterTrade:()=>{s.setVolume(""),s.refresh()},position:s.position,trading:s,symbolId:s.config&&s.config.symbolId,bTokenId:s.config&&s.config.bTokenId,version:a})]})})})));s.a=Object(j.b)("wallet","trading")(Object(j.c)((function({wallet:e,trading:s,isPro:a}){const[c,i]=Object(t.useState)("trade"),l=e=>i(e),o=n()("trade-position",c);return Object(u.jsxs)("div",{className:o,children:[Object(u.jsx)("div",{className:"header-top",children:Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)("span",{className:"trade",onClick:()=>l("trade"),children:"TRADE"}),!a&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{className:"pc position",onClick:()=>l("position"),children:"MY POSITION"}),Object(u.jsx)("span",{className:"mobile position",onClick:()=>l("position"),children:"POSITION"}),Object(u.jsx)("span",{className:"history",onClick:()=>l("history"),children:"HISTORY"})]})]})}),Object(u.jsx)(z,{}),Object(u.jsx)(N,{}),Object(u.jsx)(S,{wallet:e,spec:s.config,specs:s.configs}),Object(u.jsx)(k,{})]})})))},558:function(e,s,a){"use strict";s.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAASCAYAAAC5DOVpAAAACXBIWXMAAAsSAAALEgHS3X78AAAArUlEQVQ4ja2UUQ0CMQxAHwQBOEACSDgJOMDCOWAoOAuggElAAjg5FJQ0lMuyDHIbfUmzj3Zv3ZoMEfkWQd4Ey/cisvtRz5L5rIFoa5EambIBbl4yZQucvWTKAei9ZMoA7P+VnYCFRUwTq6xQT7o29WmdBUBsjXZyDdP+0jU1eWntrIRO6uElG4EOeHrIUuE4V5ZPM+dugb1laO2sGldZes2jRTv2sX0+wlaCiPACF2WaE4qSlAwAAAAASUVORK5CYII="},559:function(e,s,a){"use strict";s.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABO0lEQVQ4jaVV223DMAy8BvmvRvAG8QgeISN4lIyQDeoRMoK7gUfQBnUnYMH0LmAU2YETAoQhPs4niWd/mBkWLAE4AmiK9ATgstS0q8QcaADwA6Cv5E4AZj4fzRkG78xsNrOLmTVFrqyb6CnmYlFr/9avAJU+mFmOoCpIZLYFTO6gYwk4cJtbwUQmi4wC9uTMnnnP84QW4xtg8iupHedsrIxNCrG+GKGWsxhrvh1rT8AcwBz8wKaOw/3F/MzB9ppPPttysHNYq0GK0PqXnhnLoebO9oFZ3N7IbaupKwA61p2Lo7peylE39IZrUpJAZsrpVdCT5jgGXmXZREIxMVExW1Xifefax0ESGsovyAozB7uTbO2NrpqbNhdY+RH5Nm/MlgDl0qabv0CumLOqXuLaL8DNVVT7BfhwPxqAP4UiW3Wp1wTfAAAAAElFTkSuQmCC"},561:function(e,s,a){"use strict";s.a="data:image/png;base64,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"},584:function(e,s,a){}}]);
//# sourceMappingURL=2.aa532cab.chunk.js.map