(this["webpackJsonpapp.deri.finance"]=this["webpackJsonpapp.deri.finance"]||[]).push([[13],{635:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));i(6);var n=i(25),s=i(613),a=i.n(s),o=i(32),r=i(20);function c({lite:e=!1,lang:t}){const i=Object(n.useHistory)(),s=a()("check-lite-pro",{lite:e,pro:!e}),c=e=>{i.push(e)};return Object(r.jsxs)("div",{className:s,children:[o.a.isFuture&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"lite",onClick:()=>c("/futures/lite"),children:t.lite}),Object(r.jsxs)("div",{className:"pro",onClick:()=>c("/futures/pro"),children:[" ",t.pro]})]}),o.a.isOption&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"lite",onClick:()=>c("/options/lite"),children:t.lite}),Object(r.jsxs)("div",{className:"pro",onClick:()=>c("/options/pro"),children:[" ",t.pro]})]})]})}},636:function(e,t,i){},637:function(e,t,i){},711:function(e){e.exports=JSON.parse('{"container_id":"tv-container","library_path":"/charting_library/","custom_css_url":"/style/tradingview-overide.css","disabled_features":["header_widget","timeframes_toolbar","go_to_date"],"fullscreen":false,"autosize":true,"overrides":{"paneProperties.background":"#212327","paneProperties.vertGridProperties.color":"#212327","paneProperties.horzGridProperties.color":"#212327","scalesProperties.textColor":"#aaa","mainSeriesProperties.candleStyle.upColor":"#4bffb5","mainSeriesProperties.candleStyle.downColor":"#d75442","mainSeriesProperties.candleStyle.borderColor":"#378658","mainSeriesProperties.candleStyle.borderUpColor":"#4bffb5","mainSeriesProperties.candleStyle.borderDownColor":"#ff4976","mainSeriesProperties.candleStyle.wickUpColor":"#838ca1","mainSeriesProperties.candleStyle.wickDownColor":"#838ca1"},"toolbar_bg":"#212327","timezone":"Asia/Shanghai","session":"24x7"}')},712:function(e,t,i){},713:function(e,t,i){},714:function(e,t,i){},784:function(e,t,i){"use strict";i.r(t);var n=i(6),s=i(98),a=i(36);const o={};let r=null;const c=Object(s.io)("wss://oracle2.deri.finance",{transports:["websocket"],withCredentials:!0});var l,d,p=[],b=null;window.sub_index=0;c.on("connect",(e=>{b&&b.updated&&c.emit("get_kline_update",b),console.log("socket,connect")})),c.on("kline_update",(e=>{let t={},i=e.time;e.time_type===b.time_type&&e.symbol.toUpperCase()===b.symbol.toUpperCase()&&(t.time=i,t.low=Number(e.low),t.high=Number(e.high),t.open=Number(e.open),t.close=Number(e.close),t.volume=Number(e.volume),r&&r(t))})),c.on("kline_history",(e=>{let t=b.symbol;if(p=e.map((e=>(t=e.symbol,{time:e.time,low:Number(e.low),high:Number(e.high),open:Number(e.open),close:Number(e.close),volume:Number(e.volume)}))),l){var i=p[p.length-1];o[b.symbol]={lastBar:i}}p.length;if(b.symbol.toUpperCase()===t.toUpperCase()){const e={noData:!(p.length>0)};d(p,e)}}));var j=i(613),u=i.n(j),h=i(49),m=i(32),O=i(693),f=i.n(O),v=i(755),g=i(656),y=i.n(g),_=i(20);const x=Object(s.io)("wss://oracle2.deri.finance",{transports:["websocket"],withCredentials:!0});var N=Object(h.b)("intl")(Object(h.c)((function({symbol:e,interval:t="1",intl:i,displayCandleData:s}){const o=Object(n.useRef)(null),r=Object(n.useRef)(null),c=Object(n.useRef)(null),l=Object(n.useRef)(null),d=Object(n.useRef)(null),[p,b]=Object(n.useState)(!0),j=Object(n.useRef)(),u=async()=>{if(e){r.current=o.current.addCandlestickSeries({upColor:"#4bffb5",downColor:"#ff4976",borderDownColor:"#ff4976",borderUpColor:"#4bffb5",wickDownColor:"#838ca1",wickUpColor:"#838ca1"});const i=Object(a.c)(t);d.current=l.current,l.current={symbol:Object(a.h)(`${e}-MARKPRICE`),interval:a.k[t]};const n=`https://oracle2.deri.finance/get_kline?symbol=${l.current.symbol}&time_type=${l.current.interval}&from=${i[0]}&to=${i[1]}`;b(!0);const p=await y.a.get(n);if(p&&p.data){const{data:e}=p;if(e.data instanceof Array){const t=e.data;r.current.setData(t),c.current=t[t.length-1]}else r.current.setData([]);b(!1),s&&s({data:c.current}),j.current&&(d.current&&x.emit("un_get_kline",{symbol:d.current.symbol,time_type:d.current.interval}),x.emit("get_kline_update",{symbol:l.current.symbol,time_type:l.current.interval,updated:!0})),x.on("kline_update",(e=>{let t={};c.current.time<=e.time&&e.time_type===l.current.interval&&e.symbol.toUpperCase()===l.current.symbol.toUpperCase()&&(t.time=e.time,t.low=Number(e.low),t.high=Number(e.high),t.open=Number(e.open),t.close=Number(e.close),t.volume=Number(e.volume),r.current.update(t),c.current=t,s&&s({data:t}))}))}}},h=e=>{if(e.point&&"function"===typeof s){const t={time:e.time,data:e.seriesPrices.values().next().value};s(t)}};return Object(n.useEffect)((()=>(o.current&&(o.current.remove(),o.current=null),r.current&&(r.current=null),o.current=Object(v.b)("ligth-chart-container",{localization:{timeFormatter:e=>f()(e,"yyyy-mm-dd HH:MM")},width:1198,height:468,timeScale:{rightOffset:3,timeVisible:!0,borderColor:"#fff",tickMarkFormatter:(e,i,n)=>{const s="1W"===t||"1D"===t?"yyyy-mm-dd HH:MM":"HH:MM";return f()(e,s)}},priceScale:{borderColor:"#fff",mode:1},crosshair:{mode:v.a.Normal,vertLine:{color:"#fff",labelBackgroundColor:"#569bda"},horzLine:{color:"#fff",labelBackgroundColor:"#569bda"}},grid:{vertLines:{visible:!1},horzLines:{visible:!1}},layout:{backgroundColor:"#212327",textColor:"#aaa",fontSize:12}}),o.current.subscribeCrosshairMove(h),e&&u(),()=>{o.current.unsubscribeCrosshairMove(h),d.current&&x.emit("un_get_kline",{symbol:d.current.symbol,time_type:d.current.interval}),l.current&&x.emit("un_get_kline",{symbol:l.current.symbol,time_type:l.current.interval})})),[e,t]),Object(n.useEffect)((()=>(x.on("connect",(e=>{j.current&&l.current&&(console.log(`kline for :${l.current.symbol} - ${l.current.interval} reconnect`),x.emit("get_kline_update",{symbol:l.current.symbol,time_type:l.current.interval,updated:!0})),j.current=!0})),()=>{})),[]),Object(_.jsx)("div",{className:"ligth-chart-container",id:"ligth-chart-container",children:Object(_.jsx)("div",{className:"loading",style:{display:p?"block":"none"},children:Object(_.jsx)("div",{className:"spinner-border",role:"status",children:Object(_.jsx)("span",{className:"sr-only"})})})})}))),w=function(){return(w=Object.assign||function(e){for(var t,i=arguments,n=1,s=arguments.length;n<s;n++)for(var a in t=i[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function S(e,t){var i=w({},e);for(var n in t)"object"!=typeof e[n]||null===e[n]||Array.isArray(e[n])?void 0!==t[n]&&(i[n]=t[n]):i[n]=S(e[n],t[n]);return i}var C={mobile:{disabled_features:["left_toolbar","header_widget","timeframes_toolbar","edit_buttons_in_legend","context_menus","control_bar","border_around_the_chart"],enabled_features:[]}},A={width:800,height:500,interval:"1D",timezone:"Etc/UTC",container_id:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},trading_customization:{position:{},order:{}},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"1W"},{text:"1y",resolution:"1W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",favorites:{intervals:[],chartTypes:[]}};var I=function(){function e(e){if(this._id="tradingview_"+(1048576*(1+Math.random())|0).toString(16).substring(1),this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!e.datafeed)throw new Error("Datafeed is not defined");if(this._options=S(A,e),e.preset){var t=C[e.preset];t?(void 0!==this._options.disabled_features?this._options.disabled_features=this._options.disabled_features.concat(t.disabled_features):this._options.disabled_features=t.disabled_features,void 0!==this._options.enabled_features?this._options.enabled_features=this._options.enabled_features.concat(t.enabled_features):this._options.enabled_features=t.enabled_features):console.warn("Unknown preset: `"+e.preset+"`")}"Dark"===this._options.theme&&void 0===this._options.loading_screen&&(this._options.loading_screen={backgroundColor:"#131722"}),this._create()}return e.prototype.onChartReady=function(e){this._ready?e.call(this):this._readyHandlers.push(e)},e.prototype.headerReady=function(){var e=this;return this._innerWindowLoaded.then((function(){return e._innerWindow().headerReady()}))},e.prototype.onGrayedObjectClicked=function(e){this._innerAPI().onGrayedObjectClicked(e)},e.prototype.onShortcut=function(e,t){this._innerWindow().createShortcutAction(e,t)},e.prototype.subscribe=function(e,t){this._innerAPI().subscribe(e,t)},e.prototype.unsubscribe=function(e,t){this._innerAPI().unsubscribe(e,t)},e.prototype.chart=function(e){return this._innerAPI().chart(e)},e.prototype.getLanguage=function(){return this._options.locale},e.prototype.setSymbol=function(e,t,i){this._innerAPI().changeSymbol(e,t,i)},e.prototype.remove=function(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id],this._iFrame.parentNode&&this._iFrame.parentNode.removeChild(this._iFrame)},e.prototype.closePopupsAndDialogs=function(){this._innerAPI().closePopupsAndDialogs()},e.prototype.selectLineTool=function(e){this._innerAPI().selectLineTool(e)},e.prototype.selectedLineTool=function(){return this._innerAPI().selectedLineTool()},e.prototype.save=function(e){this._innerAPI().saveChart(e)},e.prototype.load=function(e,t){this._innerAPI().loadChart({json:e,extendedData:t})},e.prototype.getSavedCharts=function(e){this._innerAPI().getSavedCharts(e)},e.prototype.loadChartFromServer=function(e){this._innerAPI().loadChartFromServer(e)},e.prototype.saveChartToServer=function(e,t,i){this._innerAPI().saveChartToServer(e,t,i)},e.prototype.removeChartFromServer=function(e,t){this._innerAPI().removeChartFromServer(e,t)},e.prototype.onContextMenu=function(e){this._innerAPI().onContextMenu(e)},e.prototype.createButton=function(e){return this._innerWindow().createButton(e)},e.prototype.showNoticeDialog=function(e){this._innerAPI().showNoticeDialog(e)},e.prototype.showConfirmDialog=function(e){this._innerAPI().showConfirmDialog(e)},e.prototype.showLoadChartDialog=function(){this._innerAPI().showLoadChartDialog()},e.prototype.showSaveAsChartDialog=function(){this._innerAPI().showSaveAsChartDialog()},e.prototype.symbolInterval=function(){return this._innerAPI().getSymbolInterval()},e.prototype.mainSeriesPriceFormatter=function(){return this._innerAPI().mainSeriesPriceFormatter()},e.prototype.getIntervals=function(){return this._innerAPI().getIntervals()},e.prototype.getStudiesList=function(){return this._innerAPI().getStudiesList()},e.prototype.addCustomCSSFile=function(e){this._innerWindow().addCustomCSSFile(e)},e.prototype.applyOverrides=function(e){this._options=S(this._options,{overrides:e}),this._innerWindow().applyOverrides(e)},e.prototype.applyStudiesOverrides=function(e){this._innerWindow().applyStudiesOverrides(e)},e.prototype.watchList=function(){return this._innerAPI().watchlist()},e.prototype.activeChart=function(){return this._innerAPI().activeChart()},e.prototype.chartsCount=function(){return this._innerAPI().chartsCount()},e.prototype.layout=function(){return this._innerAPI().layout()},e.prototype.setLayout=function(e){this._innerAPI().setLayout(e)},e.prototype.layoutName=function(){return this._innerAPI().layoutName()},e.prototype.changeTheme=function(e,t){this._innerWindow().changeTheme(e,t)},e.prototype.getTheme=function(){return this._innerWindow().getTheme()},e.prototype.takeScreenshot=function(){this._innerAPI().takeScreenshot()},e.prototype.lockAllDrawingTools=function(){return this._innerAPI().lockAllDrawingTools()},e.prototype.hideAllDrawingTools=function(){return this._innerAPI().hideAllDrawingTools()},e.prototype.drawOnAllCharts=function(e){this._innerAPI().drawOnAllCharts(e)},e.prototype.magnetEnabled=function(){return this._innerAPI().magnetEnabled()},e.prototype.magnetMode=function(){return this._innerAPI().magnetMode()},e.prototype.undoRedoState=function(){return this._innerAPI().undoRedoState()},e.prototype.setIntervalLinkingEnabled=function(e){this._innerAPI().setIntervalLinkingEnabled(e)},e.prototype.setTimeFrame=function(e){this._innerAPI().setTimeFrame(e)},e.prototype.symbolSync=function(){return this._innerAPI().symbolSync()},e.prototype.intervalSync=function(){return this._innerAPI().intervalSync()},e.prototype.crosshairSync=function(){return this._innerAPI().crosshairSync()},e.prototype.timeSync=function(){return this._innerAPI().timeSync()},e.prototype.getAllFeatures=function(){return this._innerWindow().getAllFeatures()},e.prototype.clearUndoHistory=function(){return this._innerAPI().clearUndoHistory()},e.prototype.undo=function(){return this._innerAPI().undo()},e.prototype.redo=function(){return this._innerAPI().redo()},e.prototype.startFullscreen=function(){this._innerAPI().startFullscreen()},e.prototype.exitFullscreen=function(){this._innerAPI().exitFullscreen()},e.prototype.takeClientScreenshot=function(e){return this._innerAPI().takeClientScreenshot(e)},e.prototype._innerAPI=function(){return this._innerWindow().tradingViewApi},e.prototype._innerWindow=function(){return this._iFrame.contentWindow},e.prototype._autoResizeChart=function(){this._options.fullscreen&&(this._iFrame.style.height=window.innerHeight+"px")},e.prototype._create=function(){var e=this,t=this._render(),i=document.getElementById(this._options.container_id);if(null===i)throw new Error("There is no such element - #"+this._options.container_id);i.innerHTML=t,this._iFrame=i.querySelector("#"+this._id);var n=this._iFrame;(this._options.autosize||this._options.fullscreen)&&(n.style.width="100%",this._options.fullscreen||(n.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize(),this._innerWindowLoaded=new Promise((function(e){n.addEventListener("load",(function t(){n.removeEventListener("load",t,!1),e()}),!1)})),this._innerWindowLoaded.then((function(){e._innerWindow().widgetReady((function(){e._ready=!0;for(var t=0,i=e._readyHandlers;t<i.length;t++){var n=i[t];try{n.call(e)}catch(s){console.error(s)}}e._innerWindow().initializationFinished()}))}))},e.prototype._render=function(){var e=window;if(e[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.custom_formatters||this._options.customFormatters,brokerFactory:this._options.broker_factory||this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,tradingCustomization:this._options.trading_customization,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.broker_config||this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,getCustomIndicators:this._options.custom_indicators_getter},this._options.saved_data)e[this._id].chartContent={json:this._options.saved_data},this._options.saved_data_meta_info&&(e[this._id].chartContentExtendedData=this._options.saved_data_meta_info);else if(!this._options.load_last_chart&&!this._options.symbol)throw new Error("Symbol is not defined: either 'symbol' or 'load_last_chart' option must be set");var t=(this._options.library_path||"")+(encodeURIComponent(this._options.locale)+"-tv-chart.b555c6a4.html#symbol=")+encodeURIComponent(this._options.symbol||"")+"&interval="+encodeURIComponent(this._options.interval)+(this._options.timeframe?"&timeframe="+encodeURIComponent(this._options.timeframe):"")+(this._options.toolbar_bg?"&toolbarbg="+encodeURIComponent(this._options.toolbar_bg.replace("#","")):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+encodeURIComponent(String(this._options.debug))+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"")+(this._options.compare_symbols?"&compareSymbols="+encodeURIComponent(JSON.stringify(this._options.compare_symbols)):"")+(this._options.theme?"&theme="+encodeURIComponent(String(this._options.theme)):"");return'<iframe id="'+this._id+'" name="'+this._id+'"  src="'+t+'"'+(this._options.autosize||this._options.fullscreen?"":' width="'+this._options.width+'" height="'+this._options.height+'"')+' frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="display:block;"></iframe>'},e}();window.TradingView=window.TradingView||{},window.TradingView.version=function(){return"CL v18.043 (internal id b555c6a4 @ 2021-02-18T09:41:15.150Z)"};var k=i(711);const P=["1","5","15","30","60","240","1D","5D","1W","1M"],R=Object(s.io)("wss://oracle2.deri.finance",{transports:["websocket"],withCredentials:!0});var D=Object(h.b)("intl")(Object(h.c)((function({interval:e,symbol:t,showLoad:i,intl:s}){const o=Object(n.useRef)(null),r=Object(n.useRef)(null),c=Object(n.useRef)(null),l=Object(n.useRef)(null),d=Object(n.useRef)(null),p=Object(n.useRef)(),b=Object(n.useRef)({onReady:e=>{setTimeout((()=>e({supported_resolutions:P})),0)},getBars:(e,t,i,n,s,a,o)=>j(e,t,i,n,s,a,o),resolveSymbol:(e,t)=>m(e,t),subscribeBars:(e,t,i,n,s)=>u(e,t,i,n,s),unsubscribeBars:e=>h(e)}),j=async(e,t,n,s,o,d,p)=>{c.current=r.current,r.current={symbol:e.name.toUpperCase(),formatSymbol:Object(a.h)(e.name),interval:a.k[t]};const b=await y.a.get("https://oracle2.deri.finance/get_kline",{params:{symbol:r.current.formatSymbol,time_type:r.current.interval,from:n,to:s}});if(p&&b&&200===b.status&&Array.isArray(b.data.data)){const e=b.data.data;i(!1),o(e),l.current=e[e.length-1]}else o([],{noData:!0})},u=(e,t,i,n,s)=>{R.emit("get_kline_update",{symbol:Object(a.h)(e.name),time_type:r.current.interval,update:!0}),d.current=i},h=e=>{R.emit("un_get_kline",{symbol:r.current.formatSymbol,time_type:r.current.interval})},m=(e,t)=>{setTimeout((()=>t({name:e,pricescale:100,ticker:e,minmov:1,type:"crypto",has_intraday:!0,intraday_multipliers:["1","2","5","15","30","60","240","1D","7D","1W","1M"],has_weekly_and_monthly:!0,has_no_volume:!0,pro_name:e,has_daily:!0,timezone:"UTC",session:"24x7",exchange:"Deri",supported_resolutions:P})),0)};return Object(n.useEffect)((()=>(R.on("connect",(()=>{p.current&&(console.log(`kline for : ${r.current.formatSymbol} - ${r.current.interval} reconnect`),R.emit("get_kline_update",{symbol:r.current.formatSymbol,time_type:r.current.interval,update:!0})),R.on("kline_update",(e=>{d.current&&d.current(e)})),p.current=!0})),()=>{})),[]),Object(n.useEffect)((()=>(t&&e&&(()=>{const n={symbol:t,datafeed:b.current,interval:e,locale:s.locale,...k};o.current=new I(n),o.current.onChartReady((()=>{i&&i(!1)}))})(),()=>{o.current&&o.current.remove()})),[t,e]),Object(_.jsx)("div",{id:"tv-container"})})));var L=Object(h.b)("intl","trading")(Object(h.c)((function({symbol:e,lang:t,intl:i,version:s}){const[o,r]=Object(n.useState)(!0),[c,l]=Object(n.useState)("one"),[d,p]=Object(n.useState)(""),[b,j]=Object(n.useState)("1"),[h,O]=Object(n.useState)(""),f=u()("btn",c),v=u()("switcher",d),g=(e,t)=>{l(t),j(e)},y=e=>{p(e)};return Object(n.useEffect)((()=>(m.a.isOption?p("mark-price"):p("index-price"),()=>{})),[]),Object(_.jsxs)("div",{id:"tradingview",children:[m.a.isOption&&Object(_.jsxs)("div",{className:v,children:[Object(_.jsx)("span",{className:"mark-price-c",onClick:()=>y("mark-price"),children:"Option Mark Price"}),Object(_.jsxs)("span",{className:"index-price-c",onClick:()=>y("index-price"),children:[Object(a.s)(e)||"index"," Price"]})]}),Object(_.jsxs)("div",{className:f,children:[Object(_.jsxs)("span",{className:"candle-data-area",children:[Object(_.jsx)("span",{className:"symbol-value",style:{display:"mark-price"===d?"inline-block":"none"},children:h&&e}),Object(_.jsx)("span",{className:"candle-data",style:{display:"mark-price"===d?"inline-block":"none"},children:h})]}),Object(_.jsxs)("span",{className:"interval",children:[Object(_.jsxs)("span",{className:"tab-btn one",onClick:()=>g("1","one"),children:["1",t.min]}),Object(_.jsxs)("span",{className:"tab-btn five",onClick:()=>g("5","five"),children:["5",t.min]}),Object(_.jsxs)("span",{className:"tab-btn fifteen",onClick:()=>g("15","fifteen"),children:["15",t.min]}),Object(_.jsxs)("span",{className:"tab-btn thirty",onClick:()=>g("30","thirty"),children:["30",t.min]}),Object(_.jsxs)("span",{className:"tab-btn sixty",onClick:()=>g("60","sixty"),children:["1",t.hour]}),Object(_.jsxs)("span",{className:"tab-btn one-day",onClick:()=>g("1D","one-day"),children:["1",t.day]}),Object(_.jsxs)("span",{className:"tab-btn one-week",onClick:()=>g("1W","one-week"),children:["1",t.week]})]})]}),Object(_.jsx)("div",{className:"loading",style:{display:o?"block":"none"},children:Object(_.jsx)("div",{className:"spinner-border",role:"status",children:Object(_.jsx)("span",{className:"sr-only"})})}),Object(_.jsx)("div",{style:{display:"index-price"===d?"block":"none"},children:Object(_.jsx)(D,{symbol:e,interval:b,showLoad:e=>r(e)})}),m.a.isOption&&Object(_.jsx)("div",{id:"lightweight-chart",style:{display:"mark-price"===d?"block":"none"},children:Object(_.jsx)(N,{symbol:e,interval:b,displayCandleData:e=>{if(e&&e.data){const{data:t}=e,i=t.close-t.open>0?"rise":"down";O(Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("span",{children:"O"}),Object(_.jsx)("span",{className:i,children:t.open.toFixed(2)}),Object(_.jsx)("span",{children:"H"})," ",Object(_.jsxs)("span",{className:i,children:[" ",t.high.toFixed(2)]}),Object(_.jsx)("span",{children:"L"}),Object(_.jsx)("span",{className:i,children:t.low.toFixed(2)}),Object(_.jsx)("span",{children:"C"}),Object(_.jsx)("span",{className:i,children:t.close.toFixed(2)})]}))}},showLoad:e=>r(e)})})]})}))),F=i(615),M=i(17);var U=Object(h.b)("trading","version","type")(Object(h.c)((function({version:e,trading:t,lang:i,type:s}){const[a,o]=Object(n.useState)("rise"),[r,c]=Object(n.useState)("rise"),[l,d]=Object(n.useState)(),p=Object(n.useRef)(),b=Object(n.useRef)();return Object(n.useEffect)((()=>(p.current&&(p.current>t.index?o("fall"):o("rise")),p.current=t.index,()=>{})),[t.index]),Object(n.useEffect)((()=>{if(s.isOption&&t.index&&t.position.strikePrice&&t.position.timePrice){let e=t.position.markPrice;b.current>e?c("fall trade-dashboard-value"):c("rise trade-dashboard-value"),b.current=e,d(e)}}),[t.index,t.position]),Object(_.jsxs)("div",{id:"trading-view",children:[Object(_.jsxs)("div",{className:"right-top",children:[Object(_.jsx)("div",{className:"symbol-basetoken-text",children:s.isOption?`${t.config?t.config.symbol:""}`:e.isV1||e.isV2Lite?`${t.config?t.config.symbol:"BTCUSD"} / ${t.config?t.config.bTokenSymbol:""}  (10X)`:`${t.config?t.config.symbol:"BTCUSD"} (10X)`}),s.isFuture&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(_.jsx)("div",{className:"trade-dashboard-title",children:i["index-price"]}),Object(_.jsx)("div",{className:a,children:Object(_.jsx)(F.a,{value:t.index,decimalScale:2})})]}),Object(_.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(_.jsxs)("div",{className:"trade-dashboard-title",children:[Object(_.jsx)("span",{children:i["funding-rate-annual"]}),"  "]}),Object(_.jsx)("div",{className:"trade-dashboard-value",children:Object(_.jsx)("span",{className:"funding-per",title:t.fundingRateTip,children:Object(_.jsx)(F.a,{value:t.fundingRate.fundingRate0,decimalScale:4,suffix:"%"})})})]}),Object(_.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(_.jsx)("div",{className:"trade-dashboard-title",children:i["total-net-position"]}),Object(_.jsx)("div",{className:"trade-dashboard-value",children:Object(_.jsx)(F.a,{value:t.fundingRate.tradersNetVolume})})]})]}),s.isOption&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("div",{className:"trade-dashboard-item latest-price option-price-weight",children:[Object(_.jsx)("div",{className:"trade-dashboard-title",children:i["eo-mark-price"]}),Object(_.jsx)("div",{className:r,children:Object(_.jsx)(F.a,{value:l,decimalScale:4})})]}),Object(_.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(_.jsx)("div",{className:"trade-dashboard-title option-symbol",children:t.config&&s.isOption?t.config.symbol.split("-")[0]:""}),Object(_.jsxs)("div",{className:"trade-dashboard-value",children:[Object(_.jsxs)("span",{children:[" ",Object(_.jsx)(F.a,{value:t.index,decimalScale:2})," "]}),Object(_.jsx)("span",{className:"vol",children:" | "}),i.vol," : ",Object(_.jsx)(F.a,{value:t.position.volatility,decimalScale:2,suffix:"%"})]})]}),Object(_.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(_.jsxs)("div",{className:"trade-dashboard-title",children:[Object(_.jsx)("span",{children:i["funding-rate-annual"]}),"  "]}),Object(_.jsx)("div",{className:"trade-dashboard-value",children:Object(_.jsx)("span",{className:"funding-per",title:t.optionFundingRateTip,children:Object(_.jsx)(F.a,{value:t.fundingRate.premiumFunding0,decimalScale:4,suffix:"%"})})})]}),Object(_.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(_.jsx)("div",{className:"trade-dashboard-title",children:i["total-net-position"]}),Object(_.jsx)("div",{className:"trade-dashboard-value",children:Object(_.jsx)(F.a,{value:Object(M.e)(t.fundingRate.tradersNetVolume).times(t.contract.multiplier).toString(),decimalScale:4})})]})]}),Object(_.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(_.jsx)("div",{className:"trade-dashboard-title",children:i["pool-total-liquidity"]}),Object(_.jsxs)("div",{className:"trade-dashboard-value",children:[" ",Object(_.jsx)(F.a,{allowLeadingZeros:!0,value:t.fundingRate.liquidity,decimalScale:2})," ",t.config&&t.config.bTokenSymbol]})]})]}),Object(_.jsx)("div",{className:"tradingview",children:Object(_.jsx)(L,{symbol:t.config&&t.config.symbol,lang:i,version:e})})]})}))),z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAABHNCSVQICAgIfAhkiAAAAMRJREFUKFONksEZwiAMhV/uPegkdgN1A9ygbqCT2BG6gd1A3UBn0LsevGMItBYMfHIM+eHlvdDDNLUFDhWwmffdC4XzNM3sDRwJ2NPdbM/cuwTsleF1Dg7QCaCa+y/kC+TgRQ5OoFsFu+JfgRKsQU6VgDnY1XmmQZ78NIwyghrsn5SZIkiqqYmxbLn9gQrgKI97dLcVqd+ZghrV7cSc2Ahvjh7VJA7dvVxUYQF0qBTVZOV093SYV84vObUcrvlvyakn2N0H0tSinQfKeF4AAAAASUVORK5CYII=",T=i(156),E=i(622),W=i(625),H=i(627),V=i(628),q=i(632),B=i(626),Q=i(633);const Y=Object(T.a)(E.a),$=Object(T.a)(W.a),G=Object(T.a)(B.a);var Z=Object(h.b)("wallet","trading","version","type")(Object(h.c)((function({wallet:e,trading:t,version:i,lang:s,type:o}){const[r,c]=Object(n.useState)("LONG"),[l,d]=Object(n.useState)(!1),[p,b]=Object(n.useState)(!1),[j,u]=Object(n.useState)(!1),[h,m]=Object(n.useState)(!1),[O,f]=Object(n.useState)(""),[v,g]=Object(n.useState)(""),[y,x]=Object(n.useState)(""),N=()=>{S()},w=N,S=()=>{C(),t.refresh()},C=async()=>{if(e.isConnected()&&t.config){const i=await Object(M.L)(e.detail.chainId,t.config.pool,e.detail.account,t.config.bTokenId).catch((e=>console.log(e)));i&&f(i)}};return Object(n.useEffect)((()=>{if(t.position){const{position:e}=t,i=+e.volume>0?"LONG":e.volume&&!Object(a.d)(e.volume,0)&&e.volume?"SHORT":"--";c(i),g(Object(M.e)(e.margin).plus(e.unrealizedPnl).toString()),x(Object(M.e)(e.margin).plus(e.unrealizedPnl).minus(e.marginHeld).toString())}return()=>{}}),[t.position.volume,t.position.margin,t.position.unrealizedPnl]),Object(n.useEffect)((()=>(C(),()=>{})),[e.detail.account,t.config,t.amount.dynBalance]),Object(_.jsxs)("div",{className:"position-box",children:[Object(_.jsxs)("div",{className:"p-box theader",children:[Object(_.jsx)("div",{className:"position",children:s.position}),Object(_.jsx)("div",{className:"ave-entry-price",children:s["average-entry-price"]}),Object(_.jsx)("div",{className:"direction",children:s.direction}),Object(_.jsx)("div",{className:"dyn-eff-bal",children:i.isV1||i.isV2Lite?Object(_.jsxs)(_.Fragment,{children:[s["balance-in-contract"]," ",Object(_.jsx)("br",{})," (",s["dynamic-balance"],")"]}):s["dynamic-effective-balance"]}),Object(_.jsx)("div",{className:"margin",children:s.margin}),Object(_.jsx)("div",{className:"unrealized-pnl",children:s["unrealized-pnl"]}),Object(_.jsx)("div",{children:Object(_.jsx)("span",{className:"funding-fee",title:s["funding-fee-tip"],children:s["funding-fee"]})}),Object(_.jsx)("div",{className:"liquidation-price",children:s["liquidation-price"]})]}),Object(_.jsxs)("div",{className:"p-box tbody",children:[Object(_.jsxs)("div",{className:"position",children:[o.isOption?Object(_.jsx)(F.a,{value:Object(M.e)(t.position.volume).times(Object(M.e)(t.contract.multiplier)).toString(),allowZero:!0}):Object(_.jsx)(F.a,{value:t.position.volume,allowZero:!0}),Object(_.jsxs)("span",{className:"close-position",children:[!l&&Object(_.jsx)("img",{src:z,onClick:async()=>{d(!0);const i=await Object(M.f)(e.detail.chainId,t.config.pool,e.detail.account,t.config.symbolId).finally((()=>d(!1)));i.success?S():"string"===typeof i.error?alert(i.error||s["close-position-failed"]):"object"===typeof i.error?alert(i.error.errorMessage||s["close-position-failed"]):alert(s["close-position-failed"])},title:s["close-is-position"]}),Object(_.jsx)("span",{className:"spinner spinner-border spinner-border-sm",style:{display:l?"block":"none",marginLeft:"8px"}})]})]}),Object(_.jsx)("div",{className:"ave-entry-price",children:Object(_.jsx)(F.a,{value:t.position.averageEntryPrice,decimalScale:2})}),Object(_.jsx)("div",{className:r,children:s[r.toLowerCase()]||r}),Object(_.jsxs)("div",{className:"dyn-eff-bal",children:[Object(_.jsx)(F.a,{allowZero:!0,value:v,decimalScale:2}),i.isV1||i.isV2Lite||o.isOption?Object(_.jsxs)("span",{children:[Object(_.jsx)("span",{className:"open-add",id:"openAddMargin",onClick:()=>b(!0),children:Object(_.jsx)("img",{src:H.a,alt:"add margin"})}),Object(_.jsx)("span",{className:"open-remove",onClick:()=>u(!0),children:Object(_.jsx)("img",{src:V.a,alt:"add margin"})})]}):Object(_.jsxs)("span",{className:"balance-list-btn",onClick:()=>m(!0),children:[Object(_.jsx)("img",{src:q.a,alt:"Remove margin"})," ",s.detail]})]}),Object(_.jsx)("div",{className:"margin",children:Object(_.jsx)(F.a,{value:t.position.marginHeld,decimalScale:2})}),Object(_.jsx)("div",{className:"pnl",children:Object(_.jsxs)("span",{className:"pnl-list unrealized-pnl",children:[Object(_.jsx)(F.a,{value:t.position.unrealizedPnl,decimalScale:6}),(i.isV2||i.isV2Lite)&&t.position.unrealizedPnl&&Object(_.jsx)("img",{src:Q.a,alt:"unrealizePnl"}),(i.isV2||i.isV2Lite)&&Object(_.jsx)("div",{className:"pnl-box",children:t.position.unrealizedPnlList&&t.position.unrealizedPnlList.map(((e,t)=>Object(_.jsxs)("div",{className:"unrealizePnl-item",children:[Object(_.jsx)("span",{children:e[0]}),Object(_.jsx)("span",{children:Object(_.jsx)(F.a,{value:e[1],decimalScale:8})})]},t)))})]})}),Object(_.jsx)("div",{children:Object(_.jsx)(F.a,{value:-t.position.fundingFee,decimalScale:8})}),Object(_.jsx)("div",{className:"liquidation-price",children:Object(_.jsx)(F.a,{value:t.position.liquidationPrice,decimalScale:2})})]}),Object(_.jsx)("div",{className:"p-box tbody"}),Object(_.jsx)(Y,{wallet:e,modalIsOpen:p,onClose:()=>b(!1),spec:t.config,afterDeposit:w,balance:O,className:"trading-dialog",lang:s}),Object(_.jsx)($,{wallet:e,modalIsOpen:j,onClose:()=>u(!1),spec:t.config,afterWithdraw:N,availableBalance:y,position:t.position,className:"trading-dialog",lang:s}),Object(_.jsx)(G,{wallet:e,modalIsOpen:h,onClose:()=>m(!1),spec:t.config,afterDepositAndWithdraw:()=>{S()},position:t.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog",lang:s})]})})));const J=Object(T.a)(E.a),K=Object(T.a)(W.a),X=Object(T.a)(B.a);function ee({wallet:e,trading:t,lang:i}){const[s,a]=Object(n.useState)(Object(_.jsx)("span",{}));return Object(n.useEffect)((()=>{if(e.isConnected()&&t.positions&&t.positions.length&&t.positions[0].liquidationPrice){let e=t.positions[0].liquidationPrice.map((e=>(e=>{let t=Object(_.jsx)("span",{children:"--"});return e.numPositions>1?(e.price1&&e.price2?t=Object(_.jsxs)("span",{children:[Object(_.jsxs)("span",{children:[e.underlier,": "]}),Object(_.jsxs)("span",{children:[Object(_.jsx)(F.a,{decimalScale:2,value:e.price1}),Object(_.jsx)("span",{children:" / "}),Object(_.jsx)(F.a,{decimalScale:2,value:e.price2})]}),"\xa0"]}):e.price1||e.price2?!e.price1&&e.price2?t=Object(_.jsxs)("span",{children:[Object(_.jsxs)("span",{children:[e.underlier,": "]}),Object(_.jsxs)("span",{children:[Object(_.jsx)("span",{className:"funding-fee",title:i["liq-price-hover"],children:" ? "}),Object(_.jsx)("span",{children:" / "}),Object(_.jsxs)("span",{children:[" ",Object(_.jsx)(F.a,{decimalScale:2,value:e.price2})," "]})]}),"\xa0"]}):e.price1&&!e.price2&&(t=Object(_.jsxs)("span",{children:[Object(_.jsxs)("span",{children:[e.underlier,": "]}),Object(_.jsxs)("span",{children:[Object(_.jsxs)("span",{children:[" ",Object(_.jsx)(F.a,{decimalScale:2,value:e.price1})," "]}),Object(_.jsx)("span",{children:" / "}),Object(_.jsx)("span",{className:"funding-fee",title:i["liq-price-hover"],children:" ? "})]}),"\xa0"]})):t=Object(_.jsxs)("span",{children:[Object(_.jsxs)("span",{children:[e.underlier,": "]}),Object(_.jsxs)("span",{children:[Object(_.jsx)("span",{className:"funding-fee",title:i["liq-price-hover"],children:" ? "}),Object(_.jsx)("span",{children:" / "}),Object(_.jsx)("span",{className:"funding-fee",title:i["liq-price-hover"],children:" ? "})]}),"\xa0"]}),t):(e.price1&&e.price2?t=Object(_.jsxs)("span",{children:[Object(_.jsxs)("span",{children:[e.underlier,": "]}),Object(_.jsxs)("span",{children:[Object(_.jsx)(F.a,{decimalScale:2,value:e.price1}),Object(_.jsx)("span",{children:" / "}),Object(_.jsx)(F.a,{decimalScale:2,value:e.price2})]}),"\xa0"]}):e.price1||e.price2?!e.price1&&e.price2?t=Object(_.jsxs)("span",{children:[Object(_.jsxs)("span",{children:[e.underlier,": "]}),Object(_.jsxs)("span",{children:[Object(_.jsx)("span",{children:" -- "}),Object(_.jsx)("span",{children:" / "}),Object(_.jsxs)("span",{children:[" ",Object(_.jsx)(F.a,{decimalScale:2,value:e.price2})," "]})]}),"\xa0"]}):e.price1&&!e.price2&&(t=Object(_.jsxs)("span",{children:[Object(_.jsxs)("span",{children:[e.underlier,": "]}),Object(_.jsxs)("span",{children:[Object(_.jsxs)("span",{children:[" ",Object(_.jsx)(F.a,{decimalScale:2,value:e.price1})," "]}),Object(_.jsx)("span",{children:" / "}),Object(_.jsx)("span",{children:" -- "})]}),"\xa0"]})):t=Object(_.jsxs)("span",{children:[Object(_.jsxs)("span",{children:[e.underlier,": "]}),Object(_.jsxs)("span",{children:[Object(_.jsx)("span",{children:" -- "}),Object(_.jsx)("span",{children:" / "}),Object(_.jsx)("span",{children:" -- "})]}),"\xa0"]}),t)})(e)));a(e)}}),[e,t.positions]),Object(_.jsx)("span",{children:s})}var te=Object(h.b)("wallet","trading","version","type")(Object(h.c)((function({wallet:e,trading:t,version:i,lang:s,type:o}){const[r,c]=Object(n.useState)("LONG"),[l,d]=Object(n.useState)(!1),[p,b]=Object(n.useState)(null),[j,u]=Object(n.useState)(!1),[h,m]=Object(n.useState)(!1),[O,f]=Object(n.useState)(!1),[v,g]=Object(n.useState)(""),[y,x]=Object(n.useState)(""),[N,w]=Object(n.useState)(""),[S,C]=Object(n.useState)([]);Object(n.useEffect)((()=>{e.isConnected()&&t.positions&&C(t.positions)}),[e.detail.account,t.positions]);const A=()=>{k()},I=A,k=()=>{P(),t.refresh()},P=async()=>{if(e.isConnected()&&t.config){const i=await Object(M.L)(e.detail.chainId,t.config.pool,e.detail.account,t.config.bTokenId).catch((e=>console.log(e)));i&&g(i)}};return Object(n.useEffect)((()=>{if(t.position){const{position:e}=t,i=+e.volume>0?"LONG":e.volume&&!Object(a.d)(e.volume,0)&&e.volume?"SHORT":"--";c(i),x(Object(M.e)(e.margin).plus(e.unrealizedPnl).toString()),w(Object(M.e)(e.margin).plus(e.unrealizedPnl).minus(e.marginHeld).toString())}return()=>{}}),[t.position.volume,t.position.margin,t.position.unrealizedPnl]),Object(n.useEffect)((()=>(P(),()=>{})),[e.detail.account,t.config,t.amount.dynBalance]),Object(_.jsxs)("div",{className:"position-box",children:[Object(_.jsxs)("div",{className:"p1-box theader",children:[Object(_.jsxs)("div",{className:"dyn-eff-bal",children:[s["dynamic-effective-balance"]," : \xa0",Object(_.jsxs)("span",{children:[Object(_.jsx)(F.a,{allowZero:!0,value:y,decimalScale:2}),i.isV1||i.isV2Lite||o.isOption?Object(_.jsxs)("span",{children:[Object(_.jsx)("span",{className:"open-add",id:"openAddMargin",onClick:()=>u(!0),children:Object(_.jsx)("img",{src:H.a,alt:"add margin"})}),Object(_.jsx)("span",{className:"open-remove",onClick:()=>m(!0),children:Object(_.jsx)("img",{src:V.a,alt:"add margin"})})]}):Object(_.jsxs)("span",{className:"balance-list-btn",onClick:()=>f(!0),children:[Object(_.jsx)("img",{src:q.a,alt:"Remove margin"})," ",s.detail]})]})]}),Object(_.jsxs)("div",{className:"liquidation-price",children:[Object(_.jsxs)("span",{children:[s["liquidation-price"]," : "]}),Object(_.jsx)(ee,{wallet:e,trading:t,lang:s})]})]}),Object(_.jsxs)("div",{className:"p-box theader",children:[Object(_.jsx)("div",{className:"position-symbol",children:s.symbol}),Object(_.jsx)("div",{className:"position",children:s.position}),Object(_.jsx)("div",{className:"ave-entry-price",children:s["average-entry-price"]}),Object(_.jsx)("div",{className:"direction",children:s.direction}),Object(_.jsx)("div",{className:"margin",children:s.margin}),Object(_.jsx)("div",{className:"unrealized-pnl",children:s["unrealized-pnl"]}),Object(_.jsx)("div",{children:Object(_.jsx)("span",{className:"funding-fee",title:s["funding-fee-tip"],children:s["funding-fee"]})}),Object(_.jsx)("div",{className:"position",children:s["close-position"]})]}),S.map(((i,n)=>Object(_.jsxs)("div",{className:"p-box tbody",children:[Object(_.jsx)("div",{className:"position-symbol",children:i.symbol}),Object(_.jsx)("div",{className:"position",children:Object(_.jsx)(F.a,{value:i.volume,allowZero:!0})}),Object(_.jsx)("div",{className:"ave-entry-price",children:Object(_.jsx)(F.a,{value:i.averageEntryPrice,decimalScale:2})}),Object(_.jsx)("div",{className:i.direction,children:s[i.direction.toLowerCase()]||i.direction}),Object(_.jsx)("div",{className:"margin",children:Object(_.jsx)(F.a,{value:i.marginHeldBySymbol,decimalScale:2})}),Object(_.jsx)("div",{className:"pnl",children:Object(_.jsx)("span",{className:"pnl-list unrealized-pnl",children:Object(_.jsx)(F.a,{value:i.unrealizedPnl,decimalScale:6})})}),Object(_.jsx)("div",{children:Object(_.jsx)(F.a,{value:-i.premiumFundingAccrued,decimalScale:8})}),Object(_.jsx)("div",{className:"position",children:Object(_.jsxs)("span",{className:"close-position",children:[Object(_.jsx)("img",{style:{display:p!=n?"inline-block":"none"},src:z,onClick:()=>{(async(i,n,a)=>{d(!0),b(a);const o=await Object(M.f)(e.detail.chainId,t.config.pool,e.detail.account,i).finally((()=>{d(!1),b(null)}));o.success?k():"string"===typeof o.error?alert(o.error||s["close-position-failed"]):"object"===typeof o.error?alert(o.error.errorMessage||s["close-position-failed"]):alert(s["close-position-failed"])})(i.symbolId,i.volume,n)},title:s["close-is-position"]}),Object(_.jsx)("span",{className:"spinner spinner-border spinner-border-sm",role:"status","aria-hidden":"true",style:{display:l&&p==n?"block":"none"}})]})})]},n))),S.length?"":Object(_.jsx)("div",{className:"no-data",children:s["no-data"]}),Object(_.jsx)(J,{wallet:e,modalIsOpen:j,onClose:()=>u(!1),spec:t.config,afterDeposit:I,balance:v,className:"trading-dialog",lang:s}),Object(_.jsx)(K,{wallet:e,modalIsOpen:h,onClose:()=>m(!1),spec:t.config,afterWithdraw:A,availableBalance:N,position:t.position,className:"trading-dialog",lang:s}),Object(_.jsx)(X,{wallet:e,modalIsOpen:O,onClose:()=>f(!1),spec:t.config,afterDepositAndWithdraw:()=>{k()},position:t.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog",lang:s})]})}))),ie=i(618),ne=i.n(ie),se=(i(616),i(97)),ae=i(629);const oe=se[M.a.get()].chainInfo;function re({wallet:e,his:t}){const[i,s]=Object(n.useState)(!1),a=()=>{s(!0)},o=()=>{s(!1)},r=u()("view",{hover:i});return Object(_.jsxs)("span",{className:r,onMouseOut:o,children:[Object(_.jsx)("span",{className:"view-space",onMouseOver:a,children:Object(_.jsxs)("a",{target:"_blank",rel:"noreferrer",href:`${oe[e.detail.chainId].viewUrl}tx/${t.transactionHash}`,children:["View at ",oe[e.detail.chainId].viewUrl]})}),Object(_.jsx)("span",{className:"right-arrow",onMouseOver:a,children:Object(_.jsx)("img",{alt:"",src:ae.a})}),Object(_.jsx)("span",{className:"view-arrow",onMouseOver:a,onMouseOut:o,children:Object(_.jsx)("a",{target:"_blank",rel:"noreferrer",href:`${oe[e.detail.chainId].viewUrl}tx/${t.transactionHash}`,children:Object(_.jsx)("img",{rel:"noreferrer",alt:"",src:"data:image/svg+xml;base64,DQo8c3ZnIGZpbGw9Im5vbmUiIGhlaWdodD0iMTAiIHdpZHRoPSIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCiAgICA8cGF0aCBkPSJNOC42NzYuNjQyYS42NS42NSAwIDAwLS4wNzIuMDA2SDQuNzkzYS42NS42NSAwIDAwLS41Ny45NzUuNjUuNjUgMCAwMC41Ny4zMjJINy4xMkwuNDM4IDguNjE0YS42NDcuNjQ3IDAgMDAuMjg2IDEuMDk2LjY1LjY1IDAgMDAuNjMyLS4xNzlMOC4wNCAyLjg2MXYyLjMyNGEuNjQ4LjY0OCAwIDAwLjk3Ny41Ny42NDguNjQ4IDAgMDAuMzIyLS41N1YxLjM4YS42NDcuNjQ3IDAgMDAtLjY2Mi0uNzM3eiIgZmlsbD0iI0FBQUFBQSIvPg0KPC9zdmc+DQoNCg=="})})})]})}var ce=Object(h.b)("wallet","trading","type")(Object(h.c)((function({wallet:e,trading:t,lang:i,type:s}){const[a,o]=Object(n.useState)([]);return Object(n.useEffect)((()=>(async function(){if(e.isConnected()&&t.config){const e=t.history.map((e=>(e.directionText=i["long-buy"],"SHORT"===e.direction?e.directionText=i["short-sell"]:"liquidation"===e.direction.toLowerCase()&&(e.directionText=i.liquidation),e)));o(e)}}(),()=>{})),[e.detail.account,t.config,t.history]),Object(_.jsxs)("div",{className:"history-box",children:[Object(_.jsxs)("div",{className:"p-box theader",children:[Object(_.jsx)("div",{className:"td",children:i.time}),Object(_.jsx)("div",{children:i.direction}),Object(_.jsx)("div",{children:i.symbol}),Object(_.jsx)("div",{children:i.price}),Object(_.jsxs)("div",{children:[i.volume,"  ",s.isOption?`( ${i.notional} )`:""," "]}),Object(_.jsx)("div",{children:s.isOption?i["contract-value"]:i.notional}),Object(_.jsx)("div",{children:i["transaction-fee"]})]}),a.map(((t,i)=>Object(_.jsxs)("div",{className:"p-box tbody",children:[Object(_.jsx)("div",{className:"td",children:ne.a.asString("yyyy-MM-dd hh:mm:ss",new Date(parseInt(t.time)))}),Object(_.jsxs)("div",{className:t.direction,children:[t.directionText,Object(_.jsx)(re,{wallet:e,his:t})]}),Object(_.jsx)("div",{children:t.symbol||"--"}),Object(_.jsx)("div",{children:Object(_.jsx)(F.a,{value:t.price,decimalScale:2})}),Object(_.jsx)("div",{children:t.volume}),Object(_.jsx)("div",{children:Object(_.jsx)(F.a,{value:t.notional,decimalScale:4})}),Object(_.jsx)("div",{children:Object(_.jsx)(F.a,{value:t.transactionFee,decimalScale:4})})]},i))),0==a.length?Object(_.jsx)("div",{className:"no-data",children:i["no-data"]}):""]})})));var le=function({lang:e,type:t}){const[i,s]=Object(n.useState)("position"),a=e=>{s(e)},o=u()("position-info",i);return Object(_.jsxs)("div",{className:o,children:[Object(_.jsxs)("div",{className:"position-header",children:[Object(_.jsxs)("div",{className:"position-title",children:[Object(_.jsx)("span",{className:"position-info-title",children:e["position-info"]}),Object(_.jsx)("span",{className:"history-info-title",children:e["trade-history"]})]}),Object(_.jsxs)("div",{className:"check-position-history ",children:[Object(_.jsx)("div",{className:"btn-position",onClick:()=>a("position"),children:e["current-position"]}),Object(_.jsx)("div",{className:"btn-history",onClick:()=>a("history"),children:e["trade-history"]})]})]}),Object(_.jsxs)("div",{className:"pos-his-info ",children:[t.isFuture&&Object(_.jsx)(Z,{lang:e}),t.isOption&&Object(_.jsx)(te,{lang:e}),Object(_.jsx)(ce,{lang:e})]})]})},de=i(644),pe=i(635),be=(i(636),i(637),i(712),i(713),i(714),i(634));t.default=Object(h.b)("wallet","type")(Object(h.c)((function({wallet:e,lang:t,type:i}){return Object(n.useEffect)((()=>(document.querySelector(".desktop").style.minWidth="1903px",()=>{document.querySelector(".desktop").style.minWidth=""})),[e.detail.account]),Object(_.jsxs)("div",{className:"trade-container",children:[Object(_.jsx)(be.a,{lang:t}),Object(_.jsxs)("div",{className:"trade-body",children:[Object(_.jsx)(pe.a,{lang:t}),Object(_.jsxs)("div",{className:"trade-pro",children:[Object(_.jsx)("div",{className:"left",children:Object(_.jsx)(de.a,{isPro:!0,lang:t})}),Object(_.jsxs)("div",{className:"right",children:[Object(_.jsx)(U,{wallet:e,lang:t}),Object(_.jsx)(le,{lang:t,type:i})]})]})]})]})})))}}]);
//# sourceMappingURL=13.61fe0f28.chunk.js.map