(this["webpackJsonpapp.deri.finance"]=this["webpackJsonpapp.deri.finance"]||[]).push([[13],{1139:function(e,t,n){},1140:function(e,t,n){},1182:function(e,t,n){"use strict";n.r(t);var c=n(13),s=n(4),a=n(692),i=n(640),l=n(617),o=n.n(l),r=(n(1139),n(1140),n(48)),d=n(719),p=n(20);t.default=Object(r.b)("version","loading")(Object(r.c)((function(e){var t=e.lang,n=e.loading,l=Object(i.a)(!0),r=Object(c.a)(l,8),b=r[0],u=(r[1],r[2]),j=r[3],f=r[4],O=(r[5],r[6],r[7]),m=Object(s.useState)("all"),h=Object(c.a)(m,2),x=h[0],v=h[1],y=o()("filter-area",x),g=function(e){v(e===x?"all":e)};return Object(s.useEffect)((function(){return b?n.loaded():n.loading(),function(){}}),[b]),Object(p.jsxs)("div",{className:"mining-info",children:[Object(p.jsxs)("div",{className:y,children:[Object(p.jsx)("span",{className:"future-zone",onClick:function(){return g("future")},children:t.futures}),Object(p.jsx)("span",{className:"option-zone",onClick:function(){return g("option")},children:t.options}),Object(p.jsx)("span",{className:"separator-line"}),Object(p.jsx)("span",{className:"open-zone",onClick:function(){return g("open")},children:t["open-zone"]})]}),"all"===x&&Object(p.jsxs)("div",{className:"official-pool",children:[Object(p.jsx)("div",{className:"pools",children:f.map((function(e,n){return Object(p.jsx)(a.a,{group:e,lang:t},n)}))}),Object(p.jsx)("div",{className:"pools",children:j.map((function(e,n){return Object(p.jsx)(a.a,{group:e,lang:t},n)}))}),Object(p.jsx)("div",{className:"pools",children:u.map((function(e,n){return Object(p.jsx)(a.a,{group:e,lang:t},n)}))})]}),"future"===x&&Object(p.jsxs)("div",{className:"official-pool",children:[Object(p.jsx)("div",{className:"pools",children:j.map((function(e,n){return Object(p.jsx)(a.a,{group:e,lang:t},n)}))}),Object(p.jsx)("div",{className:"pools",children:u.map((function(e,n){return Object(p.jsx)(a.a,{group:e,lang:t},n)}))})]}),"option"===x&&Object(p.jsx)("div",{className:"official-pool",children:Object(p.jsx)("div",{className:"pools",children:f.map((function(e,n){return Object(p.jsx)(a.a,{group:e,lang:t},n)}))})}),"open"===x&&Object(p.jsxs)("div",{className:"pools open-pool",children:[O.map((function(e,n){return Object(p.jsx)(a.a,{group:e,lang:t},n)})),Object(p.jsx)(d.a,{lang:t})]})]})})))},616:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var c=n(0),s=n.n(c),a=n(1),i=n(13),l=n(4),o=n(20);function r(e){var t=e.btnText,n=e.className,c=e.disabled,r=e.click,d=e.afterClick,p=e.checkApprove,b=e.wallet,u=e.spec,j=e.lang,f=Object(l.useState)(c?"disabled":"enabled"),O=Object(i.a)(f,2),m=O[0],h=O[1],x=Object(l.useState)(!0),v=Object(i.a)(x,2),y=v[0],g=v[1],N=Object(l.useState)(!1),k=Object(i.a)(N,2),w=k[0],I=k[1],T=Object(l.useState)(t),A=Object(i.a)(T,2),S=A[0],$=A[1],C=Object(l.useRef)(null),_=function(){var e=Object(a.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("enabled"===m){e.next=2;break}return e.abrupt("return");case 2:return E(),e.next=5,r();case 5:e.sent&&d&&d(),q();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){h("disabled"),I(!0),C.current&&(C.current.style.display="inline-block")},q=function(){C.current&&(C.current.style.display="none"),h("enabled"),I(!1)},F=function(){var e=Object(a.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(p&&b&&b.detail.account)){e.next=5;break}return e.next=3,b.isApproved(u.pool,u.bTokenId);case 3:t=e.sent,g(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(a.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(),e.next=3,b.approve(u.pool,u.bTokenId);case 3:e.sent.success?g(!0):(g(!1),alert(j["approve-failed"])),q();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){return F(),function(){}}),[b,u,p]),Object(l.useEffect)((function(){return t&&$(t),function(){}}),[t]),Object(o.jsxs)("button",{className:n,onClick:function(){y?_():z()},children:[Object(o.jsx)("span",{className:"btn-loading-wrap",children:Object(o.jsx)("span",{ref:C,className:"spinner spinner-border spinner-border-sm",style:{display:"none",marginRight:"2"}})}),w?j.pending:y?S:j.approve]})}},618:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n(4),s=n(620),a=n(20);function i(e){const[t,n]=Object(c.useState)("--");return Object(c.useEffect)((()=>{const{allowZero:t,...c}=e;return("object"!==typeof e.value&&void 0!==e.value&&""!==e.value&&"NaN"!==e.value||0===(isNaN(e.value)&&Math.abs(e.value))&&!0===t)&&n(Object(a.jsx)(s.a,{...c,displayType:"text"})),()=>{}}),[e.value]),t}},626:function(e,t,n){"use strict";var c=n(4),s=n(20);t.a=function(e){var t=Object(c.useRef)(null);return Object(c.useEffect)((function(){var e=t.current;e&&e.querySelectorAll("[title]").forEach((function(t){var n="hover-box-".concat((new Date).getTime()),c=document.body.querySelector("#".concat(n));t.addEventListener("mouseover",(function(e){c||((c=document.createElement("div")).style.cssText="z-index : 1;min-width : 100px;max-width : ".concat(window.screen.width,"px ;font-size : 12px ;position : absolute;background-color: #2c2d31;border: 1px solid #AAAAAA;color: #AAAAAA;border-radius: 10px;padding: 4px;"),document.body.appendChild(c),c.innerText=e.currentTarget.getAttribute("title"),e.currentTarget.setAttribute("title","")),c.id=n,c.style.display="block";var t=e.currentTarget.getBoundingClientRect();if(c.style.top="".concat(t.y+t.height+window.document.documentElement.scrollTop,"px"),c.offsetWidth+e.pageX>window.screen.width)if(e.pageX-c.offsetWidth>=0)c.style.left="".concat(e.pageX-c.offsetWidth,"px");else{var s=e.pageX-c.offsetWidth/2>0?e.pageX-c.offsetWidth/2:0;c.style.left="".concat(s,"px")}else c.style.left="".concat(e.pageX,"px")})),e.addEventListener("mouseout",(function(e){c&&(c.style.display="none")}))}));return function(){t.current=null}}),[]),e.block?Object(s.jsx)("div",{ref:t,children:e.children}):Object(s.jsx)("span",{ref:t,children:e.children})}},640:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var c=n(4),s=n(15),a=n(95),i=n(35),l=n(17);n(630);const o=s.a.get(),{chainInfo:r}=a[o];function d(e){const[t,n]=Object(c.useState)(!1),[a,d]=Object(c.useState)([]),[p,b]=Object(c.useState)([]),[u,j]=Object(c.useState)([]),[f,O]=Object(c.useState)([]),[m,h]=Object(c.useState)([]),[x,v]=Object(c.useState)([]),[y,g]=Object(c.useState)([]),[N,k]=Object(c.useState)([]);return Object(c.useEffect)((()=>((async()=>{const t=e=>{const t=[];return e.reduce(((e,t)=>{const n=e.find((e=>Object(i.d)(e.pool.address,t.address)));if(n&&n.list.length<5)n.list.push(t);else{const n={pool:{network:t.network,symbol:t.symbol,address:t.address,formatAdd:t.formatAdd,version:t.version,chainId:t.chainId,airdrop:t.airdrop,type:t.type,bTokenSymbol:t.bTokenSymbol,bTokenId:t.bTokenId,symbolId:t.symbolId},list:[t]};e.push(n)}return e}),t),t};let c=Object(s.n)(o,"v2"),a=Object(s.n)(o,"v1");const p=Object(s.n)(o,"v2_lite"),u=Object(s.n)(o,"option"),f=Object(s.H)(o),m=await(async()=>(await s.Y.update(),Object(s.n)(o,"v2_lite_open")))();let x=c.concat(a).concat(f).concat(p).concat(u).concat(m).reduce(((e,t)=>{if("v2_lite_open"===t.version){const n=e.findIndex((e=>e.chainId===t.chainId&&e.pool===t.pool&&t.version===e.version));("v2"===t.version||"v2_lite"===t.version||"option"===t.version||"v2_lite_open"===t.version)&&n>-1&&-1===e[n].symbol.indexOf(t.symbol)?e[n].symbol+=`,${t.symbol}`:e.push(t)}else{const n=e.findIndex((e=>e.chainId===t.chainId&&e.bTokenSymbol===t.bTokenSymbol&&t.version===e.version));("v2"===t.version||"v2_lite"===t.version||"option"===t.version||"v2_lite_open"===t.version)&&n>-1&&-1===e[n].symbol.indexOf(t.symbol)?e[n].symbol+=`,${t.symbol}`:e.push(t)}return e}),[]);x=x.map((async e=>{const t=await Object(s.D)(e.chainId,e.pool,e.bTokenId)||{},n=await Object(s.C)(e.chainId,e.pool,e.bTokenId)||{},c=e.pool||"";return Object.assign(e,{network:r[e.chainId]&&r[e.chainId].name,liquidity:t.liquidity,apy:(100*+n.apy).toFixed(2),formatAdd:Object(i.e)(c),address:c,type:"perpetual",buttonText:"STAKING",multiplier:n.multiplier})}));const y=Object(s.w)(o).map((async e=>{const t=await Object(s.D)(e.chainId,e.pool)||{},n=await Object(s.C)(e.chainId,e.pool)||{},c=e.pool||"";let a,o;if(Object(i.m)(e.pool)){let t=await Object(s.y)(e.chainId,e.pool);a=t&&(100*+t.apy2).toFixed(2)}return Object(i.n)(e.pool)&&(o=l.a.get("mining","sushi-apy")),Object(i.l)(e.pool)&&(o=l.a.get("mining","cake-apy")),Object.assign(e,{network:r[e.chainId].name,liquidity:t.liquidity,apy:(100*+n.apy).toFixed(2),formatAdd:Object(i.e)(c),lpApy:a,address:c,type:"lp",label:o,buttonText:"STAKING"})})),N=x.concat(y);Promise.all(N).then((c=>{let s=c.filter((e=>("v1"===e.version||!e.version)&&!e.retired)),a=c.filter((e=>("v2"===e.version||"v2_lite"===e.version)&&!e.retired)),i=c.filter((e=>"option"===e.version&&!e.retired));const l=c.filter((e=>e.retired&&!e.premining)),o=c.filter((e=>e.retired&&e.premining));let r=c.filter((e=>e.isOpen));e&&(s=t(s),a=t(a),i=t(i),r=t(r)),j(a),b(s),O(i),d(c),h(l),v(o),g(r),n(!0)}))})(),()=>a.length=0)),[]),[t,a,p,u,f,m,x,y]}},681:function(e,t){},692:function(e,t,n){"use strict";var c=n(4),s=n(24),a=n(95),i=n(15),l=n(618),o=n(48),r=n(616),d=n(35),p=n(617),b=n.n(p),u=n(626),j=(n(630),n(20));const f=a[i.a.get()].chainInfo;function O({wallet:e,pool:t,card:n,index:a,list:o,lang:p}){const[b,f]=Object(c.useState)(""),[O,m]=Object(c.useState)(!1),h=Object(s.useHistory)(),x=()=>{e.connect().then((()=>{m(!0)}))},v=async()=>{let t=await Object(i.L)(e.detail.account);t.valid?Object(d.d)(e.detail.chainId,t.chainId)?(await Object(i.V)(t.chainId,e.detail.account)).success||alert(p["claim-failed"]):alert(p["please-switch-to-BSC-to-claim-deri"]):alert(p["no-deri-to-claim"])};return Object(c.useEffect)((()=>{if(t&&t.airdrop)e.isConnected()?f(Object(j.jsx)(r.a,{btnText:p.claim,click:v,lang:p})):f(Object(j.jsx)(r.a,{btnText:p["connect-wallet"],click:x,lang:p}));else{let e=`/mining/${t.version||"v1"}/${t.chainId}/${n.type}/${n.symbol}/${n.bTokenSymbol}/${t.address}`;n.bTokenId&&(e=`${e}?baseTokenId=${n.bTokenId}`),n.symbolId&&(e=e.indexOf("?")>0?`${e}&symbolId=${n.symbolId}`:`${e}?symbolId=${n.symbolId}`),f(Object(j.jsx)("button",{onClick:()=>(e=>{h.push(e)})(e),children:p.staking}))}return()=>{}}),[e.detail.account,O]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"info",children:[Object(j.jsxs)("div",{className:"top-info",children:[Object(j.jsxs)("div",{className:"pool-top",children:[Object(j.jsx)("span",{className:`logo ${n.bTokenSymbol}`}),Object(j.jsx)("span",{className:"base-token",children:n.bTokenSymbol})]}),Object(j.jsxs)("div",{className:"pool-detail",children:[Object(j.jsxs)("div",{className:"liq",children:[Object(j.jsx)("span",{className:"title",children:n.airdrop?p.total:p["pool-liq"]}),Object(j.jsx)(l.a,{value:n.liquidity,displayType:"text",thousandSeparator:!0,decimalScale:n.lpApy?7:0})]}),Object(j.jsx)("div",{className:"multiplier",children:n.multiplier&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{children:p.multiplier}),Object(j.jsx)(u.a,{block:!1,children:Object(j.jsxs)("span",{className:"multiplier-value",title:p["multiplier-tip"],children:[n.multiplier,"x"]})})]})}),Object(j.jsx)("div",{className:"apy",children:!n.isOpen&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{children:p.apy}),Object(j.jsxs)(u.a,{block:!1,children:[Object(j.jsx)("span",{className:n.lpApy?"sushi-apy-underline":"",title:n.lpApy&&p["deri-apy"],children:n.apy?Object(j.jsx)(l.a,{value:n.apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2}):"--"}),n.lpApy&&n.lpApy>0&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{children:" + "}),Object(j.jsxs)("span",{className:n.lpApy?"sushi-apy-underline":"",title:n.lpApy&&n.label,children:[" ",Object(j.jsx)(l.a,{value:n.lpApy,displayType:"text",suffix:"%",decimalScale:2})]})]})]})]})})]})]}),Object(j.jsx)("div",{className:"bottom-btn",children:b})]}),a!==o.length-1&&Object(j.jsx)("div",{className:"top-line"})]})}t.a=Object(o.b)("wallet","version")(Object(o.c)((function({wallet:e,group:t={},lang:n}){const{pool:c,list:s}=t,a=b()("pool",{"only-one":1===s.length,full:5===s.length});return Object(j.jsxs)("div",{className:a,children:[Object(j.jsxs)("div",{className:"pool-header",children:[Object(j.jsxs)("div",{className:"left",children:[Object(j.jsx)("div",{className:"network",children:c.network&&c.network.toUpperCase()}),Object(j.jsxs)("div",{className:"pool-desc",children:[Object(j.jsxs)("span",{className:"symbol",children:[Object(j.jsxs)("span",{className:"symbol-label",children:[n.symbol,":"]}),Object(j.jsx)("span",{className:"symbol-value",children:c.symbol})]}),Object(j.jsxs)("span",{className:"address",children:[Object(j.jsxs)("span",{className:"address-label",children:[n.address,":"]}),c.airdrop?"--":Object(j.jsx)("a",{target:"_blank",rel:"noreferrer",href:`${f[c.chainId]&&f[c.chainId].viewUrl}/address/${c.address}`,children:c.formatAdd})]})]})]}),Object(j.jsx)("div",{className:"version",children:n[c.version]})]}),Object(j.jsx)("div",{className:"pool-info",children:s.map(((t,a)=>Object(j.jsx)(O,{card:t,index:a,pool:c,list:s,wallet:e,lang:n},a)))})]})})))},719:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(720);var c=n(111),s=n(112),a=n(20);function i({lang:e}){return Object(a.jsxs)("div",{className:"pool-placehold",children:[Object(a.jsx)("div",{className:"header",children:Object(a.jsx)("div",{className:"title",children:e["add-pool"]})}),Object(a.jsxs)("div",{className:"pool-body",children:[Object(a.jsx)("div",{className:"info",children:Object(a.jsx)("div",{children:e["add-pool-text"]})}),Object(a.jsxs)("div",{className:"btn-c",children:[s.isMobile&&Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("button",{onClick:()=>{alert(e["please-operat"])},children:e.add})}),s.isBrowser&&Object(a.jsx)(c.b,{to:"/addpool",children:Object(a.jsx)("button",{children:e.add})})]})]})]})}},720:function(e,t,n){}}]);
//# sourceMappingURL=13.4f35c4f8.chunk.js.map