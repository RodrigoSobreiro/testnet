(this["webpackJsonpapp.deri.finance"]=this["webpackJsonpapp.deri.finance"]||[]).push([[15],{614:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c=n(0),a=n.n(c),s=n(1),i=n(11),l=n(6),r=n(20);function o(e){var t=e.btnText,n=e.className,c=e.disabled,o=e.click,d=e.afterClick,b=e.checkApprove,u=e.wallet,p=e.spec,j=e.lang,O=Object(l.useState)(c?"disabled":"enabled"),m=Object(i.a)(O,2),f=m[0],h=m[1],x=Object(l.useState)(!0),v=Object(i.a)(x,2),y=v[0],k=v[1],g=Object(l.useState)(!1),N=Object(i.a)(g,2),I=N[0],w=N[1],S=Object(l.useState)(t),T=Object(i.a)(S,2),A=T[0],C=T[1],F=Object(l.useRef)(null),E=function(){var e=Object(s.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("enabled"===f){e.next=2;break}return e.abrupt("return");case 2:return q(),e.next=5,o();case 5:e.sent&&d&&d(),_();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){h("disabled"),w(!0),F.current&&(F.current.style.display="inline-block")},_=function(){F.current&&(F.current.style.display="none"),h("enabled"),w(!1)},G=function(){var e=Object(s.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(b&&u&&u.detail.account)){e.next=5;break}return e.next=3,u.isApproved(p.pool,p.bTokenId);case 3:t=e.sent,k(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(s.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(),e.next=3,u.approve(p.pool,p.bTokenId);case 3:e.sent.success?k(!0):(k(!1),alert(j["approve-failed"])),_();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){return G(),function(){}}),[u,p,b]),Object(l.useEffect)((function(){return t&&C(t),function(){}}),[t]),Object(r.jsxs)("button",{className:n,onClick:function(){y?E():H()},children:[Object(r.jsx)("span",{className:"btn-loading-wrap",children:Object(r.jsx)("span",{ref:F,className:"spinner spinner-border spinner-border-sm",style:{display:"none",marginRight:"2"}})}),I?j.pending:y?A:j.approve]})}},615:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n(6),a=n(616),s=n(20);function i(e){const[t,n]=Object(c.useState)("--");return Object(c.useEffect)((()=>{const{allowZero:t,...c}=e;return("object"!==typeof e.value&&void 0!==e.value&&""!==e.value&&"NaN"!==e.value||0===(isNaN(e.value)&&Math.abs(e.value))&&!0===t)&&n(Object(s.jsx)(a.a,{...c,displayType:"text"})),()=>{}}),[e.value]),t}},619:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c=n(6),a=n(17),s=n(97),i=n(36);n(16);const l=a.a.get(),{chainInfo:r}=s[l];function o(e){const[t,n]=Object(c.useState)(!1),[s,o]=Object(c.useState)([]),[d,b]=Object(c.useState)([]),[u,p]=Object(c.useState)([]),[j,O]=Object(c.useState)([]),[m,f]=Object(c.useState)([]),[h,x]=Object(c.useState)([]);return Object(c.useEffect)((()=>{const t=e=>{const t=[];return e.reduce(((e,t)=>{const n=e.find((e=>Object(i.d)(e.pool.address,t.address)));if(n&&n.list.length<5)n.list.push(t);else{const n={pool:{network:t.network,symbol:t.symbol,address:t.address,formatAdd:t.formatAdd,version:t.version,chainId:t.chainId,airdrop:t.airdrop,type:t.type,bTokenSymbol:t.bTokenSymbol,bTokenId:t.bTokenId,symbolId:t.symbolId},list:[t]};e.push(n)}return e}),t),t};let c=Object(a.l)(l,"v2"),d=Object(a.l)(l,"v1");const u=Object(a.l)(l,"v2_lite"),j=Object(a.l)(l,"option"),m=Object(a.D)(l);let h=c.concat(d).concat(m).concat(u).concat(j).reduce(((e,t)=>{const n=e.findIndex((e=>e.chainId===t.chainId&&e.bTokenSymbol===t.bTokenSymbol&&t.version===e.version));return("v2"===t.version||"v2_lite"===t.version||"option"===t.version)&&n>-1&&-1===e[n].symbol.indexOf(t.symbol)?e[n].symbol+=`,${t.symbol}`:e.push(t),e}),[]);h=h.map((async e=>{const t=await Object(a.A)(e.chainId,e.pool,e.bTokenId)||{},n=await Object(a.z)(e.chainId,e.pool,e.bTokenId)||{},c=e.pool||"";return Object.assign(e,{network:r[e.chainId]&&r[e.chainId].name,liquidity:t.liquidity,apy:(100*+n.apy).toFixed(2),formatAdd:Object(i.e)(c),address:c,type:"perpetual",buttonText:"STAKING",multiplier:n.multiplier})}));const v=Object(a.u)(l).map((async e=>{const t=await Object(a.A)(e.chainId,e.pool)||{},n=await Object(a.z)(e.chainId,e.pool)||{},c=e.pool||"";let s,l;if(Object(i.m)(e.pool)){let t=await Object(a.w)(e.chainId,e.pool);s=t&&(100*+t.apy2).toFixed(2)}return Object(i.n)(e.pool)&&(l="SUSHI-APY"),Object(i.l)(e.pool)&&(l="CAKE-APY"),Object.assign(e,{network:r[e.chainId].name,liquidity:t.liquidity,apy:(100*+n.apy).toFixed(2),formatAdd:Object(i.e)(c),lpApy:s,address:c,type:"lp",label:l,buttonText:"STAKING"})})),y=h.concat(v);return Promise.all(y).then((c=>{c.push({network:"BSC",bTokenSymbol:"GIVEAWAY",liquidity:"1002200",symbol:"--",airdrop:!0,chainId:56,buttonText:"CLAIM"});let a=c.filter((e=>("v1"===e.version||!e.version)&&!e.retired)),s=c.filter((e=>("v2"===e.version||"v2_lite"===e.version)&&!e.retired)),i=c.filter((e=>"option"===e.version&&!e.retired));const l=c.filter((e=>e.retired&&!e.premining)),r=c.filter((e=>e.retired&&e.premining));e&&(a=t(a),s=t(s),i=t(i)),p(s),b(a),O(i),o(c),f(l),x(r),n(!0)})),()=>s.length=0}),[]),[t,s,d,u,j,m,h]}},638:function(e,t,n){"use strict";var c=n(0),a=n.n(c),s=n(1),i=n(11),l=n(6),r=n(25),o=n(97),d=n(17),b=n(615),u=n(49),p=n(614),j=n(36),O=n(613),m=n.n(O),f=n(20),h=o[d.a.get()].chainInfo;function x(e){var t=e.wallet,n=e.pool,c=e.card,o=e.index,u=e.list,O=e.lang,m=Object(l.useState)(""),h=Object(i.a)(m,2),x=h[0],v=h[1],y=Object(l.useState)(!1),k=Object(i.a)(y,2),g=k[0],N=k[1],I=Object(r.useHistory)(),w=function(){t.connect().then((function(){N(!0)}))},S=function(){var e=Object(s.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.H)(t.detail.account);case 2:if((n=e.sent).valid){e.next=6;break}return alert(O["no-deri-to-claim"]),e.abrupt("return");case 6:if(Object(j.d)(t.detail.chainId,n.chainId)){e.next=9;break}return alert(O["please-switch-to-BSC-to-claim-deri"]),e.abrupt("return");case 9:return e.next=11,Object(d.Q)(n.chainId,t.detail.account);case 11:e.sent.success||alert(O["claim-failed"]);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){if(n&&n.airdrop)t.isConnected()?v(Object(f.jsx)(p.a,{btnText:O.claim,click:S,lang:O})):v(Object(f.jsx)(p.a,{btnText:O["connect-wallet"],click:w,lang:O}));else{var e="/mining/".concat(n.version||"v1","/").concat(n.chainId,"/").concat(c.type,"/").concat(c.symbol,"/").concat(c.bTokenSymbol,"/").concat(n.address);c.bTokenId&&(e="".concat(e,"?baseTokenId=").concat(c.bTokenId)),c.symbolId&&(e=e.indexOf("?")>0?"".concat(e,"&symbolId=").concat(c.symbolId):"".concat(e,"?symbolId=").concat(c.symbolId)),v(Object(f.jsx)("button",{onClick:function(){return function(e){I.push(e)}(e)},children:O.staking}))}return function(){}}),[t.detail.account,g]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"info",children:[Object(f.jsxs)("div",{className:"top-info",children:[Object(f.jsxs)("div",{className:"pool-top",children:[Object(f.jsx)("span",{className:"logo ".concat(c.bTokenSymbol)}),Object(f.jsx)("span",{className:"base-token",children:c.bTokenSymbol})]}),Object(f.jsxs)("div",{className:"pool-detail",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{className:"title",children:c.airdrop?O.total:O["pool-liq"]}),Object(f.jsx)(b.a,{value:c.liquidity,displayType:"text",thousandSeparator:!0,decimalScale:c.lpApy?7:0})]}),Object(f.jsx)("div",{className:"multiplier",children:c.multiplier&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{children:O.multiplier}),Object(f.jsxs)("span",{className:"multiplier-value",title:O["multiplier-tip"],children:[c.multiplier,"x"]})]})}),Object(f.jsxs)("div",{className:"apy",children:[Object(f.jsx)("span",{children:O.apy}),Object(f.jsxs)("span",{children:[Object(f.jsx)("span",{className:c.lpApy?"sushi-apy-underline":"",title:c.lpApy&&O["deri-apy"],children:c.apy?Object(f.jsx)(b.a,{value:c.apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2}):"--"}),c.lpApy&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{children:" + "}),Object(f.jsxs)("span",{className:c.lpApy?"sushi-apy-underline":"",title:c.lpApy&&c.label,children:[" ",Object(f.jsx)(b.a,{value:c.lpApy,displayType:"text",suffix:"%",decimalScale:2})]})]})]})]})]})]}),Object(f.jsx)("div",{className:"bottom-btn",children:x})]}),o!==u.length-1&&Object(f.jsx)("div",{className:"top-line"})]})}t.a=Object(u.b)("wallet","version")(Object(u.c)((function(e){var t=e.wallet,n=e.group,c=void 0===n?{}:n,a=e.lang,s=c.pool,i=c.list,l=m()("pool",{"only-one":1===i.length,full:5===i.length});return Object(f.jsxs)("div",{className:l,children:[Object(f.jsxs)("div",{className:"pool-header",children:[Object(f.jsxs)("div",{className:"left",children:[Object(f.jsx)("div",{className:"network",children:s.network&&s.network.toUpperCase()}),Object(f.jsxs)("div",{className:"pool-desc",children:[Object(f.jsxs)("span",{className:"symbol",children:[Object(f.jsxs)("span",{className:"symbol-label",children:[a.symbol,":"]}),Object(f.jsx)("span",{className:"symbol-value",children:s.symbol})]}),Object(f.jsxs)("span",{className:"address",children:[Object(f.jsxs)("span",{className:"address-label",children:[a.address,":"]}),s.airdrop?"--":Object(f.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat(h[s.chainId]&&h[s.chainId].viewUrl,"/address/").concat(s.address),children:s.formatAdd})]})]})]}),Object(f.jsx)("div",{className:"version",children:a[s.version]})]}),Object(f.jsx)("div",{className:"pool-info",children:i.map((function(e,n){return Object(f.jsx)(x,{card:e,index:n,pool:s,list:i,wallet:t,lang:a},n)}))})]})})))},715:function(e,t,n){},716:function(e,t,n){},757:function(e,t,n){"use strict";n.r(t);var c=n(6),a=n(638),s=n(619),i=n(613),l=n.n(i),r=(n(715),n(716),n(49)),o=n(20);t.default=Object(r.b)("version","loading")(Object(r.c)((function({lang:e,loading:t}){const[n,i,r,d,b]=Object(s.a)(!0),[u,p]=Object(c.useState)("all"),j=e=>{p(e)},O=l()("checkout-pools",u);return Object(c.useEffect)((()=>(n?t.loaded():t.loading(),()=>{})),[n]),Object(o.jsxs)("div",{className:"mining-info",children:[Object(o.jsxs)("div",{className:O,children:[Object(o.jsx)("div",{className:"all",onClick:()=>j("all"),children:e.all}),Object(o.jsx)("div",{className:"futures",onClick:()=>j("futures"),children:e.futures}),Object(o.jsx)("div",{className:"options",onClick:()=>j("options"),children:e.options})]}),"all"===u&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"pools",children:d.map(((t,n)=>Object(o.jsx)(a.a,{group:t,lang:e},n)))}),Object(o.jsx)("div",{className:"pools",children:b.map(((t,n)=>Object(o.jsx)(a.a,{group:t,lang:e},n)))}),Object(o.jsx)("div",{className:"pools",children:r.map(((t,n)=>Object(o.jsx)(a.a,{group:t,lang:e},n)))})]}),"options"===u&&Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"pools",children:b.map(((t,n)=>Object(o.jsx)(a.a,{group:t,lang:e},n)))})}),"futures"===u&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"pools",children:d.map(((t,n)=>Object(o.jsx)(a.a,{group:t,lang:e},n)))}),Object(o.jsx)("div",{className:"pools",children:r.map(((t,n)=>Object(o.jsx)(a.a,{group:t,lang:e},n)))})]})]})})))}}]);
//# sourceMappingURL=15.907971ff.chunk.js.map