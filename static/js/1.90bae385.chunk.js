(this["webpackJsonpapp.deri.finance"]=this["webpackJsonpapp.deri.finance"]||[]).push([[1],{571:function(e,s,i){"use strict";i.d(s,"a",(function(){return c}));var t=i(2),a=i(13);function c({btnText:e,className:s,disabled:i,click:c,afterClick:n,checkApprove:l,wallet:r,spec:o,lang:d}){const[j,b]=Object(t.useState)(i?"disabled":"enabled"),[A,m]=Object(t.useState)(!0),[O,x]=Object(t.useState)(!1),[u,p]=Object(t.useState)(e),g=Object(t.useRef)(null),h=()=>{b("disabled"),x(!0),g.current&&(g.current.style.display="inline-block")},v=()=>{g.current&&(g.current.style.display="none"),b("enabled"),x(!1)};return Object(t.useEffect)((()=>((async()=>{if(l&&r&&r.detail.account){const e=await r.isApproved(o.pool,o.bTokenId);m(e)}})(),()=>{})),[r,o,l]),Object(t.useEffect)((()=>(e&&p(e),()=>{})),[e]),Object(a.jsxs)("button",{className:s,onClick:()=>{A?(async()=>{if("enabled"!==j)return;h(),await c()&&n&&n(),v()})():(async()=>{h(),(await r.approve(o.pool,o.bTokenId)).success?m(!0):(m(!1),alert(d["approve-failed"])),v()})()},children:[Object(a.jsx)("span",{className:"btn-loading-wrap",children:Object(a.jsx)("span",{ref:g,className:"spinner spinner-border spinner-border-sm",style:{display:"none",marginRight:"2"}})}),O?d.pending:A?u:d.approve]})}},572:function(e,s,i){"use strict";i.d(s,"a",(function(){return n}));var t=i(2),a=i(573),c=i(13);function n(e){const[s,i]=Object(t.useState)("--");return Object(t.useEffect)((()=>{const{allowZero:s,...t}=e;return(void 0!==e.value&&""!==e.value&&"NaN"!==e.value||0===(isNaN(e.value)&&Math.abs(e.value))&&!0===s)&&i(Object(c.jsx)(a.a,{...t,displayType:"text"})),()=>{}}),[e.value]),s}},578:function(e,s,i){"use strict";i.d(s,"a",(function(){return a}));var t=i(2);function a(e){return Object(t.useEffect)((()=>(document.querySelector("body").style.overflow="hidden",()=>{e||(document.querySelector("body").style.overflow="auto")})),[]),null}},579:function(e,s,i){"use strict";s.a="data:image/png;base64,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"},580:function(e,s,i){"use strict";i.d(s,"a",(function(){return o}));var t=i(2),a=i(10),c=i(573),n=i(571),l=i(578),r=i(13);function o({wallet:e,spec:s={},onClose:i,balance:o,afterDeposit:d,nested:j,lang:b}){const[A,m]=Object(t.useState)(""),[O,x]=Object(t.useState)(""),[u,p]=Object(t.useState)(""),[g,h]=Object(t.useState)(!1);Object(l.a)(j);return Object(t.useEffect)((()=>((()=>{if(o){const e=(+o).toFixed(2),s=e.indexOf(".")>0?e.substring(e.indexOf(".")+1,e.length):"0";m(o),x(s)}})(),()=>{})),[o]),Object(r.jsx)("div",{className:"modal fade",children:Object(r.jsx)("div",{className:"modal-dialog",children:Object(r.jsxs)("div",{className:"modal-content",children:[Object(r.jsxs)("div",{className:"modal-header",children:[Object(r.jsx)("div",{className:"title",children:b["deposit-margin"]}),Object(r.jsx)("div",{className:"close","data-dismiss":"modal",onClick:()=>{g||i()},children:Object(r.jsx)("span",{children:"\xd7"})})]}),Object(r.jsx)("div",{className:"modal-body",children:Object(r.jsxs)("div",{className:"margin-box-info",children:[Object(r.jsx)("div",{children:b["wallet-balance"]}),Object(r.jsxs)("div",{className:"money",children:[Object(r.jsxs)("span",{children:[Object(r.jsxs)("span",{className:"bt-balance",children:[Object(r.jsx)(c.a,{value:A,displayType:"text",decimalScale:0}),".",Object(r.jsx)("span",{style:{fontSize:"12px"},children:O})]}),Object(r.jsx)("br",{}),Object(r.jsx)("span",{style:{fontSize:"14px",marginLeft:"10px",marginTop:"10px"},children:s.bTokenSymbol})]}),Object(r.jsx)("span",{className:"add"})]}),Object(r.jsxs)("div",{className:"enter-margin",children:[Object(r.jsx)("div",{className:"input-margin",children:Object(r.jsxs)("div",{className:"box",children:[Object(r.jsx)("div",{className:"amount",style:{display:""!==u?"block":"none"},children:b.amount}),Object(r.jsx)("input",{type:"number",className:"margin-value",placeholder:b.amount,value:u,onChange:e=>{const{value:s}=e.target;p(s)}})]})}),Object(r.jsx)("div",{children:s.bTokenSymbol})]}),Object(r.jsxs)("div",{className:"max",children:[b["max-add"],": ",Object(r.jsx)("span",{className:"max-num",children:o}),Object(r.jsx)("span",{className:"max-btn-left",onClick:()=>{p(o)},children:b["add-all"]})]}),Object(r.jsx)("div",{className:"add-margin-btn",children:Object(r.jsx)(n.a,{className:"margin-btn",btnText:b.deposit,checkApprove:!0,wallet:e,spec:s,lang:b,click:()=>(async t=>{const c=Object(a.e)(o);if(Object(a.e)(t).gt(c))return void alert(b["insufficient-balance-in-wallet"]);if(+t<=0||isNaN(t))return void alert(b["it-has-to-be-greater-than-zero-tip"]);h(!0),(await Object(a.h)(e.detail.chainId,s.pool,e.detail.account,t,s.bTokenId)).success?(d(),i()):alert(b["deposit-failed"]),h(!1)})(u)})})]})})]})})})}},584:function(e,s,i){"use strict";i.d(s,"a",(function(){return d}));var t=i(2),a=i(10),c=i(571),n=i(572),l=i(26),r=i(578),o=i(13);function d({wallet:e,spec:s={},position:i,onClose:d,afterWithdraw:j,availableBalance:b,nested:A,lang:m}){const[O,x]=Object(t.useState)(""),[u,p]=Object(t.useState)(""),[g,h]=Object(t.useState)(""),[v,f]=Object(t.useState)(!1);Object(r.a)(A);return Object(t.useEffect)((()=>((async()=>{if(e.isConnected()&&b){const e=b;x(e);const s=e.indexOf(".");p(s>0?e.substring(s+1,s+3):"00")}})(),()=>{})),[e.detail.account,i.margin,i.unrealizedPnl]),Object(o.jsx)("div",{className:"modal fade",id:"removeMargin",children:Object(o.jsx)("div",{className:"modal-dialog",children:Object(o.jsxs)("div",{className:"modal-content",children:[Object(o.jsxs)("div",{className:"modal-header",children:[Object(o.jsx)("div",{className:"title",children:m["withdraw-margin"]}),Object(o.jsx)("div",{className:"close",onClick:()=>{v||d()},children:Object(o.jsx)("span",{children:"\xd7"})})]}),Object(o.jsx)("div",{className:"modal-body",children:Object(o.jsxs)("div",{className:"margin-box-info",children:[Object(o.jsx)("div",{children:m["available-balance"]}),Object(o.jsxs)("div",{className:"money",children:[Object(o.jsx)("span",{children:Object(o.jsxs)("span",{className:"bt-balance",children:[Object(o.jsx)(n.a,{value:O,thousandSeparator:!0,decimalScale:0}),".",Object(o.jsx)("span",{style:{fontSize:"12px"},children:u})]})}),Object(o.jsx)("span",{className:"remove"})]}),Object(o.jsxs)("div",{className:"enter-margin remv",children:[Object(o.jsx)("div",{className:"input-margin",children:Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("div",{className:"amount",style:{display:""!==g?"block":"none"},children:m.amount}),Object(o.jsx)("input",{type:"number",className:"margin-value",value:g,onChange:e=>{const{value:s}=e.target;h(s)},placeholder:m.amount})]})}),Object(o.jsx)("div",{children:s.baseToken})]}),0===+i.volume&&Object(o.jsxs)("div",{className:"max",children:[m.max,": ",Object(o.jsx)("span",{className:"max-num",children:O||i.margin}),Object(o.jsx)("span",{className:"max-btn-left",onClick:()=>{h(b)},children:m["remove-all"]})]}),+i.volume>0&&Object(o.jsxs)("div",{className:"max",children:[Object(o.jsx)("span",{className:"max-num"}),Object(o.jsx)("span",{className:"max-btn-left",children:" "})]}),Object(o.jsx)("div",{className:"add-margin-btn",children:Object(o.jsx)(c.a,{className:"margin-btn",btnText:m.withdraw,lang:m,click:async()=>{const i=Object(l.b)(O);if(Object(l.b)(g).gt(i))return void alert(m["under-margin"]);if(+g<=0||isNaN(g))return void alert(m["it-has-to-be-greater-than-zero-tip"]);f(!0);const t=i.eq(g),c=await Object(a.db)(e.detail.chainId,s.pool,e.detail.account,g,s.bTokenId,t);if(c.success)j(),d();else{const e="string"===typeof c.error?c.error:c.error.errorMessage||c.error.message;alert(e)}f(!1)},checkApprove:!0,wallet:e,spec:s})})]})})]})})})}},585:function(e,s,i){"use strict";i.d(s,"a",(function(){return O}));var t=i(2),a=i(131),c=i(580),n=i(584),l=i(586),r=i(587),o=i(572),d=i(10),j=i(578),b=i(13);const A=Object(a.a)(c.a),m=Object(a.a)(n.a);function O({wallet:e,spec:s,afterDepositAndWithdraw:i,position:a,onClose:c,lang:n}){const[O,x]=Object(t.useState)([]),u=parseInt((document.body.offsetHeight-140)/54),[p,g]=Object(t.useState)(Array.from({length:u})),[h,v]=Object(t.useState)(!1),[f,N]=Object(t.useState)(!1),[w,y]=Object(t.useState)(""),[C,D]=Object(t.useState)(""),[S,I]=Object(t.useState)(""),[k,B]=Object(t.useState)("");Object(j.a)();const M=async()=>{if(e.detail.account&&s){const i=await Object(d.z)(e.detail.chainId,s.pool,e.detail.account,s.symbolId);x(i),i.length<u&&g(Array.from({length:u-i.length}))}};return Object(t.useEffect)((()=>(M(),window.scrollTo(0,0),()=>{})),[e.detail.account,s]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"modal fade",children:Object(b.jsx)("div",{className:"modal-dialog",children:Object(b.jsxs)("div",{className:"modal-content",children:[Object(b.jsxs)("div",{className:"modal-header",children:[Object(b.jsx)("div",{className:"title",children:n["balance-in-contract-uppercase"]}),Object(b.jsx)("div",{className:"close","data-dismiss":"modal",onClick:()=>{i(),c()},children:Object(b.jsx)("span",{children:"\xd7"})})]}),Object(b.jsx)("div",{className:"modal-body",children:Object(b.jsxs)("div",{className:"balance-list",children:[Object(b.jsxs)("div",{className:"row header",children:[Object(b.jsx)("span",{className:"btoken pc",children:n["base-token"]}),Object(b.jsx)("span",{className:"btoken mobile",children:n["base-token"]}),Object(b.jsx)("span",{className:"w-balance pc",children:n["wallet-balance"]}),Object(b.jsx)("span",{className:"w-balance mobile",children:n["wallet-balance"]}),Object(b.jsx)("span",{className:"avail-balance pc",children:n["available-balance"]}),Object(b.jsx)("span",{className:"avail-balance mobile",children:n["available-balance"]})]}),O.map(((e,s)=>Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("span",{className:"btoken",children:e.bTokenSymbol}),Object(b.jsx)("span",{className:"w-balance",children:Object(b.jsx)(o.a,{value:e.walletBalance,fixedDecimalScale:!0,decimalScale:2})}),Object(b.jsx)("span",{className:"avail-balance",children:Object(b.jsx)(o.a,{value:e.availableBalance,fixedDecimalScale:!0,decimalScale:2})}),Object(b.jsxs)("span",{className:"action",children:[Object(b.jsxs)("span",{className:"add-margin",id:"openAddMargin",onClick:()=>((e,s,i)=>{y(e),I(s),B(i),v(!0)})(e.walletBalance,e.bTokenId,e.bTokenSymbol),children:[Object(b.jsx)("img",{src:l.a,alt:n["add-margin"]})," ",n.add]}),Object(b.jsxs)("span",{className:"remove-margin",onClick:()=>((e,s,i)=>{D(e),I(s),B(i),N(!0)})(e.availableBalance,e.bTokenId,e.bTokenSymbol),children:[Object(b.jsx)("img",{src:r.a,alt:n["remove-margin"]})," ",n.remove]})]})]},s))),p.map(((e,s)=>Object(b.jsx)("div",{className:"row"},s)))]})})]})})}),Object(b.jsx)(A,{wallet:e,onClose:()=>v(!1),balance:w,spec:{...s,bTokenId:S,bTokenSymbol:k},position:a,modalIsOpen:h,afterDeposit:()=>{v(!1),M()},className:"trading-dialog",nested:!0,lang:n}),Object(b.jsx)(m,{wallet:e,onClose:()=>N(!1),spec:{...s,bTokenId:S,bTokenSymbol:k},position:a,modalIsOpen:f,afterWithdraw:()=>{N(!1),M()},availableBalance:C,className:"trading-dialog",nested:!0,lang:n})]})}},586:function(e,s,i){"use strict";s.a=i.p+"static/media/remove-margin.1ccb58c4.svg"},587:function(e,s,i){"use strict";s.a=i.p+"static/media/add-margin.8b496dd1.svg"},590:function(e,s,i){"use strict";s.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAASCAYAAAC5DOVpAAAACXBIWXMAAAsSAAALEgHS3X78AAAArUlEQVQ4ja2UUQ0CMQxAHwQBOEACSDgJOMDCOWAoOAuggElAAjg5FJQ0lMuyDHIbfUmzj3Zv3ZoMEfkWQd4Ey/cisvtRz5L5rIFoa5EambIBbl4yZQucvWTKAei9ZMoA7P+VnYCFRUwTq6xQT7o29WmdBUBsjXZyDdP+0jU1eWntrIRO6uElG4EOeHrIUuE4V5ZPM+dugb1laO2sGldZes2jRTv2sX0+wlaCiPACF2WaE4qSlAwAAAAASUVORK5CYII="},591:function(e,s,i){"use strict";s.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABO0lEQVQ4jaVV223DMAy8BvmvRvAG8QgeISN4lIyQDeoRMoK7gUfQBnUnYMH0LmAU2YETAoQhPs4niWd/mBkWLAE4AmiK9ATgstS0q8QcaADwA6Cv5E4AZj4fzRkG78xsNrOLmTVFrqyb6CnmYlFr/9avAJU+mFmOoCpIZLYFTO6gYwk4cJtbwUQmi4wC9uTMnnnP84QW4xtg8iupHedsrIxNCrG+GKGWsxhrvh1rT8AcwBz8wKaOw/3F/MzB9ppPPttysHNYq0GK0PqXnhnLoebO9oFZ3N7IbaupKwA61p2Lo7peylE39IZrUpJAZsrpVdCT5jgGXmXZREIxMVExW1Xifefax0ESGsovyAozB7uTbO2NrpqbNhdY+RH5Nm/MlgDl0qabv0CumLOqXuLaL8DNVVT7BfhwPxqAP4UiW3Wp1wTfAAAAAElFTkSuQmCC"},592:function(e,s,i){"use strict";var t=i(2),a=(i(647),i(570)),c=i.n(a),n=i(37),l=i(13);s.a=Object(n.b)("version","wallet","type")(Object(n.c)((function({lang:e,version:s,wallet:i,type:a}){const[n,r]=Object(t.useState)("main"),o=c()("area-picker-wrapper",n),d=e=>{r(e),"innovation"===e?s.setCurrent("v2_lite"):s.setCurrent("v2")};return Object(t.useEffect)((()=>(d("main"),()=>{})),[]),(s.isV2||s.isV2Lite)&&i.supportInnovation&&!a.isOption?Object(l.jsx)("div",{className:"area-picker",children:Object(l.jsxs)("div",{className:o,children:[Object(l.jsx)("span",{className:"left",onClick:()=>d("main"),children:e["main-zone"]}),Object(l.jsx)("span",{className:"right",onClick:()=>d("innovation"),children:e["innovation-zone"]})]})}):null})))},602:function(e,s,i){"use strict";var t=i(2),a=i(10),c=i(570),n=i.n(c),l=i(131),r=i(580),o=i(584),d=i(572),j=i(26),b=i(37),A=i(585),m=i(587),O=i(586),x=i(590),u=i(591),p=i.p+"static/media/close-position-icon.6e2b1ee2.svg",g=i(13);const h=Object(l.a)(r.a),v=Object(l.a)(o.a),f=Object(l.a)(A.a);function N({trading:e,wallet:s,lang:i}){const[a,c]=Object(t.useState)(Object(g.jsx)("span",{}));return Object(t.useEffect)((()=>{let t;s.isConnected()&&e.position.liquidationPrice&&(e.position.liquidationPrice.numPositions>1?e.position.liquidationPrice.price1&&e.position.liquidationPrice.price2?t=Object(g.jsxs)("span",{children:[Object(g.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price1}),Object(g.jsx)("span",{children:" / "}),Object(g.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price2})]}):e.position.liquidationPrice.price1||e.position.liquidationPrice.price2?!e.position.liquidationPrice.price1&&e.position.liquidationPrice.price2?t=Object(g.jsxs)("span",{children:[Object(g.jsx)("span",{className:"funding-fee",title:i["liq-price-hover"],children:" ? "}),Object(g.jsx)("span",{children:" / "}),Object(g.jsxs)("span",{children:[" ",Object(g.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price2})," "]})]}):e.position.liquidationPrice.price1&&!e.position.liquidationPrice.price2&&(t=Object(g.jsxs)("span",{children:[Object(g.jsxs)("span",{children:[" ",Object(g.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price1})," "]}),Object(g.jsx)("span",{children:" / "}),Object(g.jsx)("span",{className:"funding-fee",title:i["liq-price-hover"],children:" ? "})]})):t=Object(g.jsxs)("span",{children:[Object(g.jsx)("span",{className:"funding-fee",title:i["liq-price-hover"],children:" ? "}),Object(g.jsx)("span",{children:" / "}),Object(g.jsx)("span",{className:"funding-fee",title:i["liq-price-hover"],children:" ? "})]}):e.position.liquidationPrice.price1&&e.position.liquidationPrice.price2?t=Object(g.jsxs)("span",{children:[Object(g.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price1}),Object(g.jsx)("span",{children:" / "}),Object(g.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price2})]}):e.position.liquidationPrice.price1||e.position.liquidationPrice.price2?!e.position.liquidationPrice.price1&&e.position.liquidationPrice.price2?t=Object(g.jsxs)("span",{children:[Object(g.jsx)("span",{children:" -- "}),Object(g.jsx)("span",{children:" / "}),Object(g.jsxs)("span",{children:[" ",Object(g.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price2})," "]})]}):e.position.liquidationPrice.price1&&!e.position.liquidationPrice.price2&&(t=Object(g.jsxs)("span",{children:[Object(g.jsxs)("span",{children:[" ",Object(g.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price1})," "]}),Object(g.jsx)("span",{children:" / "}),Object(g.jsx)("span",{children:" -- "})]})):t=Object(g.jsxs)("span",{children:[Object(g.jsx)("span",{children:" -- "}),Object(g.jsx)("span",{children:" / "}),Object(g.jsx)("span",{children:" -- "})]}),c(t))}),[e.position,s.detail]),Object(g.jsx)("span",{children:a})}var w=Object(b.b)("wallet","trading","version","type")(Object(b.c)((function({wallet:e,trading:s,version:i,lang:c,type:l}){const[r,o]=Object(t.useState)(!1),[b,A]=Object(t.useState)(""),[w,y]=Object(t.useState)(""),[C,D]=Object(t.useState)(""),[S,I]=Object(t.useState)(!1),[k,B]=Object(t.useState)(!1),[M,Q]=Object(t.useState)(!1),[E,P]=Object(t.useState)(""),F=async()=>{if(e.isConnected()&&s.config){const i=await Object(a.M)(e.detail.chainId,s.config.pool,e.detail.account,s.config.bTokenId).catch((e=>console.error("load balance error,maybe network is wrong")));i&&P(i)}},T=()=>{s.refresh(),F()},R=n()("Direction","info-num",{LONG:+s.position.volume>0,SHORT:+s.position.volume<0});return Object(t.useEffect)((()=>(F(),()=>{})),[e.detail.account,s.config]),Object(t.useEffect)((()=>{if(s.position){const{position:e}=s,i=+e.volume>0?c.long:Object(j.c)(e.volume,0)||!e.volume?"--":c.short;A(i),y(Object(a.e)(e.margin).plus(e.unrealizedPnl).toString()),D(Object(a.e)(e.margin).plus(e.unrealizedPnl).minus(e.marginHeld).toString())}return()=>{}}),[s.position.volume,s.position.margin,s.position.unrealizedPnl]),Object(g.jsxs)("div",{className:"position-info",children:[Object(g.jsxs)("div",{className:"info",children:[Object(g.jsxs)("div",{className:"info-left",children:[Object(g.jsx)("div",{className:"title-text",children:c.position}),Object(g.jsx)("div",{className:"info-num",children:Object(g.jsx)(d.a,{value:s.position.volume,allowZero:!0})})]}),Object(g.jsx)("div",{className:"info-right",children:Object(g.jsxs)("div",{className:"close-position",id:"close-p",onClick:async()=>{o(!0);const i=await Object(a.f)(e.detail.chainId,s.config.pool,e.detail.account,s.config.symbolId).finally((()=>o(!1)));i.success?T():"string"===typeof i.error?alert(i.error||c["close-position-failed"]):"object"===typeof i.error?alert(i.error.errorMessage||c["close-position-failed"]):alert(c["close-position-failed"])},children:[Object(g.jsx)("span",{className:"spinner spinner-border spinner-border-sm",role:"status","aria-hidden":"true",style:{display:r?"block":"none"}}),Object(g.jsx)("img",{src:p})," ",c.close]})})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsxs)("div",{className:"info-left",children:[Object(g.jsx)("div",{className:"title-text",children:c["average-entry-price"]}),Object(g.jsx)("div",{className:"info-num",children:Object(g.jsx)(d.a,{value:s.position.averageEntryPrice,decimalScale:2})})]}),Object(g.jsx)("div",{className:"info-right"})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsxs)("div",{className:"info-left",children:[Object(g.jsx)("div",{className:"title-text balance-con",children:i.isV1||i.isV2Lite?Object(g.jsxs)(g.Fragment,{children:[c["balance-in-contract"],Object(g.jsx)("br",{})," (",c["dynamic-balance"],")"]}):c["dynamic-effective-balance"]}),Object(g.jsx)("div",{className:"info-num",children:Object(g.jsx)(d.a,{decimalScale:2,allowZero:!0,value:w})})]}),Object(g.jsx)("div",{className:`info-right action ${i.current}`,children:i.isV1||i.isV2Lite||l.isOption?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"add-margin",id:"openAddMargin",onClick:()=>B(!0),children:[Object(g.jsx)("img",{src:O.a,alt:"add margin"})," ",c.add]}),Object(g.jsxs)("div",{className:"remove-margin",onClick:()=>Q(!0),children:[Object(g.jsx)("img",{src:m.a,alt:"add margin"})," ",c.remove]})]}):Object(g.jsxs)("div",{onClick:()=>I(!0),children:[Object(g.jsx)("img",{src:x.a,alt:"Remove margin"})," ",c.detail]})})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsxs)("div",{className:"info-left",children:[Object(g.jsx)("div",{className:"title-text",children:c.direction}),Object(g.jsx)("div",{className:R,children:b})]}),Object(g.jsx)("div",{className:"info-right"})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsxs)("div",{className:"info-left",children:[Object(g.jsx)("div",{className:"title-text",children:c.margin}),Object(g.jsx)("div",{className:"info-num",children:Object(g.jsx)(d.a,{value:s.position.marginHeld,decimalScale:2})})]}),Object(g.jsx)("div",{className:"info-right"})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsxs)("div",{className:"info-left",children:[Object(g.jsx)("div",{className:"title-text",children:c["unrealized-pnl"]}),Object(g.jsx)("div",{className:"info-num",children:Object(g.jsxs)("span",{className:"pnl-list",children:[Object(g.jsx)(d.a,{value:s.position.unrealizedPnl,decimalScale:8}),(s.position.unrealizedPnlList?(i.isV2||i.isV2Lite)&&s.position.unrealizedPnlList.length:i.isV2||i.isV2Lite)&&Object(g.jsx)("img",{src:u.a,alt:"unrealizePnl"}),(i.isV2||i.isV2Lite)&&Object(g.jsx)("div",{className:"pnl-box",children:s.position.unrealizedPnlList&&s.position.unrealizedPnlList.map(((e,s)=>Object(g.jsxs)("div",{className:"unrealizePnl-item",children:[Object(g.jsx)("span",{children:e[0]}),Object(g.jsx)("span",{children:Object(g.jsx)(d.a,{value:e[1],decimalScale:8})})]},s)))})]})})]}),Object(g.jsx)("div",{className:"info-right"})]}),l.isFuture&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"info",children:[Object(g.jsxs)("div",{className:"info-left",children:[Object(g.jsx)("div",{className:"title-text  funding-fee",title:c["funding-fee-tip"],children:c["funding-fee"]}),Object(g.jsx)("div",{className:"info-num",children:Object(g.jsx)(d.a,{value:-s.position.fundingFee,decimalScale:8})})]}),Object(g.jsx)("div",{className:"info-right"})]})}),l.isOption&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"info",children:[Object(g.jsxs)("div",{className:"info-left",children:[Object(g.jsx)("div",{className:"title-text funding-fee",title:c["funding-fee-tip"],children:c["funding-rate-p"]}),Object(g.jsx)("div",{className:"info-num",children:Object(g.jsx)(d.a,{decimalScale:4,value:-s.position.premiumFundingAccrued})})]}),Object(g.jsx)("div",{className:"info-right"})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsxs)("div",{className:"info-left",children:[Object(g.jsx)("div",{className:"title-text funding-fee",title:c["funding-fee-tip"],children:c["funding-rate-d"]}),Object(g.jsx)("div",{className:"info-num",children:Object(g.jsx)(d.a,{decimalScale:4,value:-s.position.deltaFundingAccrued})})]}),Object(g.jsx)("div",{className:"info-right"})]})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsxs)("div",{className:"info-left",children:[Object(g.jsx)("div",{className:"title-text",children:c["liquidation-price"]}),Object(g.jsx)("div",{className:"info-num",children:l.isOption?Object(g.jsx)(N,{trading:s,wallet:e,lang:c}):Object(g.jsx)(d.a,{decimalScale:4,value:s.position.liquidationPrice})})]}),Object(g.jsx)("div",{className:"info-right"})]}),Object(g.jsx)(h,{wallet:e,modalIsOpen:k,onClose:()=>{B(!1)},spec:s.config,afterDeposit:()=>{B(!1),T()},balance:E,className:"trading-dialog",lang:c}),Object(g.jsx)(v,{wallet:e,modalIsOpen:M,onClose:()=>{Q(!1)},spec:s.config,afterWithdraw:()=>{Q(!1),T()},position:s.position,availableBalance:C,className:"trading-dialog",lang:c}),Object(g.jsx)(f,{wallet:e,modalIsOpen:S,onClose:()=>{I(!1)},spec:s.config,afterDepositAndWithdraw:()=>{T()},position:s.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog",lang:c})]})}))),y=i(575),C=i.n(y),D=i(573);var S=i(76),I=i(579);const k=S[a.a.get()].chainInfo;function B({wallet:e,his:s}){const[i,a]=Object(t.useState)(!1),c=()=>{a(!0)},l=()=>{a(!1)},r=n()("view",{hover:i});return Object(g.jsxs)("span",{className:r,onMouseOut:l,children:[Object(g.jsx)("span",{className:"view-space",onMouseOver:c,children:Object(g.jsxs)("a",{target:"_blank",rel:"noreferrer",href:`${k[e.detail.chainId].viewUrl}tx/${s.transactionHash}`,children:["View at ",k[e.detail.chainId].viewUrl]})}),Object(g.jsx)("span",{className:"right-arrow",onMouseOver:c,children:Object(g.jsx)("img",{alt:"",src:I.a})}),Object(g.jsx)("span",{className:"view-arrow",onMouseOver:c,onMouseOut:l,children:Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:`${k[e.detail.chainId].viewUrl}tx/${s.transactionHash}`,children:Object(g.jsx)("img",{rel:"noreferrer",alt:"",src:"data:image/svg+xml;base64,DQo8c3ZnIGZpbGw9Im5vbmUiIGhlaWdodD0iMTAiIHdpZHRoPSIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCiAgICA8cGF0aCBkPSJNOC42NzYuNjQyYS42NS42NSAwIDAwLS4wNzIuMDA2SDQuNzkzYS42NS42NSAwIDAwLS41Ny45NzUuNjUuNjUgMCAwMC41Ny4zMjJINy4xMkwuNDM4IDguNjE0YS42NDcuNjQ3IDAgMDAuMjg2IDEuMDk2LjY1LjY1IDAgMDAuNjMyLS4xNzlMOC4wNCAyLjg2MXYyLjMyNGEuNjQ4LjY0OCAwIDAwLjk3Ny41Ny42NDguNjQ4IDAgMDAuMzIyLS41N1YxLjM4YS42NDcuNjQ3IDAgMDAtLjY2Mi0uNzM3eiIgZmlsbD0iI0FBQUFBQSIvPg0KPC9zdmc+DQoNCg=="})})})]})}var M=Object(b.b)("wallet","trading","type")(Object(b.c)((function({wallet:e,trading:s,lang:i,type:a}){const[c,n]=Object(t.useState)([]);return Object(t.useEffect)((()=>(async function(){if(e.isConnected()&&s.configs&&s.config&&s.contract){const e=s.history.map((e=>{e.directionText=i["long-buy"],"SHORT"===e.direction?e.directionText=i["short-sell"]:"liquidation"===e.direction.toLowerCase()&&(e.directionText=i.liquidation);const t=s.config;return t&&(e.baseTokenText=a.isOption?`${e.symbol} / ${e.baseToken}`:e.baseToken?` ${t.symbol} / ${t.bTokenSymbol}`:t.symbol),e}));n(e)}}(),()=>{})),[e.detail,s.configs,s.config,s.history]),Object(g.jsxs)("div",{className:"history-info","v-show":"historyShow",children:[c.map(((s,t)=>Object(g.jsxs)("div",{className:"history-box",children:[Object(g.jsxs)("div",{className:"direction-bToken-price",children:[Object(g.jsxs)("span",{className:"direction",children:[Object(g.jsxs)("span",{className:`${s.direction}`,children:[" ",s.directionText]}),Object(g.jsx)("span",{className:"basetoken",children:s.baseTokenText}),Object(g.jsx)(B,{wallet:e,his:s})]}),Object(g.jsx)("span",{className:"history-text time",children:C.a.asString("yyyy-MM-dd hh:mm:ss",new Date(parseInt(s.time)))})]}),Object(g.jsxs)("div",{className:"time-price-volume",children:[Object(g.jsxs)("div",{className:"history-price",children:[Object(g.jsxs)("div",{className:"history-title",children:[" ",a.isOption?i["volume-notional-price"]:i["volume-price"]]}),Object(g.jsxs)("div",{className:"history-text",children:[s.volume," @ ",Object(g.jsx)(d.a,{value:s.price,decimalScale:2,displayType:"text"})]})]}),Object(g.jsxs)("div",{className:"notional",children:[Object(g.jsxs)("div",{className:"history-title",children:[" ",a.isOption?i["contract-value"]:i.notional]}),Object(g.jsx)("div",{className:"history-text",children:Object(g.jsx)(d.a,{value:s.notional,decimalScale:4})})]}),Object(g.jsxs)("div",{className:"history-fee",children:[Object(g.jsx)("div",{className:"history-title pc",children:i["transaction-fee"]}),Object(g.jsx)("div",{className:"history-title mobile",children:i["transaction-fee"]}),Object(g.jsx)("div",{className:"history-text",children:Object(g.jsx)(d.a,{value:s.transactionFee,decimalScale:4})})]})]})]},t))),0==c.length?Object(g.jsx)("div",{className:"no-data",children:i["no-data"]}):""]})})));var Q=Object(b.b)("wallet","trading","type")(Object(b.c)((function({wallet:e,trading:s,lang:i,type:t}){return Object(g.jsxs)("div",{className:"contract-box",children:[Object(g.jsx)("div",{className:"contract-header"}),Object(g.jsxs)("div",{className:"contract-info",children:[Object(g.jsx)("div",{className:"conntract-header",children:i["contract-info"]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsx)("div",{className:"title",children:i["base-token"]}),Object(g.jsx)("div",{className:"text",dangerouslySetInnerHTML:{__html:s.contract.bTokenSymbolDisplay&&s.contract.bTokenSymbolDisplay.map((e=>e))}})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsx)("div",{className:"title",children:i.symbol}),Object(g.jsx)("div",{className:"text",children:s.contract.symbol})]}),t.isFuture&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"info",children:[Object(g.jsx)("div",{className:"title",children:i.multiplier}),Object(g.jsx)("div",{className:"text",children:s.contract.multiplier})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsx)("div",{className:"title",children:i["funding-rate-coefficient"]}),Object(g.jsx)("div",{className:"text",children:s.contract.fundingRateCoefficient})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsx)("div",{className:"title",children:i["min-initial-margin-ratio"]}),Object(g.jsx)("div",{className:"text",children:Object(g.jsx)(D.a,{displayType:"text",value:100*s.contract.minInitialMarginRatio,decimalScale:2,suffix:"%"})})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsx)("div",{className:"title",children:i["min-maintenance-margin-ratio"]}),Object(g.jsx)("div",{className:"text",children:Object(g.jsx)(D.a,{displayType:"text",value:100*s.contract.minMaintenanceMarginRatio,decimalScale:2,suffix:"%"})})]})]}),t.isOption&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"info",children:[Object(g.jsx)("div",{className:"title",children:i.underlier}),Object(g.jsx)("div",{className:"text",children:s.contract.underlier})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsx)("div",{className:"title",children:i.strike}),Object(g.jsx)("div",{className:"text",children:s.contract.strike})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsx)("div",{className:"title",children:i["option-type"]}),Object(g.jsx)("div",{className:"text",children:"C"===s.contract.optionType?`${i.call}`:`${i.put}`})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsxs)("div",{className:"title",children:[" ",Object(g.jsxs)("span",{children:[i["min-trade-volume"]," ( ",i.notional," )"]})," "]}),Object(g.jsxs)("div",{className:"text",children:[s.contract.multiplier," ",s.config?s.config.unit:""]})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsx)("div",{className:"title ",children:i["delta-funding-coefficient"]}),Object(g.jsx)("div",{className:"text",children:s.contract.deltaFundingCoefficient})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsxs)("div",{className:"title",children:[" ",Object(g.jsx)("span",{title:s.initialMarginRatioTip,className:"margin-per",children:i["initial-margin-ratio"]})," "]}),Object(g.jsx)("div",{className:"text",children:Object(g.jsx)(D.a,{displayType:"text",value:100*s.contract.initialMarginRatio,decimalScale:2,suffix:"%"})})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsxs)("div",{className:"title",children:[" ",Object(g.jsxs)("span",{title:s.maintenanceMarginRatioTip,className:"margin-per",children:[" ",i["maintenance-margin-ratio"]]})," "]}),Object(g.jsx)("div",{className:"text",children:Object(g.jsx)(D.a,{displayType:"text",value:100*s.contract.maintenanceMarginRatio,decimalScale:2,suffix:"%"})})]})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsx)("div",{className:"title",children:i["transaction-fee"]}),Object(g.jsx)("div",{className:"text",children:Object(g.jsx)(D.a,{displayType:"text",value:100*s.contract.feeRatio,decimalScale:3,suffix:"%"})})]})]})]})}))),E=i(710);i(645),i(646);const{Handle:P}=E.b;function F(e){const{value:s,dragging:i,index:t,...a}=e;return Object(g.jsx)(E.a,{prefixCls:"rc-slider-tooltip",overlay:s||"",placement:"top",visible:!!s,overlayStyle:{display:"block"},overlayInnerStyle:{color:"#569BDA",background:"none",display:"block",fontSize:"10px",boxShadow:"none"},children:Object(g.jsx)(P,{value:s,...a})},t)}function T({max:e="--",start:s,onValueChange:i,freeze:c,currentSymbolMarginHeld:l,originMarginHeld:r,setStopCalculate:o}){const[d,j]=Object(t.useState)(0),[b,A]=Object(t.useState)(0),[m,O]=Object(t.useState)(!1),[x,u]=Object(t.useState)({}),[p,h]=Object(t.useState)(!1),[v,f]=Object(t.useState)(!1);Object(t.useEffect)((()=>(O(c),0===Math.abs(e)&&O(!0),()=>{})),[c,e]),Object(t.useEffect)((()=>{const s=e;return 0!==Math.abs(e)&&"--"!==e||(e=100),isNaN(s)&&j(""),e&&u((e=>{const s={},i=+e/10;for(let t=0;t<=10;t++)if(0===t||10===t){const e={top:"-16px",position:"relative"};10===t&&(e.width=100,e.left="-10px",e.paddingRight="10px"),s[t*i]=Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{style:e,children:10===t?(t*i).toFixed(2):t*i}),Object(g.jsx)("div",{style:{top:"-16px",position:"relative"},children:"l"})]})}else s[t*i]="l";return s})(e)),j(+e),"--"!==s&&h(!0),0!==Math.abs(e)&&0!==Math.abs(s)||h(!1),()=>{}}),[e]),Object(t.useEffect)((()=>(v||(isNaN(s)?A(0):A(s)),()=>{})),[s]);const N=n()("deri-slider",{controlled:p});return Object(g.jsx)(E.b,{handle:F,className:N,start:s,min:0,max:d,value:b,onChange:e=>{f(!0),o(!0),A(e),i(e,!1)},onAfterChange:e=>{if(l){const s=Object(a.e)(r).minus(l);Object(a.e)(e).lt(s)&&(A(s),i(s))}f(!1),o(!1)},disabled:m,overlay:b,step:.01,marks:x})}var R=i(571),Y=i(25);var J=i(582);function G({version:e,spec:s,type:i}){return i.isOption?`${s.symbol||"BTCUSD-20000-C"}`:e.isV1||e.isV2Lite?`${s.symbol||"BTCUSD"} / ${s.bTokenSymbol||"BUSD"} (10X)`:`${s.symbol||"BTCUSD"} (10X)`}var H=Object(b.b)("trading","version","loading","type")(Object(b.c)((function({trading:e,version:s,setSpec:i,spec:a,loading:c,type:l}){const[r,o]=Object(t.useState)(!1),d=n()("dropdown-menu",{show:r});return Object(g.jsxs)("div",{className:"btn-group check-baseToken-btn",children:[Object(g.jsxs)("button",{type:"button",onClick:s=>{e.configs.length>0&&(s.preventDefault(),o(!r))},className:"btn chec",children:[Object(g.jsx)(G,{spec:a,version:s,type:l}),Object(g.jsx)("span",{className:"check-base-down",children:Object(g.jsx)("img",{src:J.a,alt:""})})]}),Object(g.jsx)("div",{className:d,children:e.configs.map(((t,a)=>Object(g.jsx)("div",{className:"dropdown-item",onClick:s=>(s=>{const t=e.configs.find((e=>e.pool===s.pool&&s.symbolId===e.symbolId));t&&(c.loading(),e.pause(),i(t),e.onSymbolChange(t,(()=>c.loaded()),l.isOption),o(!1))})(t),children:Object(g.jsx)(G,{spec:t,version:s,type:l})},a)))})]})})));i(133);const L=Object(l.a)((function({wallet:e,spec:s,onClose:i,direction:c,volume:n,position:l=0,indexPrice:r,leverage:o,transFee:d,afterTrade:j,lang:b,markPriceAfter:A,trading:m}){const[O,x]=Object(t.useState)(!1),u=()=>{O||i()},p="long"===c?+n+ +l*m.contract.multiplier:+l*m.contract.multiplier-+n;return Object(g.jsx)("div",{className:"modal-dialog",children:Object(g.jsxs)("div",{className:"modal-content",children:[Object(g.jsxs)("div",{className:"modal-header",children:[Object(g.jsx)("div",{className:"title",children:b.confirm}),Object(g.jsx)("div",{className:"close","data-dismiss":"modal",onClick:u,children:Object(g.jsx)("span",{children:"\xd7"})})]}),Object(g.jsx)("div",{className:"modal-body",children:Object(g.jsxs)("div",{className:"contract-box-info",children:[Object(g.jsxs)("div",{className:"top",children:[Object(g.jsxs)("div",{className:"text",children:[Object(g.jsxs)("div",{className:"text-title",children:["# ",b["of-contracts"]]}),Object(g.jsx)("div",{className:"text-num",children:"long"===c?n:`-${n}`})]}),Object(g.jsxs)("div",{className:"text",children:[Object(g.jsx)("div",{className:"text-title",children:b["position-after-execution"]}),Object(g.jsx)("div",{className:"text-num",children:p})]}),Object(g.jsxs)("div",{className:"text",children:[Object(g.jsx)("div",{className:"text-title",children:b.direction}),Object(g.jsx)("div",{className:"text-num",children:Object(g.jsx)("span",{className:c,children:b[c.toLowerCase()]})})]}),Y.a.isFuture&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"text",children:[Object(g.jsx)("div",{className:"text-title",children:b["trade-price-estimated"]}),Object(g.jsx)("div",{className:"text-num",children:Object(g.jsx)(D.a,{value:r,decimalScale:2,displayType:"text"})})]})}),Y.a.isOption&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"text",children:[Object(g.jsx)("div",{className:"text-title",children:b["trade-price"]}),Object(g.jsx)("div",{className:"text-num",children:Object(g.jsx)(D.a,{value:A,decimalScale:2,displayType:"text"})})]})}),Y.a.isFuture&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"text",children:[Object(g.jsx)("div",{className:"text-title",children:b["leverage-after-execution"]}),Object(g.jsxs)("div",{className:"text-num",children:[o,"X"]})]})}),Object(g.jsxs)("div",{className:"text",children:[Object(g.jsx)("div",{className:"text-title",children:b["transaction-fee"]}),Object(g.jsx)("div",{className:"text-num",children:Object(g.jsx)(D.a,{value:d,decimalScale:2,suffix:` ${s.bTokenSymbol}`,displayType:"text"})})]})]}),Object(g.jsx)("div",{className:"modal-footer",children:Object(g.jsxs)("div",{className:"long-btn","v-if":"confirm",children:[Object(g.jsx)("button",{className:"cancel",onClick:u,children:b.cancel}),Object(g.jsx)(R.a,{className:"confirm",btnText:b.ok,click:async()=>{x(!0),n=Y.a.isOption?n/+m.contract.multiplier:n,n="long"===c?n:-+n;const t=await Object(a.Z)(e.detail.chainId,s.pool,e.detail.account,n,s.symbolId);if(t.success)j(),i();else{const e="string"===typeof t.error?t.error:t.error.errorMessage||t.error.message;alert(e)}x(!1)},lang:b})]})})]})})]})})})),z=Object(l.a)(r.a),Z=Object(l.a)(A.a);function U({hasConnectWallet:e,wallet:s,spec:i,volume:c,available:n,baseToken:l,leverage:r,indexPrice:o,position:d,transFee:j,afterTrade:b,direction:A,trading:m,symbolId:O,bTokenId:x,version:u,lang:p,type:h,markPriceAfter:v}){const[f,N]=Object(t.useState)(!0),[w,y]=Object(t.useState)(!0),[C,D]=Object(t.useState)(!1),[S,I]=Object(t.useState)(!1),[k,B]=Object(t.useState)(""),M=()=>{s.connect()},Q=async()=>{(await s.approve(i.pool,x)).success?(N(!0),F()):(N(!1),alert(p["approve-failed"]))},E=async()=>{m.refresh(),I(!1)},P=()=>{m.refresh(),I(!1)},F=async()=>{if(e()&&i){const e=await s.isApproved(i.pool,x);N(e)}};Object(t.useEffect)((()=>(e()&&i&&(async()=>{if(s.isConnected()&&i){const e=await Object(a.M)(s.detail.chainId,i.pool,s.detail.account,x).catch((e=>console.error("getWalletBalance was error,maybe network is Wrong")));e&&B(e)}})(),()=>{})),[s.detail.account,i,n]),Object(t.useEffect)((()=>(y(!c),()=>{})),[c]),Object(t.useEffect)((()=>(i&&F(),()=>{})),[s.detail.isApproved,i]);let T=Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(L,{wallet:s,className:"trading-dialog",spec:i,modalIsOpen:C,onClose:()=>D(!1),leverage:r,baseToken:l,volume:c,position:d.volume,indexPrice:o,transFee:j,afterTrade:b,direction:A,lang:p,markPriceAfter:v,trading:m}),Object(g.jsx)("button",{className:"short-submit",onClick:()=>D(!0),children:p.trade})]});return e()?f?!n||+n<=0?T=Object(g.jsxs)(g.Fragment,{children:[u.isV2&&!h.isOption?Object(g.jsx)(Z,{wallet:s,modalIsOpen:S,onClose:P,spec:m.config,afterDepositAndWithdraw:P,position:m.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog",lang:p}):Object(g.jsx)(z,{wallet:s,modalIsOpen:S,onClose:()=>I(!1),spec:i,balance:k,afterDeposit:E,className:"trading-dialog",lang:p}),Object(g.jsx)("div",{className:"noMargin-text",children:0!==+m.position.margin&&m.position.margin?p["not-enough-margin-tip"]:p["no-margin-tip"]}),Object(g.jsx)("button",{className:"short-submit",onClick:()=>I(!0),children:p.deposit})]}):w&&(T=Object(g.jsx)("button",{className:"btn btn-danger short-submit",children:p["enter-volume"]})):T=Object(g.jsx)(R.a,{className:"approve",btnText:p.approve,click:Q,lang:p}):T=Object(g.jsx)(R.a,{className:"btn btn-danger connect",btnText:p["connect-wallet"],click:M,lang:p}),Object(g.jsx)("div",{className:"submit-btn",children:T})}var q=Object(b.b)("wallet","trading","version","loading","type")(Object(b.c)((function({wallet:e={},trading:s,version:i,lang:c,loading:l,type:r}){const[o,j]=Object(t.useState)("long"),[b,A]=Object(t.useState)(),[m,O]=Object(t.useState)({}),[x,u]=Object(t.useState)(""),[p,h]=Object(t.useState)(""),[v,f]=Object(t.useState)(""),[N,w]=Object(t.useState)({}),[y,C]=Object(t.useState)("rise"),[D,S]=Object(t.useState)("rise"),[I,k]=Object(t.useState)(!0),[B,M]=Object(t.useState)(!1),[Q,E]=Object(t.useState)(!1),[P,F]=Object(t.useState)(!1),R=Object(t.useRef)(),Y=Object(t.useRef)(),J=n()("checked-long","check-long-short"," long-short",{"checked-short":"short"===o}),G=n()("contrant-input",{inputFamliy:""!==s.volume}),L=()=>m&&m.pool,z=()=>e&&e.detail&&e.detail.account,Z=e=>{s.setVolume(""),j(e)},q=e=>r.isOption?e/s.contract.multiplier:e,V=e=>{e.target.setAttribute("class","contrant-input inputFamliy")},W=e=>{r.isOption?46!==e.which&&(e.which<48||e.which>57)&&e.preventDefault():r.isFuture&&(e.which<48||e.which>57)&&e.preventDefault()},K=e=>{let{value:i}=e.target;"0"===i&&r.isFuture&&(i=""),s.setVolume(i),M(!0)},X=e=>{const i=e.target;if(r.isOption){let e=s.contract.multiplier.indexOf("."),t=s.contract.multiplier.slice(e).length,a=i.value;"-1"!=i.value.indexOf(".")&&(a=i.value.substring(0,i.value.indexOf(".")+t)),s.setVolume(a)}""===i.value&&i.setAttribute("class","contrant-input")};return Object(t.useEffect)((()=>((()=>{if(z()&&L()){const{chainId:s,account:i}=e.detail,t=m.pool,c=r.isOption?m.symbol.split("-")[0]:m.symbol;a.U.clear(),a.U.update(t,c)}})(),()=>{})),[e.detail]),Object(t.useEffect)((()=>{var e;return s.position&&s.position.volume&&(e=+s.position.volume,j(e>=0?"long":"short")),()=>{}}),[s.position.volume]),Object(t.useEffect)((()=>(Q||""===s.volumeDisplay?e.detail.account&&s.resume():(s.pause(),(async()=>{if(z()&&L()&&s.volumeDisplay){let i=q(s.volumeDisplay);const t="long"===o?i:-i,c=await Object(a.o)(e.detail.chainId,m.pool,t,m.symbolId);if(c){let e=r.isOption?c.deltaFunding1:c.fundingRate1;u(e)}}})(),r.isOption&&(async()=>{if(z()&&L()&&s.volumeDisplay){let i=q(s.volumeDisplay);const t="long"===o?i:-i,c=await Object(a.q)(e.detail.chainId,m.pool,t,m.symbolId);if(c){let e=Object(a.s)(s.index,s.position.strikePrice,s.position.isCall).plus(c).toString();h(e)}}})(),(async()=>{if(z()&&L()&&s.volumeDisplay&&r.isFuture){const{detail:i}=e,t="long"===o?s.volumeDisplay:-s.volumeDisplay,c=await Object(a.u)(i.chainId,m.pool,m.symbolId),n=await Object(a.p)(i.chainId,m.pool,t,m.symbolId);c&&n&&w({curLiqUsed:c.liquidityUsed0,afterLiqUsed:n.liquidityUsed1})}})(),(async()=>{if(z()&&L()&&s.volumeDisplay){let i=q(s.volumeDisplay);const t=await Object(a.n)(e.detail.chainId,m.pool,Math.abs(i),m.symbolId);isNaN(t)||f((+t).toFixed(2))}})()),()=>{})),[s.volumeDisplay,Q]),Object(t.useEffect)((()=>(R.current>s.index?C("fall"):C("rise"),R.current=s.index,()=>{})),[s.index]),Object(t.useEffect)((()=>{if(r.isOption){let e=Object(a.s)(s.index,s.position.strikePrice,s.position.isCall).plus(s.position.timePrice).toString();Y.current>e?S("fall"):S("rise"),Y.current=e,A(e)}}),[s.index,s.position]),Object(t.useEffect)((()=>(s.config&&O(s.config),()=>{})),[s.config]),Object(t.useEffect)((()=>{l.loading(),s.init(e,i,r.isOption,(()=>{l.loaded()}))}),[e.detail.account,i.current,r.isOption]),Object(t.useEffect)((()=>(s.margin&&s.direction&&j(s.direction),()=>{})),[s.margin]),Object(t.useEffect)((()=>(s.index&&e.isConnected()&&e.supportChain&&k(!1),()=>{})),[e.detail.account,s.index]),Object(t.useEffect)((()=>(B||(s.position.volume>0?s.volume<0?j("short"):j("long"):s.position.volume<0&&(s.volume>0?j("short"):j("long"))),()=>{})),[s.volume,B]),Object(t.useEffect)((()=>(s.setUserSelectedDirection(o),()=>{})),[o]),Object(g.jsx)("div",{className:"trade-info",children:Object(g.jsxs)("div",{className:"trade-peration",children:[Object(g.jsxs)("div",{className:"check-baseToken",children:[Object(g.jsx)(H,{setSpec:O,spec:m,isOption:r.isOption}),Object(g.jsxs)("div",{className:r.isOption?"price-fundingRate pc options":"price-fundingRate pc",children:[r.isFuture&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"index-prcie",children:[c["index-price"],": ",Object(g.jsxs)("span",{className:y,children:["\xa0 ",Object(g.jsx)(d.a,{value:s.index,decimalScale:2})]})]})}),r.isOption&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"mark-price",children:[c["eo-mark-price"]," : ",Object(g.jsxs)("span",{className:D,children:["\xa0 ",Object(g.jsx)(d.a,{value:b,decimalScale:4})]})]}),Object(g.jsxs)("div",{className:"index-prcie",children:[s.config&&r.isOption?s.config.symbol.split("-")[0]:""," : ",Object(g.jsxs)("span",{className:"option-vol",children:["\xa0 ",Object(g.jsxs)("span",{children:[" ",Object(g.jsx)(d.a,{value:s.index,decimalScale:2})]}),Object(g.jsx)("span",{className:"vol",children:" | "}),c.vol," : ",Object(g.jsx)(d.a,{value:s.position.volatility,decimalScale:2,suffix:"%"})]})]})]}),Object(g.jsxs)("div",{className:"funding-rate",children:[r.isOption&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"type.isOption-funding",children:[Object(g.jsx)("div",{children:Object(g.jsxs)("span",{children:[c["funding-rate"]," \xa0"]})}),Object(g.jsxs)("div",{className:"diseq",children:[Object(g.jsxs)("span",{title:c["premium-tip"],className:"funding-per",children:[" \xa0-",c.premium," : \xa0"]}),Object(g.jsx)("span",{className:"funding-per",title:s.fundingRatePremiumTip,children:Object(g.jsx)(d.a,{value:s.fundingRate.premiumFunding0,decimalScale:4})})]}),Object(g.jsxs)("div",{className:"diseq",children:[Object(g.jsxs)("span",{title:c["delta-tip"],className:"funding-per",children:[" \xa0-",c.delta," : \xa0"]}),Object(g.jsx)("span",{className:"funding-per",title:s.fundingRateDeltaTip,children:Object(g.jsx)(d.a,{value:s.fundingRate.deltaFunding0,decimalScale:4})})]})]})}),r.isFuture&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("span",{children:[c["funding-rate-annual"]," : \xa0"]}),Object(g.jsx)("span",{className:"funding-per",title:s.fundingRateTip,children:Object(g.jsx)(d.a,{value:s.fundingRate.fundingRate0,decimalScale:4,suffix:"%"})})]})]})]}),Object(g.jsxs)("div",{className:r.isOption?"price-fundingRate mobile options":"price-fundingRate mobile",children:[r.isFuture&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"index-prcie",children:[c.index,": ",Object(g.jsxs)("span",{className:y,children:["\xa0 ",Object(g.jsx)(d.a,{value:s.index,decimalScale:2})]})]})}),r.isOption&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"mark-price",children:[c["eo-mark-price"]," : ",Object(g.jsxs)("span",{className:D,children:["\xa0 ",Object(g.jsx)(d.a,{value:b,decimalScale:2})]})]}),Object(g.jsxs)("div",{className:"index-prcie",children:[s.config&&r.isOption?s.config.symbol.split("-")[0]:"",": ",Object(g.jsxs)("span",{className:y,children:["\xa0 ",Object(g.jsx)(d.a,{value:s.index,decimalScale:2})]})]}),Object(g.jsxs)("div",{className:"index-prcie",children:[c.vol,": ",Object(g.jsx)(d.a,{value:s.position.volatility,decimalScale:2})]})]}),Object(g.jsxs)("div",{className:"funding-rate",children:[r.isOption&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"type.isOption-funding",children:[Object(g.jsx)("div",{children:Object(g.jsxs)("span",{children:[c["funding-rate"]," \xa0"]})}),Object(g.jsxs)("div",{className:"diseq",children:[Object(g.jsxs)("span",{children:[" \xa0-",c.premium," : \xa0"]}),Object(g.jsx)("span",{className:"funding-per",title:s.fundingRatePremiumTip,children:Object(g.jsx)(d.a,{value:s.fundingRate.premiumFunding0,decimalScale:4})})]}),Object(g.jsxs)("div",{className:"diseq",children:[Object(g.jsxs)("span",{children:[" \xa0-",c.delta," : \xa0"]}),Object(g.jsx)("span",{className:"funding-per",title:s.fundingRateDeltaTip,children:Object(g.jsx)(d.a,{value:s.fundingRate.deltaFunding0,decimalScale:4})})]})]})}),!r.isOption&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("span",{children:[c.funding,": \xa0"]}),Object(g.jsx)("span",{className:"funding-per",title:s.fundingRateTip,children:Object(g.jsx)(d.a,{value:s.fundingRate.fundingRate0,decimalScale:4,suffix:"%"})})]})]})]})]}),Object(g.jsxs)("div",{className:J,children:[Object(g.jsx)("div",{className:"check-long",onClick:()=>Z("long"),children:c["long-buy"]}),Object(g.jsx)("div",{className:"check-short",onClick:()=>Z("short"),children:c["short-sell"]})]}),Object(g.jsxs)("div",{className:"the-input",children:[Object(g.jsxs)("div",{className:"left",children:[Object(g.jsxs)("div",{className:"current-position",children:[Object(g.jsx)("span",{children:c["current-position"]}),Object(g.jsx)("span",{className:"position-text",children:Object(g.jsx)(d.a,{value:s.position.volume,allowZero:!0})})]}),r.isFuture&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"contrant",children:[Object(g.jsx)("input",{type:"number",onFocus:V,onBlur:X,onKeyPress:W,disabled:!s.index||0===Math.abs(s.position.margin),onChange:e=>K(e),value:s.volumeDisplay,className:G,placeholder:c["contract-volume"]}),Object(g.jsx)("div",{className:"title-volume",children:c["contract-volume"]})]})}),r.isOption&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"contrant option-input",children:[Object(g.jsx)("input",{type:"number",onFocus:V,onBlur:X,onKeyPress:W,disabled:!s.index||0===Math.abs(s.position.margin),onChange:e=>K(e),value:s.volumeDisplay,className:G,placeholder:c["option-input"]}),Object(g.jsx)("div",{className:"option-unit",children:m.unit})]})}),!!s.volumeDisplay&&r.isFuture&&Object(g.jsx)("div",{className:"btc",children:Object(g.jsx)(d.a,{value:s.amount.exchanged,allowNegative:!1,decimalScale:4,prefix:"= ",suffix:` ${m.unit}`})})]}),Object(g.jsx)("div",{className:"right-info",children:Object(g.jsxs)("div",{className:`contrant-info ${i.current}`,children:[Object(g.jsxs)("div",{className:"balance-contract",children:[i.isV1&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("span",{className:"balance-contract-text pc v1",children:[c["balance-in-contract"],Object(g.jsx)("br",{}),"(",c["dynamic-balance"],")"]}),Object(g.jsxs)("span",{className:"balance-contract-text mobile v1",children:[c["balance-in-contract"],Object(g.jsx)("br",{}),"(",c["dynamic-balance"],")"]})]}),(i.isV2||i.isV2Lite||r.isOption)&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("span",{className:"balance-contract-text pc",title:c["dynamic-effective-balance-title"],children:c["dynamic-effective-balance"]}),Object(g.jsx)("span",{className:"balance-contract-text mobile",title:c["dynamic-effective-balance-title"],children:c["dynamic-effective-balance"]})]}),Object(g.jsx)("span",{className:`balance-contract-num ${i.current}`,children:Object(g.jsx)(d.a,{value:s.amount.dynBalance,allowZero:!0,decimalScale:2})})]}),i.isV1&&Object(g.jsxs)("div",{className:"box-margin",children:[Object(g.jsx)("span",{children:c.margin}),Object(g.jsx)("span",{className:"margin",children:Object(g.jsx)(d.a,{value:s.amount.margin,allowZero:!0,decimalScale:2})})]}),(i.isV2||i.isV2Lite||r.isOption)&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"box-margin",children:c.margin}),Object(g.jsxs)("div",{className:"box-margin",children:[Object(g.jsxs)("span",{className:"total-held",title:c["total-held-title"],children:["\xa0- ",c["total-held"]]}),Object(g.jsx)("span",{className:"margin",children:Object(g.jsx)(d.a,{value:s.amount.margin,allowZero:!0,decimalScale:2})})]}),Object(g.jsxs)("div",{children:[Object(g.jsxs)("span",{className:"pos-held",title:c["for-this-pos-title"],children:["\xa0- ",c["for-this-pos"]," "]}),Object(g.jsx)("span",{className:"margin",children:Object(g.jsx)(d.a,{value:s.amount.currentSymbolMarginHeld,allowZero:!0,decimalScale:2})})]})]}),Object(g.jsxs)("div",{className:"available-balance",children:[Object(g.jsxs)("span",{className:"available-balance pc",title:c["available-balance-title"],children:[" ",c["available-balance"]," "]}),Object(g.jsx)("span",{className:"available-balance mobile",children:c["available-balance"]}),Object(g.jsx)("span",{className:"available-balance-num",children:Object(g.jsx)(d.a,{value:s.amount.available,allowZero:!0,decimalScale:2})})]})]})})]}),Object(g.jsx)("div",{className:"slider mt-13",children:Object(g.jsx)(T,{max:s.amount.dynBalance,onValueChange:(e,i)=>{s.setSlideMargin(e),M(!1),i&&j("long"===o?"short":"long")},start:s.amount.margin,freeze:I,currentSymbolMarginHeld:s.position.marginHeldBySymbol,originMarginHeld:s.position.marginHeld,setStopCalculate:e=>E(e)})}),Object(g.jsx)("div",{className:"title-margin",children:c.margin}),Object(g.jsx)("div",{className:"enterInfo",children:!!s.volumeDisplay&&Object(g.jsxs)(g.Fragment,{children:[r.isFuture&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"text-info",children:[Object(g.jsx)("div",{className:"title-enter pool",children:c["pool-liquidity"]}),Object(g.jsx)("div",{className:"text-enter poolL",children:Object(g.jsx)(d.a,{value:s.fundingRate.liquidity,decimalScale:2,suffix:` ${m.bTokenSymbol}`})})]}),Object(g.jsxs)("div",{className:"text-info",children:[Object(g.jsx)("div",{className:"title-enter",children:c["liquidity-used"]}),Object(g.jsxs)("div",{className:"text-enter",children:[Object(g.jsx)(d.a,{value:N.curLiqUsed,suffix:"%",decimalScale:2})," -> ",Object(g.jsx)(d.a,{value:N.afterLiqUsed,decimalScale:2,suffix:"%"})]})]}),Object(g.jsxs)("div",{className:"text-info",children:[Object(g.jsx)("div",{className:"title-enter",children:c["funding-rate-impact"]}),Object(g.jsxs)("div",{className:"text-enter",children:[Object(g.jsx)(d.a,{value:s.fundingRate.fundingRate0,suffix:"%",decimalScale:4})," -> ",Object(g.jsx)(d.a,{value:x,decimalScale:4,suffix:"%"})]})]})]}),r.isOption&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"text-info",children:[Object(g.jsx)("div",{className:"title-enter pool",children:c["mark-price"]}),Object(g.jsx)("div",{className:"text-enter poolL",children:Object(g.jsx)(d.a,{value:b,decimalScale:4})})]}),Object(g.jsxs)("div",{className:"text-info",children:[Object(g.jsx)("div",{className:"title-enter pool",children:c["trade-price"]}),Object(g.jsx)("div",{className:"text-enter poolL",children:Object(g.jsx)(d.a,{value:p,decimalScale:4})})]}),Object(g.jsxs)("div",{className:"text-info",children:[Object(g.jsx)("div",{className:"title-enter pool",children:c["pool-liquidity"]}),Object(g.jsx)("div",{className:"text-enter poolL",children:Object(g.jsx)(d.a,{value:s.fundingRate.liquidity,decimalScale:2,suffix:` ${m.bTokenSymbol}`})})]}),Object(g.jsxs)("div",{className:"text-info",children:[Object(g.jsx)("div",{className:"title-enter",children:c["funding-rate-delta-impact"]}),Object(g.jsxs)("div",{className:"text-enter",children:[Object(g.jsx)(d.a,{value:s.fundingRate.deltaFunding0,decimalScale:4})," -> ",Object(g.jsx)(d.a,{value:x,decimalScale:4})]})]})]}),Object(g.jsxs)("div",{className:"text-info",children:[Object(g.jsx)("div",{className:"title-enter",children:c["transaction-fee"]}),Object(g.jsx)("div",{className:"text-enter",children:Object(g.jsx)(d.a,{value:v,allowZero:!0,decimalScale:2,suffix:` ${m.bTokenSymbol}`})})]})]})}),Object(g.jsx)(U,{hasConnectWallet:z,transFee:v,wallet:e,spec:s.config,indexPrice:s.index,available:s.amount.available,volume:s.volumeDisplay,direction:o,leverage:s.amount.leverage,afterTrade:()=>{s.setVolume(""),s.refresh(),e.refresh()},position:s.position,trading:s,symbolId:s.config&&s.config.symbolId,bTokenId:s.config&&s.config.bTokenId,version:i,lang:c,type:r,markPriceAfter:p})]})})})));s.a=Object(b.b)("wallet","trading")(Object(b.c)((function({wallet:e,trading:s,isPro:i,lang:a}){const[c,l]=Object(t.useState)("trade"),r=e=>l(e),o=n()("trade-position",c);return Object(g.jsxs)("div",{className:o,children:[Object(g.jsx)("div",{className:"header-top",children:Object(g.jsxs)("div",{className:"header",children:[Object(g.jsx)("span",{className:"trade",onClick:()=>r("trade"),children:a.trade}),!i&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("span",{className:"pc position",onClick:()=>r("position"),children:a["my-position"]}),Object(g.jsx)("span",{className:"mobile position",onClick:()=>r("position"),children:a["my-position"]}),Object(g.jsx)("span",{className:"history",onClick:()=>r("history"),children:a.history})]})]})}),Object(g.jsx)(q,{lang:a}),Object(g.jsx)(w,{lang:a}),Object(g.jsx)(M,{wallet:e,spec:s.config,specs:s.configs,lang:a}),Object(g.jsx)(Q,{lang:a})]})})))},646:function(e,s,i){},647:function(e,s,i){}}]);
//# sourceMappingURL=1.90bae385.chunk.js.map