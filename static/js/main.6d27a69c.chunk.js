/*! For license information please see main.6d27a69c.chunk.js.LICENSE.txt */
(this["webpackJsonpapp.deri.finance"]=this["webpackJsonpapp.deri.finance"]||[]).push([[7],{11:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"v",(function(){return Q})),n.d(t,"D",(function(){return ee})),n.d(t,"e",(function(){return d.a})),n.d(t,"X",(function(){return d.s})),n.d(t,"g",(function(){return Ye})),n.d(t,"J",(function(){return Xe})),n.d(t,"G",(function(){return Ze})),n.d(t,"x",(function(){return et})),n.d(t,"I",(function(){return tt})),n.d(t,"H",(function(){return nt})),n.d(t,"M",(function(){return at})),n.d(t,"m",(function(){return rt})),n.d(t,"K",(function(){return it})),n.d(t,"R",(function(){return st})),n.d(t,"j",(function(){return ot})),n.d(t,"S",(function(){return lt})),n.d(t,"ab",(function(){return pt})),n.d(t,"Q",(function(){return ut})),n.d(t,"W",(function(){return St})),n.d(t,"d",(function(){return kt})),n.d(t,"P",(function(){return At})),n.d(t,"k",(function(){return It})),n.d(t,"w",(function(){return zt})),n.d(t,"y",(function(){return Gt})),n.d(t,"N",(function(){return Wt})),n.d(t,"bb",(function(){return cn})),n.d(t,"c",(function(){return mn})),n.d(t,"V",(function(){return bn})),n.d(t,"T",(function(){return nn})),n.d(t,"i",(function(){return Sn})),n.d(t,"z",(function(){return qn})),n.d(t,"s",(function(){return ai})),n.d(t,"q",(function(){return Ri})),n.d(t,"l",(function(){return Bi})),n.d(t,"t",(function(){return ji})),n.d(t,"B",(function(){return qi})),n.d(t,"A",(function(){return Ni})),n.d(t,"b",(function(){return _i})),n.d(t,"U",(function(){return Li})),n.d(t,"E",(function(){return Vi})),n.d(t,"C",(function(){return $i})),n.d(t,"L",(function(){return Ui})),n.d(t,"O",(function(){return Hi})),n.d(t,"n",(function(){return zi})),n.d(t,"r",(function(){return Wi})),n.d(t,"o",(function(){return Gi})),n.d(t,"u",(function(){return Ki})),n.d(t,"p",(function(){return Ji})),n.d(t,"Z",(function(){return Yi})),n.d(t,"h",(function(){return Xi})),n.d(t,"cb",(function(){return Zi})),n.d(t,"Y",(function(){return Qi})),n.d(t,"f",(function(){return ea})),n.d(t,"F",(function(){return ta}));const i=(()=>{let e="dev";return{get:()=>e,set:t=>{if("dev"!==t&&"prod"!==t&&"production"!==t)throw new Error("please use 'dev' or 'prod' for DeriEnv");e=t}}})(),a=["v2","v2_lite","option"],r=["v2_lite","option"],s="0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",o="0x9392ee8e921d5d073aff322e62439fcf32d7f344649470f90";var l=n(95),p=n(89);const u=e=>{let t={};return(n,i)=>{const a=i;return Object.keys(t).includes(a)||(t[a]=new e(n,i)),t[a]}};var d=n(22),y=n(18),c=n.n(y);const m=e=>{if(null===e)return null;let t=Object.assign({},e);return Object.keys(t).forEach((n=>{t[n]="object"===typeof e[n]?m(e[n]):e[n]})),Array.isArray(e)?(t.length=e.length,Array.from(t)):t},b=async e=>{let t={url:e,blockNumber:-1,duration:Number.MAX_SAFE_INTEGER};try{const n=new c.a(new c.a.providers.HttpProvider(e)),i=Date.now();t.blockNumber=await n.eth.getBlockNumber(),t.duration=Date.now()-i}catch(n){}return t},T=async(e=[])=>{e=(e=>{const t=m(e),n=e.length;let i=[];for(let a=0;a<n;a++){const n=Math.floor(Math.random()*e.length);i=i.concat(t.splice(n,1))}return i})(e);let t=[];for(let s=0;s<e.length;s++)t.push(b(e[s]));let n=await Promise.all(t);n=n.sort(((e,t)=>e.duration-t.duration));const i=n.reduce(((e,t)=>-1!==t.blockNumber?e>t.blockNumber?e:t.blockNumber:e),0),a=n.findIndex((e=>e.blockNumber===i)),r=n[a]&&n[a].url;if(r&&r.startsWith("http"))return r;throw new Error(`getLatestRPCServer(): no alive RPC server in ${e}`)},g=e=>{const t=["1","3","56","97","128","256","137","80001"];let n=e?e.toString():e;if(e&&t.includes(n))return n;throw new Error(`invalid chainId: ${e}`)},f=e=>{if("string"===typeof e&&e.startsWith("0x")&&42==e.length)return c.a.utils.toChecksumAddress(e);throw new Error(`invalid address: ${e}`)},h=(...e)=>e.every((e=>!isNaN(parseFloat(e)))),v=(e,t,n)=>{const i=Object.keys(t);e.forEach((e=>{if(!i.includes(e))throw new Error(`validateConfig(): property ${e} is not exist in the ${n} config.`)}))},w=(e,t)=>{if(!Array.isArray(e))throw new Error(`validateConfig(): property ${t} is an array in the config.`)},S=async e=>{const t=(e=>{const t=[{provider_urls:["https://mainnet.infura.io/v3/d0e6582644a845ee8d7c3c18683fec06"],chainId:"1"},{provider_urls:["https://bsc-dataseed.binance.org","https://bsc-dataseed1.defibit.io/","https://bsc-dataseed1.ninicoin.io/"],chainId:"56"},{provider_urls:["https://http-mainnet.hecochain.com"],chainId:"128"},{provider_urls:["https://rpc-mainnet.matic.network","https://rpc-mainnet.maticvigil.com","https://rpc-mainnet.matic.quiknode.pro","https://matic-mainnet.chainstacklabs.com","https://matic-mainnet-full-rpc.bwarelabs.com","https://matic-mainnet-archive-rpc.bwarelabs.com"],chainId:"137"},{provider_urls:["https://ropsten.infura.io/v3/ec73e2f0c79a42c0997ee535364de584"],chainId:"3"},{provider_urls:["https://kovan.infura.io/v3/ec73e2f0c79a42c0997ee535364de584"],chainId:"42"},{provider_urls:["https://data-seed-prebsc-1-s1.binance.org:8545/","https://data-seed-prebsc-1-s2.binance.org:8545/","https://data-seed-prebsc-1-s3.binance.org:8545/","https://data-seed-prebsc-2-s1.binance.org:8545/","https://data-seed-prebsc-2-s2.binance.org:8545/","https://data-seed-prebsc-2-s3.binance.org:8545/"],chainId:"97"},{provider_urls:["https://http-testnet.hecochain.com"],chainId:"256"},{provider_urls:["https://rpc-mumbai.matic.today","https://rpc-mumbai.maticvigil.com","https://matic-mumbai.chainstacklabs.com","https://matic-testnet-archive-rpc.bwarelabs.com"],chainId:"80001"}].filter((t=>t.chainId===e));if(t.length>0)return t[0].provider_urls;throw new Error(`getChainProviderUrls: no urls for chainId ${e}`)})(e=g(e));if(t.length>0){return await T(t)}throw new Error(`Cannot find the chain provider url with chainId: ${e}`)},M=e=>{const t=(()=>{let e=["6486","6486","28759","28759","28798","28798","40405","40405"];return["1","3","56","97","128","256","137","80001"].reduce(((t,n,i)=>(t[n]=e[i],t)),{})})();if(t[e])return parseInt(t[e]);throw new Error(`Invalid annual block number with chainId: ${e}`)},k=e=>{let t;switch(e=g(e)){case"1":t="ethereum";break;case"56":t="bsc";break;case"128":t="heco";break;case"3":t="ropsten";break;case"42":t="kovan";break;case"97":t="bsctestnet";break;case"256":t="hecotestnet";break;case"137":t="matic";break;case"80001":t="mumbai";break;default:throw new Error(`The networkId is not valid for chainId ${e}`)}return t},I=function(){const e={};return{async get(t){if(t=g(t),Object.keys(e).includes(t))return e[t];if(Object(d.l)()&&!Object(d.m)()&&"object"===typeof window.ethereum)return e[t]=new c.a(window.ethereum),e[t];if(Object(d.l)()&&!Object(d.m)())throw new Error("Please install MetaMask first");{const n=await S(t);return e[t]=new c.a(new c.a.providers.HttpProvider(n)),e[t]}}}}(),A=async(e,t,n=0)=>{const i=await I.get(e),a=await i.eth.getStorageAt(t,n);return Object(d.i)(a)},O=async e=>{const t=await I.get(e);return await t.eth.getBlockNumber()},P=async(e,t)=>{const n=await I.get(e);return await n.eth.getBlock(t)},E=async(e,t,n,i={},a=0,r=0)=>{let s,o=[];for(s=["56","97","127","80001"].includes(e)?999:4999,a+s>r&&(s=r-a);a<=r;){let e=await t.getPastEvents(n,{filter:i,fromBlock:a,toBlock:a+s});for(let t of e)o.push(t);(a+=s+1)+s>r&&(s=r-a)}return o},C=async(e,t,n,i)=>{try{return await e(...t)}catch(a){console.log(`${n}: `,a)}return i},R=async(e,t)=>{let n;try{n={success:!0,transaction:await e(...t)}}catch(i){n={success:!1,error:i}}return n},D={AMUSDC:"amUSDC"},x={AXSUSDT:"AXSUSDT",MANAUSDT:"MANAUSDT",MBOXUSDT:"MBOXUSDT",IBSCDEFI:"iBSCDEFI",IGAME:"iGAME",ALICEUSDT:"ALICEUSDT"},F=e=>{const t=e.split("-");if(t.length>=2)return t[0];throw new Error(`invalid option symbol:${e}`)},B=e=>(e=>{let t=[];return e.forEach((e=>{const n=F(e);t.includes(n)||t.push(n)})),t})(e).map((e=>`VOL-${e}`)),j=e=>Object.keys(x).includes(e),q=e=>Object.keys(x).includes(e)?x[e]:e,N=e=>{const t=Object.values(x).indexOf(e);return-1!==t?Object.keys(x)[t]:e},_={v2:e=>{e.bTokenCount=e.bTokens.length,e.symbolCount=e.symbols.length,e.bTokens.forEach((e=>{return e.bTokenSymbol=(t=e.bTokenSymbol,Object.keys(D).includes(t)?D[t]:t);var t})),e.symbols.forEach((e=>e.symbol=q(e.symbol)))},v2_lite:e=>{e.symbolCount||(e.symbolCount=e.symbols.length),e.offchainSymbolIds||e.offchainSymbols||(e.offchainSymbolIds=e.symbols.filter((e=>j(e.symbol))).map((e=>e.symbolId)),e.offchainSymbols=e.symbols.filter((e=>j(e.symbol))).map((e=>e.symbol)),e.symbols.forEach((e=>e.symbol=q(e.symbol))))},option:e=>{e.symbolCount=e.symbols.length,e.volatilitySymbols||(e.volatilitySymbols=B(e.symbols.map((e=>e.symbol))),e.symbols.forEach((e=>e.symbol=q(e.symbol))))}},L={v2:e=>{v(["pool","pToken","lToken","router","initialBlock","bTokens","symbols","chainId","symbolCount","bTokenCount"],e,""),w(e.bTokens,"bTokens"),e.bTokens.forEach((e=>{v(["bTokenId","bTokenSymbol","bToken"],e,"bToken")})),w(e.symbols,"symbols"),e.symbols.forEach((e=>{v(["symbolId","symbol"],e,"symbol")}))},v2_lite:e=>{v(["pool","pToken","lToken","initialBlock","bToken","bTokenSymbol","symbols","chainId","offchainSymbolIds","offchainSymbols","symbolCount"],e,""),w(e.symbols,"symbols"),e.symbols.forEach((e=>{v(["symbolId","symbol"],e,"symbol")})),w(e.offchainSymbolIds,"offchainSymbolIds"),w(e.offchainSymbols,"offchainSymbols")},option:e=>{v(["pool","pToken","lToken","initialBlock","bToken","bTokenSymbol","symbols","chainId","symbolCount","volatilitySymbols"],e,""),w(e.symbols,"symbols"),e.symbols.forEach((e=>{v(["symbolId","symbol"],e,"symbol")})),w(e.volatilitySymbols,"volatilitySymbols")}},V=(e="v2",t="dev")=>{const n=((e,t)=>{t=t||i.get();let n="object"===typeof p?p:JSON.parse(p);if(!n[e]||!a.includes(e))throw new Error(`getJsonConfig(): invalid config of version '${e}' and env '${t}'`);if(n=n[e],["prod","dev"].includes(t)&&n&&n[t])return n[t]})(e,t),r=n.pools;if(r&&Array.isArray(r))for(let i=0;i<r.length;i++)_[e](r[i]),L[e](r[i]);return v(["oracle"],n,"oracle"),n},$=(e="v2",t="dev")=>{const n=V(e,t);return"v2"===e?(e=>e.pools.map((e=>{let t=[];for(let n=0;n<e.bTokens.length;n++){const i=e.bTokens[n];for(let n=0;n<e.symbols.length;n++){const a=e.symbols[n];t.push({pool:e.pool,pToken:e.pToken,lToken:e.lToken,router:e.router,initialBlock:e.initialBlock,chainId:e.chainId,bToken:i.bToken,bTokenId:i.bTokenId,bTokenSymbol:i.bTokenSymbol,symbol:a.symbol,symbolId:a.symbolId,unit:a.unit,version:"v2",isOption:!1})}}return t})).flat())(n):"v2_lite"===e?(e=>e.pools.map((e=>{let t=[];for(let n=0;n<e.symbols.length;n++){const i=e.symbols[n];t.push({pool:e.pool,pToken:e.pToken,lToken:e.lToken,router:e.router,initialBlock:e.initialBlock,chainId:e.chainId,bToken:e.bToken,bTokenSymbol:e.bTokenSymbol,symbol:i.symbol,symbolId:i.symbolId,offchainSymbolIds:e.offchainSymbolIds,offchainSymbols:e.offchainSymbols,unit:i.unit,version:"v2_lite",isOption:!1})}return t})).flat())(n):"option"===e?(e=>e.pools.map((e=>{let t=[];for(let n=0;n<e.symbols.length;n++){const i=e.symbols[n];t.push({pool:e.pool,pToken:e.pToken,lToken:e.lToken,initialBlock:e.initialBlock,chainId:e.chainId,bToken:e.bToken,bTokenSymbol:e.bTokenSymbol,symbol:i.symbol,symbolId:i.symbolId,offchainSymbolIds:e.offchainSymbolIds,offchainSymbols:e.offchainSymbols,volatilitySymbols:e.volatilitySymbols,unit:i.unit,version:"option",isOption:!0})}return t})).flat())(n):void 0},U=(e,t,n,i="v2")=>{r.includes(i)&&(t=void 0);return((e,t,n,i="v2")=>{t="number"===typeof t?t.toString():t,n="number"===typeof n?n.toString():n;const a=$(i),r=null!=t?null!=n?i=>i.pool===e&&i.bTokenId===t&&i.symbolId===n:n=>n.pool===e&&n.bTokenId===t:null!=n?t=>t.pool===e&&t.symbolId===n:t=>t.pool===e;if(a.length>0){const e=a.filter(r);if(e&&e.length>0)return e}throw new Error(`getFilteredPoolConfigList(): cannot find the pool config by ${e} bTokenId(${t}) and symbolId(${n})`)})(e,t,n,i)[0]},H=e=>{const t=a.reduce(((e,t)=>e.concat(V(t).pools)),[]),n=t.findIndex((t=>t.pool===e));if(n>=0)return t[n].version},z=e=>{const t=H(e);let n=V(t).pools.find((t=>t.pool===e));if(n)return n;throw new Error(`Cannot find the pool by poolAddress(${e})`)},W=(e,t,n)=>{const i=z(e),a={bTokenId:"",bTokenSymbol:"",bToken:""},r={symbolId:"",symbol:"",unit:""};let s,o;return void 0===t&&null===t||(s=i.bTokens.find((e=>e.bTokenId===t))||a),void 0===n&&null===n||(o=i.symbols.find((e=>e.symbolId===n))||r),{pool:i.pool,pToken:i.pToken,lToken:i.lToken,router:i.router,bTokenCount:i.bTokenCount,symbolCount:i.symbolCount,initialBlock:i.initialBlock,chainId:i.chainId,bToken:s.bToken,bTokenId:s.bTokenId,bTokenSymbol:s.bTokenSymbol,symbol:o.symbol,symbolId:o.symbolId,unit:o.unit,version:"v2"}},G=e=>z(e).bTokens.map((e=>({bTokenId:e.bTokenId,bTokenSymbol:e.bTokenSymbol,bTokenAddress:e.bToken}))),K=e=>z(e).bTokens.map((e=>e.bTokenId)),J=e=>z(e).symbols.map((e=>({symbol:e.symbol,symbolId:e.symbolId,unit:e.unit}))),Y=e=>z(e).symbols.map((e=>e.symbolId)),X=(e,t="v2_lite")=>{const n=V(t).poolViewer.filter((t=>t.chainId===e.toString()));if(n.length>0)return n[0].address;throw new Error(`getPoolViewerConfig(): invalid chainId(${e}) or version(${t}).`)},Z=(e="dev")=>"prod"===e?[{pool:"0xAf081e1426f64e74117aD5F695D2A80482679DE5",bToken:"0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56",pToken:"0x3c11c4990447F0AD575eBd74E8cD17bf61848A15",lToken:"0xA487bF43cF3b10dffc97A9A744cbB7036965d3b9",dToken:"0xA487bF43cF3b10dffc97A9A744cbB7036965d3b9",MiningVault:"0x6C8d3F31b2ad1AE997Afa20EAd88cb67E93C6E17",initialBlock:"7906919",bTokenSymbol:"BUSD",symbol:"BTCUSD",unit:"BTC",chainId:"56",version:"v1",retired:!0},{pool:"0x011346B81e5326904B5B76A11dECAf2c67eFFc23",bToken:"0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56",pToken:"0xaE6429b4CDDDFefDB6ac702183c836B4e62Da410",lToken:"0xd8f78c47b0e0943B3Cb2cE1e1726472C4ddd2F98",dToken:"0xA487bF43cF3b10dffc97A9A744cbB7036965d3b9",MiningVault:"0x6C8d3F31b2ad1AE997Afa20EAd88cb67E93C6E17",initialBlock:"6753399",bTokenSymbol:"BUSD",symbol:"COIN",unit:"COIN",chainId:"56",version:"v1",retired:!0},{pool:"0xD3f5E6D1a25dA1E64EDf7cb571f9fAD17FEb623c",bToken:"0xe60eaf5A997DFAe83739e035b005A33AfdCc6df5",pToken:"0x29Be63E854727BB3Fef77eB107B8d1c33081f989",lToken:"0x610b39F9ba0fF2167AEb646462473c011A431Cd7",dToken:"0xA487bF43cF3b10dffc97A9A744cbB7036965d3b9",MiningVault:"0x6C8d3F31b2ad1AE997Afa20EAd88cb67E93C6E17",initialBlock:"8005906",bTokenSymbol:"DERI",symbol:"iMEME",unit:"iMEME",chainId:"56",version:"v1",retired:!0},{pool:"0x23779AAc1e74a65F27B4840A8E41F767Ce993118",bToken:"0xdAC17F958D2ee523a2206206994597C13D831ec7",pToken:"0x9c6134F9e759C6812aaC102FC1a9f7cA5615fD33",lToken:"0x43CA6D7129d7F490d5B91B4D14D7c877D15A92dA",dToken:"0xA487bF43cF3b10dffc97A9A744cbB7036965d3b9",MiningVault:"0x7826Ef8Da65494EA21D64D8E6A76AB1BED042FD8",initialBlock:"12548746",bTokenSymbol:"USDT",symbol:"BTCUSD",unit:"BTC",chainId:"1",version:"v1",retired:!0},{pool:"0x96a1F15676746b9339DBc185F277618359Ac6346",bToken:"0x3449FC1Cd036255BA1EB19d65fF4BA2b8903A69a",pToken:"0x15aD9b67cf54037127fD986Ca3bB775f9FC4ad05",lToken:"0xeC27d4c53C2E29F1113A9667c0B19442df83c1f1",dToken:"0xA487bF43cF3b10dffc97A9A744cbB7036965d3b9",MiningVault:"0x7826Ef8Da65494EA21D64D8E6A76AB1BED042FD8",initialBlock:"12548827",bTokenSymbol:"BAC",symbol:"BTCUSD",unit:"BTC",chainId:"1",version:"v1",retired:!0},{pool:"0xBA7e183042c8796E26A5a2375927DE7B1AB99d97",bToken:"0x0298c2b32eaE4da002a15f36fdf7615BEa3DA047",pToken:"0x732Ba556B304fd74Cd14b74ab8762A7D9f26d476",lToken:"0x90fE976Cbb48E0761A84DDA2974024377994a997",dToken:"0xA487bF43cF3b10dffc97A9A744cbB7036965d3b9",MiningVault:"0xF0bC8b772f26F8DeB46c1aebbEA7C8d502Abf3b8",initialBlock:"5220431",bTokenSymbol:"HUSD",symbol:"BTCUSD",unit:"BTC",chainId:"128",version:"v1",retired:!0}]:[{pool:"0x372b640A00a0A6B73381e9363A39644a712cCc37",bToken:"0x4038191eFb39Fe1d21a48E061F8F14cF4981A0aF",pToken:"0xB9113758D771750e9E8ECb359A19689eC89AC1a5",lToken:"0xC727a10Be4740441BE74960296097aF39D701980",initialBlock:"9378545",bTokenSymbol:"BUSD",symbol:"BTCUSD",unit:"BTC",chainId:"97",version:"v1"}],Q=(e="dev")=>"prod"===e?[{pool:"0xc2EdaD668740f1aA35E4D8f227fB8E17dcA888Cd",bToken:"0xA3DfbF2933FF3d96177bde4928D0F5840eE55600",pToken:"0x0000000000000000000000000000000000000000",lToken:"0x0000000000000000000000000000000000000000",dToken:"0xA487bF43cF3b10dffc97A9A744cbB7036965d3b9",MiningVault:"0x7826Ef8Da65494EA21D64D8E6A76AB1BED042FD8",chainId:"1",bTokenSymbol:"DERI-USDT SLP",symbol:"--",type:"slp"},{pool:"0x4de2Ac273aD1BBe2F5C41f986d7b3cef8383Df98",bToken:"0xDc7188AC11e124B1fA650b73BA88Bf615Ef15256",pToken:"0x0000000000000000000000000000000000000000",lToken:"0x83b31Abc899863B8Eb06952994580CE86414156E",dToken:"0x0000000000000000000000000000000000000000",MiningVault:"0x0000000000000000000000000000000000000000",initialBlock:"6894880",chainId:"56",bTokenSymbol:"CAKE-LP",symbol:"--",type:"clp",retired:!0},{pool:"0x73feaa1eE314F8c655E354234017bE2193C9E24E",bToken:"0xDc7188AC11e124B1fA650b73BA88Bf615Ef15256",pToken:"0x0000000000000000000000000000000000000000",lToken:"0x0000000000000000000000000000000000000000",dToken:"0x0000000000000000000000000000000000000000",MiningVault:"0x0000000000000000000000000000000000000000",initialBlock:"699498",chainId:"56",bTokenSymbol:"CAKE-LP SYRUP",symbol:"--",type:"clp2"}]:[],ee=(e="dev")=>"prod"===e?[{bToken:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",pToken:"0x0000000000000000000000000000000000000000",lToken:"0xe91cb8ba06028f38e231F7099e9B97CEDd2f2736",pool:"0x447A9BC67721cB115ce6E664a261568a3c8F5B35",dToken:"0xA487bF43cF3b10dffc97A9A744cbB7036965d3b9",MiningVault:"0x6C8d3F31b2ad1AE997Afa20EAd88cb67E93C6E17",chainId:"56",staking:!1,url:"https://premining.deri.finance/#/premining/0/0/0x447A9BC67721cB115ce6E664a261568a3c8F5B35",bTokenSymbol:"WBNB",isInTvlRace:!1,retired:!0,premining:!0},{bToken:"0x0E09FaBB73Bd3Ade0a17ECC321fD13a19e81cE82",pToken:"0x0000000000000000000000000000000000000000",lToken:"0x8518054fa6b7E0d4834bfD152c9BA5BDB856FD2B",pool:"0xA51E3D1a0A6E9114c22728991dDFdd62a9ABd9ad",dToken:"0xA487bF43cF3b10dffc97A9A744cbB7036965d3b9",MiningVault:"0x6C8d3F31b2ad1AE997Afa20EAd88cb67E93C6E17",chainId:"56",staking:!1,url:"https://premining.deri.finance/#/premining/0/1/0xA51E3D1a0A6E9114c22728991dDFdd62a9ABd9ad",bTokenSymbol:"CAKE",isInTvlRace:!1,retired:!0,premining:!0},{bToken:"0xa184088a740c695E156F91f5cC086a06bb78b827",pToken:"0x0000000000000000000000000000000000000000",lToken:"0x167704539C9acAcF6f0C2D7AAeB4413339F86AaA",pool:"0x03dA5cB10D868c5F979b277eb6DF17D50E78fE2A",dToken:"0xA487bF43cF3b10dffc97A9A744cbB7036965d3b9",MiningVault:"0x6C8d3F31b2ad1AE997Afa20EAd88cb67E93C6E17",chainId:"56",staking:!0,url:"https://premining.deri.finance/#/premining/0/2/0x03dA5cB10D868c5F979b277eb6DF17D50E78fE2A",bTokenSymbol:"AUTO",isInTvlRace:!1,retired:!0,premining:!0},{bToken:"0x5545153CCFcA01fbd7Dd11C0b23ba694D9509A6F",pToken:"0x0000000000000000000000000000000000000000",lToken:"0x43CA6D7129d7F490d5B91B4D14D7c877D15A92dA",pool:"0xEDBbC66fC5Ee21E97001A3E88E312457003D6BEc",dToken:"0xA487bF43cF3b10dffc97A9A744cbB7036965d3b9",MiningVault:"0xF0bC8b772f26F8DeB46c1aebbEA7C8d502Abf3b8",chainId:"128",staking:!1,url:"https://premining.deri.finance/#/premining/1/0/0xEDBbC66fC5Ee21E97001A3E88E312457003D6BEc",bTokenSymbol:"WHT",isInTvlRace:!1,retired:!0,premining:!0},{bToken:"0x25D2e80cB6B86881Fd7e07dd263Fb79f4AbE033c",pToken:"0x0000000000000000000000000000000000000000",lToken:"0xeC27d4c53C2E29F1113A9667c0B19442df83c1f1",pool:"0x667FC1D27dC94a8c7a9ff86fc9908079DCFD6aA0",dToken:"0xA487bF43cF3b10dffc97A9A744cbB7036965d3b9",MiningVault:"0xF0bC8b772f26F8DeB46c1aebbEA7C8d502Abf3b8",chainId:"128",staking:!1,url:"https://premining.deri.finance/#/premining/1/1/0x667FC1D27dC94a8c7a9ff86fc9908079DCFD6aA0",bTokenSymbol:"MDX",isInTvlRace:!1,retired:!0,premining:!0},{bToken:"0x6B3595068778DD592e39A122f4f5a5cF09C90fE2",pToken:"0x0000000000000000000000000000000000000000",lToken:"0x3B50881F5646E809ef85Bb0016af3b2Ee5313d46",pool:"0x4847f7b81476346e5e55BBdD3b447435c5Be4a7d",dToken:"0xA487bF43cF3b10dffc97A9A744cbB7036965d3b9",MiningVault:"0x7826Ef8Da65494EA21D64D8E6A76AB1BED042FD8",chainId:"1",staking:!1,url:"https://premining.deri.finance/#/premining/2/0/0x4847f7b81476346e5e55BBdD3b447435c5Be4a7d",bTokenSymbol:"SUSHI",isInTvlRace:!1,retired:!0,premining:!0},{bToken:"0x7Fc66500c84A76Ad7e9c93437bFc5Ac33E2DDaE9",pToken:"0x0000000000000000000000000000000000000000",lToken:"0x0069b4Fb48e5B8E9CB6960f4c2468b625ACfb465",pool:"0xC773104722aA79bdA8f6ECF9384Cf7d9B70371e2",dToken:"0xA487bF43cF3b10dffc97A9A744cbB7036965d3b9",MiningVault:"0x7826Ef8Da65494EA21D64D8E6A76AB1BED042FD8",chainId:"1",staking:!1,url:"https://premining.deri.finance/#/premining/2/1/0xC773104722aA79bdA8f6ECF9384Cf7d9B70371e2",bTokenSymbol:"AAVE",isInTvlRace:!1,retired:!0,premining:!0},{bToken:"0xA3DfbF2933FF3d96177bde4928D0F5840eE55600",pToken:"0x0000000000000000000000000000000000000000",lToken:"0xFFCfB31b6500E7e420CFE5D0df710DdF928F55FD",pool:"0x3f98429b673AF39671a495b5B12Ebd5C10092ccB",dToken:"0xA487bF43cF3b10dffc97A9A744cbB7036965d3b9",MiningVault:"0x7826Ef8Da65494EA21D64D8E6A76AB1BED042FD8",chainId:"1",staking:!0,url:"https://premining.deri.finance/#/premining/2/2/0x3f98429b673AF39671a495b5B12Ebd5C10092ccB",bTokenSymbol:"DERI-USDT SLP",isInTvlRace:!1,retired:!0,premining:!0}]:[],te=(e,t)=>{e=g(e);const n=Q(i.get()).filter((t=>t.chainId===e)).filter((e=>e.pool===t));return n.length>0?{poolAddress:n[0].pool,bTokenAddress:n[0].bToken,lTokenAddress:n[0].lToken,type:n[0].type}:(console.log(`getLpConfig(): contract address is not found: ${e} ${t}`),{})},ne=e=>{e=g(e);const t=((e="dev")=>"prod"===e?[{Deri:"0xA487bF43cF3b10dffc97A9A744cbB7036965d3b9",Wormhole:"0x6874640cC849153Cb3402D193C33c416972159Ce",bTokenSymbol:"DERI",chainId:"1"},{Deri:"0xe60eaf5A997DFAe83739e035b005A33AfdCc6df5",Wormhole:"0x15a5969060228031266c64274a54e02Fbd924AbF",bTokenSymbol:"DERI",chainId:"56"},{Deri:"0x2bdA3e331Cf735D9420e41567ab843441980C4B8",Wormhole:"0x134A04497e9a0b1F8850fEaf87eD18ec348dDa46",bTokenSymbol:"DERI",chainId:"128"}]:[{Deri:"0x88Fe79a3b6AC7EeF3d55B2e388fa18400590698B",Wormhole:"0xcb28Fa7dFa1844Cdb47aD5f03484f6131293Fd2e",bTokenSymbol:"DERI",chainId:"3"},{Deri:"0x8dC0aA48bbc69BaCD2548c6b7adCDeF8DDbA50B2",Wormhole:"0x9028e43114Df57C97c15355224E575DF1e244919",bTokenSymbol:"DERI",chainId:"97"},{Deri:"0x932458a637F8060AF747167656651b64d4c36620",Wormhole:"0x629B0D3D32BE5ee5F7BF3845914d26446c04165d",bTokenSymbol:"DERI",chainId:"256"}])(i.get()).filter((t=>t.chainId===e));return t.length>0?{deriAddress:t[0].Deri,wormholeAddress:t[0].Wormhole,bTokenSymbol:t[0].bTokenSymbol}:(console.log(`getDeriConfig(): contract address is not found: ${e}`),{})},ie=(e,t)=>{e=g(e);const n=i.get(),a=Z(n).concat(ee(n)).concat(Q(n)).filter((t=>t.chainId===e)).filter((e=>e.pool===t));if(a.length>0)return{poolAddress:a[0].pool,bTokenAddress:a[0].bToken,pTokenAddress:a[0].pToken,lTokenAddress:a[0].lToken,dTokenAdress:a[0].dToken,MinningVaultAddress:a[0].MiningVault,bTokenSymbol:a[0].bTokenSymbol,symbol:a[0].symbol,unit:a[0].unit,initialBlock:a[0].initialBlock};throw new Error(`getPoolV1Config(): contract address is not found: ${e} ${t}`)},ae=(e,t,n="v2")=>{t=N(t);const i=((e="v2",t)=>V(e,t).oracle)(n).filter((n=>t?n.chainId===e&&n.symbol===t:n.chainId===e));if(i.length>0)return t?i[0]:i},re=(e,t)=>{const n=(e=>V(e).brokerManager)(t).filter((t=>t.chainId===e));if(n.length>0)return n[0];throw new Error(`getBrokerConfig(): invalid chainId(${e}).`)},se=(e,t="futures")=>{const n=i.get();let a="get_signed_price";"option"===t&&(a="get_signed_volatility"),["BTCUSD","ETHUSD"].includes(e)&&(a="get_price",e=`${e}_v2_bsc`);let r="prod"===n?`https://oracle4.deri.finance/${a}`:`https://oracle2.deri.finance/${a}`;return e?((e,t)=>`${e}?symbol=${t}`)(r,e):r},oe=async(e,t="futures")=>{const n=await le(e,t);if("futures"===t&&n.price)return Object(d.d)(n.price).toString();if("option"===t&&n.volatility)return Object(d.d)(n.volatility).toString();throw new Error(`getPrice() invalid format: ${JSON.stringify(n)}`)},le=async(e,t="futures")=>{e=(e=>{const t=Object.values(D).indexOf(e);return-1!==t?Object.keys(D)[t]:e})(e);let n,i,a=se(e,t),r=3;for(;r>0;){if(n=await fetch(a,{mode:"cors",cache:"no-cache"}),n.ok&&(i=await n.json(),"200"===i.status.toString()&&i.data))return i.data;r-=1}if(0===r)throw new Error(`fetch oracle info exceed max retry(3): ${e} => ${JSON.stringify(i)}`)},pe=async(e,t,n="v2")=>{e=g(e),t=N(t);const i=ae(e,t,n);if(i&&i.address){const n=fe(e,i.address,t,i.decimal);return await n.getPrice()}{const e=await le(t);return Object(d.d)(e.price).toString()}},ue=async(e,t)=>{const n=t.map((e=>F(e))).filter(((e,t,n)=>n.indexOf(e)===t)),i=await Promise.all(n.reduce(((t,n)=>t.concat([pe(e,n,"option")])),[]));return t.map((e=>Object(d.v)(i[n.indexOf(F(e))])))},de=/"message":\s"execution\sreverted:([\w\s]+)"/;class ye{constructor(e,t,n){this.chainId=e,this.contractAddress=t,this.contractAbi=n}async _init(){this.web3||(this.web3=await I.get(this.chainId),this.contract=new this.web3.eth.Contract(this.contractAbi,this.contractAddress))}async _call(e,t=[]){let n,i=2;for(;i>0;)try{await this._init(),n=await this.contract.methods[e](...t).call();break}catch(a){i-=1,this.web3=null,a.toString().includes("Invalid JSON RPC response")?console.log(`Invalid JSON RPC response with chainId(${this.chainId})`):a.toString().includes("Returned values aren't valid,")?console.log(`Invalid contract address(${this.contractAddress}) and chainId(${this.chainId})`):console.log("error:",a)}if(0===i&&!n)throw new Error(`The contract(${this.contractAddress}) '${e}([${t.join(",")}])' failed with max retry 2.`);return n}async _estimatedGas(e,t=[],n){await this._init();let i=0;for(let r=0;r<2;r++)try{i=await this.contract.methods[e](...t).estimateGas({from:n}),i=parseInt(1.25*i);break}catch(a){const e=a.toString().split("\n").join("").match(de);if(Array.isArray(e)&&e.length>=2)throw new Error(e[1].trim())}return 0===i&&(i=832731),i}_getTransactionReceipt(e){const t=this;return function n(i,a){t.web3.eth.getTransactionReceipt(e,((e,t)=>{e?a(e):null===t?setTimeout((()=>n(i,a)),500):!1===t.status?(t.errorMessage="Transaction failed",a(t)):i(t)}))}}async _transact(e,t=[],n){await this._init();const i=await this._estimatedGas(e,t,n);let a=[{from:n,to:this.contractAddress,gas:Object(d.r)(i),value:Object(d.r)("0"),data:this.contract.methods[e](...t).encodeABI()}],r=await window.ethereum.request({method:"eth_sendTransaction",params:a});return await new Promise(this._getTransactionReceipt(r))}}const ce=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],me=[{inputs:[{internalType:"address",name:"oracle_",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"decimals",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"oracle",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],be=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"broker",type:"address"}],name:"SetBroker",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getBroker",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"broker",type:"address"}],name:"setBroker",outputs:[],stateMutability:"nonpayable",type:"function"}],Te=[{inputs:[{internalType:"address",name:"bTokenAddress",type:"address"},{internalType:"address",name:"pTokenAddress",type:"address"},{internalType:"address",name:"poolRouterAddress",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"uint256",name:"index",type:"uint256"}],name:"AddWhitelist",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"index",type:"uint256"}],name:"AirdropPToken",type:"event"},{inputs:[{internalType:"address",name:"userAddress",type:"address"}],name:"addWhitelist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"airdropPToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getBTokenBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"isStartAirdrop",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"ownerAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"startAirdrop",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"stopAirdrop",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalAirdropCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalWhitelistCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"withdrawBToken",outputs:[],stateMutability:"nonpayable",type:"function"}];class ge extends ye{constructor(e,t,n,i="18"){super(e,t,me),this.symbol=n,this.decimal=i}async getPrice(){const e=await this._call("getPrice");if(e)return Object(d.d)(e).toString()}}const fe=function(){const e={};return(t,n,i,a="18")=>{const r=n;if(Object.keys(e).includes(r))return e[r];if(j(i))e[r]=(e=>({getPrice:async function(){return oe(e)}}))(i);else{if(!["56","137","97","80001"].includes(t))throw new Error(`please setup oracle contract for the chain(${t})`);e[r]=new ge(t,n,i,a)}return e[r]}}(),he=u(ge);class ve{constructor(e,t){this.contractAddress=e,this.contractAbi=t}_init(){this.web3=new c.a(new c.a.providers.HttpProvider(this.providerUrl)),this.contract=new this.web3.eth.Contract(this.contractAbi,this.contractAddress)}async updateProviderUrl(){this.providerUrl||(this.providerUrl=await T(["https://data-seed-prebsc-1-s1.binance.org:8545/","https://data-seed-prebsc-1-s2.binance.org:8545/","https://data-seed-prebsc-1-s3.binance.org:8545/","https://data-seed-prebsc-2-s1.binance.org:8545/","https://data-seed-prebsc-2-s2.binance.org:8545/","https://data-seed-prebsc-2-s3.binance.org:8545/"]),this._init())}async _call(e,t){let n,i=3;for(;i>0;){try{await this.updateProviderUrl(),n=await this.contract.methods[e](...t).call();break}catch(a){this.providerUrl=null,console.log(a.toString())}i-=1}if(0===i&&!n)throw new Error(`database ${e}(${t}): exceed max retry 3.`);return n}}const we=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"newController",type:"address"}],name:"addController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"controllers",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"data",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"oldController",type:"address"}],name:"delController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string[]",name:"keys",type:"string[]"}],name:"getValues",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"string",name:"key",type:"string"},{internalType:"bytes32",name:"value",type:"bytes32"}],internalType:"structDatabase.Params1[]",name:"pairs",type:"tuple[]"}],name:"setValues",outputs:[],stateMutability:"nonpayable",type:"function"}];class Se extends ve{constructor(e){super(e,we)}async getValues(e){return await this._call("getValues",[e])}}const Me=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"newController",type:"address"}],name:"addController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"controllers",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"oldController",type:"address"}],name:"delController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"fromChainId",type:"uint256"},{internalType:"address",name:"fromWormhole",type:"address"},{internalType:"uint256",name:"toChainId",type:"uint256"},{internalType:"address",name:"toWormhole",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"structDatabase.Params1[]",name:"values",type:"tuple[]"}],name:"setSignature",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"signature",outputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"fromChainId",type:"uint256"},{internalType:"address",name:"fromWormhole",type:"address"},{internalType:"uint256",name:"toChainId",type:"uint256"},{internalType:"address",name:"toWormhole",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"bool",name:"valid",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"values",type:"address[]"}],name:"unsetSignature",outputs:[],stateMutability:"nonpayable",type:"function"}];class ke extends ve{constructor(e){super(e,Me)}async signature(e){return await this._call("signature",[e])}}const Ie=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"newController",type:"address"}],name:"addController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"controllers",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"data",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"oldController",type:"address"}],name:"delController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string[]",name:"keys",type:"string[]"}],name:"getValues",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"string",name:"key",type:"string"},{internalType:"bytes32",name:"value",type:"bytes32"}],internalType:"structDatabase.Params1[]",name:"pairs",type:"tuple[]"}],name:"setValues",outputs:[],stateMutability:"nonpayable",type:"function"}];class Ae extends ve{constructor(e){super(e,Ie)}async getValues(e){return await this._call("getValues",[e])}}const Oe=(()=>{const e={};return(t=!1)=>{const n=((e="dev",t)=>"prod"===e&&t?"0x824B6238EdCbaCCAF83C3F60C0cEB38bEb7C9e89":"0x7C1267188379f57d92e640E519151229E1eA5565")(i.get(),t),a=n;if(Object.keys(e).includes(a))return e[a];const r=new Se(n);return e[a]=r,r}})(),Pe=(()=>{const e={};return(t=!1)=>{const n=((e="dev",t)=>"prod"===e&&t?"0xd8137F05c1F432A80525053c473d0e286c4F46f0":"0x3c9118C7f9f4ef0Ab5333cD710922dBCCC2d870d")(i.get(),t),a=n;if(Object.keys(e).includes(a))return e[a];const r=new ke(n);return e[a]=r,r}})(),Ee=(()=>{const e={};return(t=!1)=>{const n=((e="dev",t)=>"prod"===e&&t?"0x35b2650eFb799DF4696b292D11b4770a0fFaa7c7":"0x7C1267188379f57d92e640E519151229E1eA5565")(i.get(),t),a=n;if(Object.keys(e).includes(a))return e[a];const r=new Ae(n);return e[a]=r,r}})(),Ce=u(class extends ye{constructor(e,t){super(e,t,ce)}async symbol(){return await this._call("symbol")}async decimals(){return await this._call("decimals")}async _balanceOf(e){return await this._call("balanceOf",[e])}async balanceOf(e){const[t,n]=await Promise.all([this._balanceOf(e),this.decimals()]);return Object(d.a)(t,-n)}async totalSupply(){const e=await this._call("totalSupply");return Object(d.d)(e)}async isUnlocked(e,t){const n=await this._call("allowance",[e,t]);return Object(d.a)(n).gt(0)}async unlock(e,t){return await this._transact("approve",[t,s],e)}}),Re=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldController",type:"address"},{indexed:!1,internalType:"address",name:"newController",type:"address"}],name:"ChangeController",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newController",type:"address"}],name:"setController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];const De=[{inputs:[{internalType:"address",name:"tokenAddress_",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"migrationTimestamp",type:"uint256"},{indexed:!1,internalType:"address",name:"source",type:"address"},{indexed:!1,internalType:"address",name:"destination",type:"address"}],name:"ApproveMigration",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"deadline",type:"uint256"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"}],name:"Claim",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"migrationTimestamp",type:"uint256"},{indexed:!1,internalType:"address",name:"source",type:"address"},{indexed:!1,internalType:"address",name:"destination",type:"address"}],name:"ExecuteMigration",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"migrationTimestamp",type:"uint256"},{indexed:!1,internalType:"address",name:"source",type:"address"},{indexed:!1,internalType:"address",name:"destination",type:"address"}],name:"PrepareMigration",type:"event"},{inputs:[],name:"CLAIM_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DOMAIN_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"approveMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"chainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"claim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"source",type:"address"}],name:"executeMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isMigrated",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"migrationDestination",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"migrationTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"destination",type:"address"},{internalType:"uint256",name:"graceDays",type:"uint256"}],name:"prepareMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newController",type:"address"}],name:"setController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"usedHash",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}];const xe=[{inputs:[{internalType:"address",name:"token_",type:"address"},{internalType:"address",name:"miningVault_",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"deadline",type:"uint256"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"}],name:"Claim",type:"event"},{inputs:[],name:"CLAIM_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DOMAIN_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint8",name:"v1",type:"uint8"},{internalType:"bytes32",name:"r1",type:"bytes32"},{internalType:"bytes32",name:"s1",type:"bytes32"},{internalType:"uint8",name:"v2",type:"uint8"},{internalType:"bytes32",name:"r2",type:"bytes32"},{internalType:"bytes32",name:"s2",type:"bytes32"}],name:"claim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"claimNewController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"miningVault",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newController",type:"address"}],name:"setNewController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"usedHash",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}];const Fe=[{inputs:[{internalType:"address",name:"tokenAddress_",type:"address"},{internalType:"bool",name:"allowMintBurn_",type:"bool"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"migrationTimestamp",type:"uint256"},{indexed:!1,internalType:"address",name:"source",type:"address"},{indexed:!1,internalType:"address",name:"destination",type:"address"}],name:"ApproveMigration",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"fromChainId",type:"uint256"},{indexed:!1,internalType:"address",name:"fromWormhole",type:"address"},{indexed:!1,internalType:"uint256",name:"toChainId",type:"uint256"},{indexed:!1,internalType:"address",name:"toWormhole",type:"address"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"Claim",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"migrationTimestamp",type:"uint256"},{indexed:!1,internalType:"address",name:"source",type:"address"},{indexed:!1,internalType:"address",name:"destination",type:"address"}],name:"ExecuteMigration",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"fromChainId",type:"uint256"},{indexed:!1,internalType:"address",name:"fromWormhole",type:"address"},{indexed:!1,internalType:"uint256",name:"toChainId",type:"uint256"},{indexed:!1,internalType:"address",name:"toWormhole",type:"address"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"Freeze",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"migrationTimestamp",type:"uint256"},{indexed:!1,internalType:"address",name:"source",type:"address"},{indexed:!1,internalType:"address",name:"destination",type:"address"}],name:"PrepareMigration",type:"event"},{inputs:[],name:"CLAIM_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DOMAIN_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"allowMintBurn",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"approveMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"chainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"fromChainId",type:"uint256"},{internalType:"address",name:"fromWormhole",type:"address"},{internalType:"uint256",name:"fromNonce",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"claim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"source",type:"address"}],name:"executeMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"toChainId",type:"uint256"},{internalType:"address",name:"toWormhole",type:"address"}],name:"freeze",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isMigrated",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"migrationDestination",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"migrationTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"destination",type:"address"},{internalType:"uint256",name:"graceDays",type:"uint256"}],name:"prepareMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newController",type:"address"}],name:"setController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"usedHash",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}];const Be=u(class extends ye{constructor(e,t){super(e,t,Re)}async isUnlocked(e,t){let n=await this._call("allowance",[e,t]);return Object(d.d)(n).gt(0)}async unlock(e,t){return await this._transact("approve",[t,s],e)}async decimals(){return await this._call("decimals")}async _balanceOf(e){return await this._call("balanceOf",[e])}async balanceOf(e){const[t,n]=await Promise.all([this._balanceOf(e),this.decimals()]);return Object(d.a)(t,-n)}}),je=u(class extends ye{constructor(e,t){super(e,t,Fe)}async freeze(e,t,n){const{wormholeAddress:i}=ne(n);return this._transact("freeze",[Object(d.p)(t),n,i],e)}async mintDeri(e,t,n,i,a,r,s,o){return this._transact("claim",[t,n,i,a,r,s,o],e)}}),qe=u(class extends ye{constructor(e,t){super(e,t,xe)}async mint(e,...t){await this._init();const n=await this._estimatedGas("claim",[e,...t],e);let i=[{from:e,to:this.contractAddress,gas:Object(d.r)(n),value:Object(d.r)("0"),data:this.contract.methods.claim(e,...t).encodeABI()}],a=await window.ethereum.request({method:"eth_sendTransaction",params:i});return await new Promise(this._getTransactionReceipt(a))}}),Ne=u(class extends ye{constructor(e,t){super(e,t,De)}async mintDToken(e,...t){await this._init();const n=await this._estimatedGas("claim",[e,...t],e);let i=[{from:e,to:this.contractAddress,gas:Object(d.r)(n),value:Object(d.r)("0"),data:this.contract.methods.claim(e,...t).encodeABI()}],a=await window.ethereum.request({method:"eth_sendTransaction",params:i});return await new Promise(this._getTransactionReceipt(a))}}),_e=[{inputs:[{internalType:"contractSushiToken",name:"_sushi",type:"address"},{internalType:"address",name:"_devaddr",type:"address"},{internalType:"uint256",name:"_sushiPerBlock",type:"uint256"},{internalType:"uint256",name:"_startBlock",type:"uint256"},{internalType:"uint256",name:"_bonusEndBlock",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"uint256",name:"pid",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"uint256",name:"pid",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EmergencyWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"uint256",name:"pid",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[],name:"BONUS_MULTIPLIER",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_allocPoint",type:"uint256"},{internalType:"contractIERC20",name:"_lpToken",type:"address"},{internalType:"bool",name:"_withUpdate",type:"bool"}],name:"add",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"bonusEndBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_pid",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_devaddr",type:"address"}],name:"dev",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"devaddr",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_pid",type:"uint256"}],name:"emergencyWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_from",type:"uint256"},{internalType:"uint256",name:"_to",type:"uint256"}],name:"getMultiplier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"massUpdatePools",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_pid",type:"uint256"}],name:"migrate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"migrator",outputs:[{internalType:"contractIMigratorChef",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_pid",type:"uint256"},{internalType:"address",name:"_user",type:"address"}],name:"pendingSushi",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"poolInfo",outputs:[{internalType:"contractIERC20",name:"lpToken",type:"address"},{internalType:"uint256",name:"allocPoint",type:"uint256"},{internalType:"uint256",name:"lastRewardBlock",type:"uint256"},{internalType:"uint256",name:"accSushiPerShare",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"poolLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_pid",type:"uint256"},{internalType:"uint256",name:"_allocPoint",type:"uint256"},{internalType:"bool",name:"_withUpdate",type:"bool"}],name:"set",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contractIMigratorChef",name:"_migrator",type:"address"}],name:"setMigrator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"startBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"sushi",outputs:[{internalType:"contractSushiToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"sushiPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalAllocPoint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_pid",type:"uint256"}],name:"updatePool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"userInfo",outputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"rewardDebt",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_pid",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}];class Le extends ye{constructor(e,t){super(e,t,_e)}async addLiquidity(e,t){const n=[152,Object(d.p)(t)];return await this._transact("deposit",n,e)}async removeLiquidity(e,t){const n=[152,Object(d.p)(t)];return await this._transact("withdraw",n,e)}async getLiquidity(e){const t=await this._call("userInfo",[152,e]);return t&&t.amount?Object(d.d)(t.amount):(console.log("the amount is not exist "),"0")}}const Ve=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"mintAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"bAmount",type:"uint256"}],name:"AddLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"migrationTimestamp",type:"uint256"},{indexed:!1,internalType:"address",name:"source",type:"address"},{indexed:!1,internalType:"address",name:"target",type:"address"}],name:"ExecuteMigration",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"migrationTimestamp",type:"uint256"},{indexed:!1,internalType:"address",name:"source",type:"address"},{indexed:!1,internalType:"address",name:"target",type:"address"}],name:"PrepareMigration",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"lAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"removeAmount",type:"uint256"}],name:"RemoveLiquidity",type:"event"},{inputs:[{internalType:"uint256",name:"bAmount",type:"uint256"}],name:"addLiquidity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"approveMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"source",type:"address"}],name:"executeMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAddresses",outputs:[{internalType:"address",name:"bToken",type:"address"},{internalType:"address",name:"lToken",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getParameters",outputs:[{internalType:"uint256",name:"minAddLiquidity",type:"uint256"},{internalType:"uint256",name:"redemptionFeeRatio",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getStateValues",outputs:[{internalType:"uint256",name:"liquidity",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"symbol_",type:"string"},{internalType:"address[2]",name:"addresses_",type:"address[2]"},{internalType:"uint256[2]",name:"parameters_",type:"uint256[2]"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"migrationDestination",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"migrationTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newPool",type:"address"},{internalType:"uint256",name:"graceDays",type:"uint256"}],name:"prepareMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"lAmount",type:"uint256"}],name:"removeLiquidity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newController",type:"address"}],name:"setController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];class $e extends ye{constructor(e,t){super(e,t,Ve)}async addLiquidity(e,t){const n=[Object(d.p)(t)];return await this._transact("addLiquidity",n,e)}async removeLiquidity(e,t){const n=[Object(d.p)(t)];return await this._transact("removeLiquidity",n,e)}async getParameters(){const e=await this._call("getParameters");return{minAddLiquidity:Object(d.d)(e.minAddLiquidity),redemptionFeeRatio:Object(d.d)(e.redemptionFeeRatio)}}async getStateValues(){const e=await this._call("getStateValues");return{liquidity:Object(d.d)(e)}}async getLiquidity(){const e=await this._call("getStateValues");if(e&&e.liquidity)return Object(d.d)(e.liquidity);throw new Error(`unable to get liquidity of this clp pool ${this.poolAddress}`)}}const Ue=[{inputs:[{internalType:"contract CakeToken",name:"_cake",type:"address"},{internalType:"contract SyrupBar",name:"_syrup",type:"address"},{internalType:"address",name:"_devaddr",type:"address"},{internalType:"uint256",name:"_cakePerBlock",type:"uint256"},{internalType:"uint256",name:"_startBlock",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"uint256",name:"pid",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"uint256",name:"pid",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EmergencyWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"uint256",name:"pid",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[],name:"BONUS_MULTIPLIER",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_allocPoint",type:"uint256"},{internalType:"contract IBEP20",name:"_lpToken",type:"address"},{internalType:"bool",name:"_withUpdate",type:"bool"}],name:"add",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"cake",outputs:[{internalType:"contract CakeToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"cakePerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_pid",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_devaddr",type:"address"}],name:"dev",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"devaddr",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_pid",type:"uint256"}],name:"emergencyWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"enterStaking",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_from",type:"uint256"},{internalType:"uint256",name:"_to",type:"uint256"}],name:"getMultiplier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"leaveStaking",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"massUpdatePools",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_pid",type:"uint256"}],name:"migrate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"migrator",outputs:[{internalType:"contract IMigratorChef",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_pid",type:"uint256"},{internalType:"address",name:"_user",type:"address"}],name:"pendingCake",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"poolInfo",outputs:[{internalType:"contract IBEP20",name:"lpToken",type:"address"},{internalType:"uint256",name:"allocPoint",type:"uint256"},{internalType:"uint256",name:"lastRewardBlock",type:"uint256"},{internalType:"uint256",name:"accCakePerShare",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"poolLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_pid",type:"uint256"},{internalType:"uint256",name:"_allocPoint",type:"uint256"},{internalType:"bool",name:"_withUpdate",type:"bool"}],name:"set",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IMigratorChef",name:"_migrator",type:"address"}],name:"setMigrator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"startBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"syrup",outputs:[{internalType:"contract SyrupBar",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalAllocPoint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"multiplierNumber",type:"uint256"}],name:"updateMultiplier",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_pid",type:"uint256"}],name:"updatePool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"userInfo",outputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"rewardDebt",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_pid",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}];class He extends ye{constructor(e,t){super(e,t,Ue)}async addLiquidity(e,t){const n=[391,Object(d.p)(t)];return await this._transact("deposit",n,e)}async removeLiquidity(e,t){const n=[391,Object(d.p)(t)];return await this._transact("withdraw",n,e)}async getLiquidity(e){const t=await this._call("userInfo",[391,e]);return t&&t.amount?Object(d.d)(t.amount):(console.log("the amount is not exist "),"0")}}const ze=function(){const e={};return(t,n)=>{let i=`${t}.${n}`;if(Object.keys(e).includes(i))return e[i];const a=new Le(t,n);return e[i]=a,a}}(),We=function(){const e={};return(t,n)=>{let i=`${t}.${n}`;if(Object.keys(e).includes(i))return e[i];const a=new $e(t,n);return e[i]=a,a}}(),Ge=function(){const e={};return(t,n)=>{let i=`${t}.${n}`;if(Object.keys(e).includes(i))return e[i];const a=new He(t,n);return e[i]=a,a}}(),Ke=u(class extends ye{constructor(e,t){super(e,t,be)}async getBroker(e){return await this._call("getBroker",[e])}async setBroker(e,t){return await this._transact("setBroker",[t],e)}}),Je=u(class extends ye{constructor(e,t){super(e,t,Te)}async getBTokenBalance(){return await this._call("getBTokenBalance",[])}async totalWhitelistCount(){return await this._call("totalWhitelistCount",[])}async airdropPToken(e){return await this._transact("airdropPToken",[],e)}}),Ye=async(e,t)=>{if("undefined"!==typeof window&&"undefined"!==typeof window.ethereum){const n=await window.ethereum.request({method:"eth_requestAccounts"}),i=parseInt(await window.ethereum.request({method:"net_version"})),a=Array.isArray(n)&&n[0];return window.ethereum.on("accountsChanged",(e=>{let n;n=e.length>0?e[0]:"","function"===typeof t?t(n):window.location.reload()})),window.ethereum.on("chainChanged",(t=>{let n=Object(d.i)(t);"function"===typeof e?e(n):window.location.reload()})),{success:!0,account:a,chainId:i}}return{success:!1,error:"Cannot connect wallet, please install MetaMask."}},Xe=async(e,t)=>{t=f(t);const n=await I.get(e),i=await n.eth.getBalance(t);return Object(d.g)(i)},Ze=async e=>{const t=await(async e=>{const t=Oe(!0);e=Object(d.t)(e);const n=await t.getValues([`${e}.claim.chainId`,`${e}.claim.amount`,`${e}.claim.deadline`,`${e}.claim.nonce`,`${e}.claim.v`,`${e}.claim.r`,`${e}.claim.s`,`${e}.claim.valid`]).catch((e=>console.log("getUserInfo",e)));if(n){const[e,t,i,a,r,s,o,l]=n;return{chainId:Object(d.e)(e),amount:Object(d.d)(t).toString(),deadline:Object(d.e)(i),nonce:Object(d.e)(a),v:Object(d.e)(r),r:s,s:o,valid:Object(d.c)(l)}}})(e),n=await(async e=>{const t=Oe(!0);e=Object(d.t)(e);const n=await t.getValues([`${e}.claim.harvest.lp`,`${e}.claim.harvest.trade`]).catch((e=>console.log("getUserInfoHarvest",e)));if(n){const[e,t]=n;return{lp:Object(d.d)(e).toString(),trade:Object(d.d)(t).toString()}}})(e),i=await(async e=>{const t=Oe(!0);e=Object(d.t)(e);const n=await t.getValues([`${e}.claim.total`]).catch((e=>console.log("getUserInfoTotal",e)));if(n){const[e]=n;return{total:Object(d.d)(e).toString()}}})(e);return Object.assign(t,n,i)},Qe=async(e,t)=>{const n=Oe(!0);try{const i=k(e),a=await n.getValues([`${i}.${t}.apy`,`${i}.${t}.volume.1h`,`${i}.${t}.volume.24h`]).catch((e=>console.log("getPoolInfoApy",e)));if(a){const[e,t,n]=a;return{apy:Object(d.d)(e).toString(),volume1h:Object(d.d)(t).toString(),volume24h:Object(d.d)(n).toString()}}}catch(i){console.log(i)}},et=async(e,t)=>{const n=Oe(!0);try{const i=k(e),a=await n.getValues([`${i}.${t}.apy`,`${i}.${t}.apy2`,`${i}.${t}.volume.1h`,`${i}.${t}.volume.24h`]).catch((e=>console.log("getPoolInfoApy",e)));if(a){const[e,t,n,i]=a;return{apy:Object(d.d)(e).toString(),apy2:Object(d.d)(t).toString(),volume1h:Object(d.d)(n).toString(),volume24h:Object(d.d)(i).toString()}}}catch(i){console.log(i)}},tt=async(e,t,n)=>{const i=Oe(!0);n=Object(d.t)(n);try{const a=k(e),r=await i.getValues([`${a}.${t}.${n}.volume.1h`,`${a}.${t}.${n}.volume.24h`]).catch((e=>console.log("getUserInfoInPool",e)));if(r){const[e,t]=r;return{volume1h:Object(d.d)(e).toString(),volume24h:Object(d.d)(t).toString()}}}catch(a){console.log(a)}},nt=async e=>{const t=Ee(!0);e=Object(d.t)(e);const n=await t.getValues([`${e}.claim.chainId`,`${e}.claim.amount`,`${e}.claim.deadline`,`${e}.claim.nonce`,`${e}.claim.v1`,`${e}.claim.r1`,`${e}.claim.s1`,`${e}.claim.v2`,`${e}.claim.r2`,`${e}.claim.s2`,`${e}.claim.valid`]).catch((e=>console.log("getUserInfoAllForAirDrop",e)));if(n){const[e,t,i,a,r,s,o,l,p,u,y]=n;return{chainId:Object(d.e)(e),amount:Object(d.d)(t).toString(),deadline:Object(d.e)(i),nonce:Object(d.e)(a),v1:Object(d.e)(r),r1:s,s1:o,v2:Object(d.e)(l),r2:p,s2:u,valid:Object(d.c)(y)}}},it=async e=>{const t=Pe(!0);return await t.signature(e)},at=async(e,t)=>{const{wormholeAddress:n,deriAddress:i}=ne(e),a=Be(e,i);return await a.isUnlocked(t,n)},rt=async(e,t)=>{const{deriAddress:n}=ne(e),i=Be(e,n);return(await i.balanceOf(t)).toString()},st=async(e,t)=>{let n;const a=await Ze(t),r=Object(d.p)(a.amount),{deadline:s}=a,{nonce:o}=a,{v:l}=a,{r:p}=a,{s:u}=a;if(a.valid){const a=(e=>{e=g(e);const t=Z(i.get()).filter((t=>t.chainId===e));if(t.length>0&&t[0].MiningVault)return t[0].MiningVault})(e);if(a){const i=Ne(e,a);try{n={success:!0,transaction:await i.mintDToken(t,r,s,o,l,p,u)}}catch(y){n={success:!1,error:y}}}else n={success:!1,error:`cannot find the mining vault address in chain ${e}`}}else n={success:!1,error:"userinfo is not valid"};return n},ot=async(e,t,n,i)=>{const{wormholeAddress:a}=ne(e),r=je(e,a);let s;try{s={success:!0,transaction:await r.freeze(t,i,n)}}catch(o){s={success:!1,error:o}}return s},lt=async(e,t)=>{let n;const i=Pe(!0),a=await i.signature(t),{amount:r}=a,{fromChainId:s}=a,{fromWormhole:o}=a,l=a.nonce,{v:p}=a,{r:u}=a,{s:d}=a;if(a.valid){const{wormholeAddress:i}=ne(e);if(i){const a=je(e,i);try{n={success:!0,transaction:await a.mintDeri(t,r,s,o,l,p,u,d)}}catch(y){n={success:!1,error:y}}}else n={success:!1,error:`cannot find the wormhole address in chain ${s}`}}else n={success:!1,error:"userinfo is not valid"};return n},pt=async(e,t)=>{const{wormholeAddress:n,deriAddress:i}=ne(e),a=Be(e,i);let r;try{r={success:!0,transaction:await a.unlock(t,n)}}catch(s){r={success:!1,error:s}}return r},ut=async(e,t)=>{let n;const i=await nt(t),a=Object(d.p)(i.amount).toString(),{deadline:r,nonce:s,v1:o,r1:l,s1:p,v2:u,r2:y,s2:c}=i;if(i.valid){const i=(e=>{const t=[{MiningVaultRouter:"0x8d5613451Dc0592388f98d7Ab1ce5A732561936e",chainId:"56"}].filter((t=>t.chainId===e));if(t.length>0)return t[0].MiningVaultRouter;throw new Error(`getMiningVaultRouterAddressConfig: no address for chainId ${e}`)})(e);if(i){const d=qe(e,i);try{n={success:!0,transaction:await d.mint(t,a,r,s,o,l,p,u,y,c)}}catch(m){n={success:!1,error:m}}}else n={success:!1,error:`cannot find the mining vault router address in chain ${e}`}}else n={success:!1,error:"userinfo is not valid"};return n},dt=[{inputs:[{internalType:"uint256[9]",name:"parameters",type:"uint256[9]"},{internalType:"address[4]",name:"addresses",type:"address[4]"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"uint256",name:"bTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"bAmount",type:"uint256"}],name:"AddLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"uint256",name:"bTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"bAmount",type:"uint256"}],name:"AddMargin",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"liquidator",type:"address"},{indexed:!1,internalType:"uint256",name:"reward",type:"uint256"}],name:"Liquidate",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"collector",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ProtocolFeeCollection",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"uint256",name:"bTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"bAmount",type:"uint256"}],name:"RemoveLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"uint256",name:"bTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"bAmount",type:"uint256"}],name:"RemoveMargin",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"uint256",name:"symbolId",type:"uint256"},{indexed:!1,internalType:"int256",name:"tradeVolume",type:"int256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"}],name:"Trade",type:"event"},{inputs:[{components:[{internalType:"address",name:"bTokenAddress",type:"address"},{internalType:"address",name:"swapperAddress",type:"address"},{internalType:"address",name:"oracleAddress",type:"address"},{internalType:"uint256",name:"decimals",type:"uint256"},{internalType:"int256",name:"discount",type:"int256"},{internalType:"int256",name:"price",type:"int256"},{internalType:"int256",name:"liquidity",type:"int256"},{internalType:"int256",name:"pnl",type:"int256"},{internalType:"int256",name:"cumulativePnl",type:"int256"}],internalType:"struct IPerpetualPool.BTokenInfo",name:"info",type:"tuple"}],name:"addBToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"bTokenId",type:"uint256"},{internalType:"uint256",name:"bAmount",type:"uint256"},{internalType:"uint256",name:"blength",type:"uint256"},{internalType:"uint256",name:"slength",type:"uint256"}],name:"addLiquidity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"bTokenId",type:"uint256"},{internalType:"uint256",name:"bAmount",type:"uint256"}],name:"addMargin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"string",name:"symbol",type:"string"},{internalType:"address",name:"oracleAddress",type:"address"},{internalType:"int256",name:"multiplier",type:"int256"},{internalType:"int256",name:"feeRatio",type:"int256"},{internalType:"int256",name:"fundingRateCoefficient",type:"int256"},{internalType:"int256",name:"price",type:"int256"},{internalType:"int256",name:"cumulativeFundingRate",type:"int256"},{internalType:"int256",name:"tradersNetVolume",type:"int256"},{internalType:"int256",name:"tradersNetCost",type:"int256"}],internalType:"struct IPerpetualPool.SymbolInfo",name:"info",type:"tuple"}],name:"addSymbol",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"targetPool",type:"address"}],name:"approvePoolMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"collectProtocolFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sourcePool",type:"address"}],name:"executePoolMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAddresses",outputs:[{internalType:"address",name:"lTokenAddress",type:"address"},{internalType:"address",name:"pTokenAddress",type:"address"},{internalType:"address",name:"routerAddress",type:"address"},{internalType:"address",name:"protocolFeeCollector",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"bTokenId",type:"uint256"}],name:"getBToken",outputs:[{components:[{internalType:"address",name:"bTokenAddress",type:"address"},{internalType:"address",name:"swapperAddress",type:"address"},{internalType:"address",name:"oracleAddress",type:"address"},{internalType:"uint256",name:"decimals",type:"uint256"},{internalType:"int256",name:"discount",type:"int256"},{internalType:"int256",name:"price",type:"int256"},{internalType:"int256",name:"liquidity",type:"int256"},{internalType:"int256",name:"pnl",type:"int256"},{internalType:"int256",name:"cumulativePnl",type:"int256"}],internalType:"struct IPerpetualPool.BTokenInfo",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"bTokenId",type:"uint256"}],name:"getBTokenOracle",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLengths",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getParameters",outputs:[{internalType:"uint256",name:"decimals0",type:"uint256"},{internalType:"int256",name:"minBToken0Ratio",type:"int256"},{internalType:"int256",name:"minPoolMarginRatio",type:"int256"},{internalType:"int256",name:"minInitialMarginRatio",type:"int256"},{internalType:"int256",name:"minMaintenanceMarginRatio",type:"int256"},{internalType:"int256",name:"minLiquidationReward",type:"int256"},{internalType:"int256",name:"maxLiquidationReward",type:"int256"},{internalType:"int256",name:"liquidationCutRatio",type:"int256"},{internalType:"int256",name:"protocolFeeCollectRatio",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getProtocolFeeAccrued",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"symbolId",type:"uint256"}],name:"getSymbol",outputs:[{components:[{internalType:"string",name:"symbol",type:"string"},{internalType:"address",name:"oracleAddress",type:"address"},{internalType:"int256",name:"multiplier",type:"int256"},{internalType:"int256",name:"feeRatio",type:"int256"},{internalType:"int256",name:"fundingRateCoefficient",type:"int256"},{internalType:"int256",name:"price",type:"int256"},{internalType:"int256",name:"cumulativeFundingRate",type:"int256"},{internalType:"int256",name:"tradersNetVolume",type:"int256"},{internalType:"int256",name:"tradersNetCost",type:"int256"}],internalType:"struct IPerpetualPool.SymbolInfo",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"symbolId",type:"uint256"}],name:"getSymbolOracle",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"liquidator",type:"address"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"blength",type:"uint256"},{internalType:"uint256",name:"slength",type:"uint256"}],name:"liquidate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"bTokenId",type:"uint256"},{internalType:"uint256",name:"bAmount",type:"uint256"},{internalType:"uint256",name:"blength",type:"uint256"},{internalType:"uint256",name:"slength",type:"uint256"}],name:"removeLiquidity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"bTokenId",type:"uint256"},{internalType:"uint256",name:"bAmount",type:"uint256"},{internalType:"uint256",name:"blength",type:"uint256"},{internalType:"uint256",name:"slength",type:"uint256"}],name:"removeMargin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"bTokenId",type:"uint256"},{internalType:"address",name:"swapperAddress",type:"address"},{internalType:"address",name:"oracleAddress",type:"address"},{internalType:"uint256",name:"discount",type:"uint256"}],name:"setBTokenParameters",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"address",name:"oracleAddress",type:"address"},{internalType:"uint256",name:"feeRatio",type:"uint256"},{internalType:"uint256",name:"fundingRateCoefficient",type:"uint256"}],name:"setSymbolParameters",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"int256",name:"tradeVolume",type:"int256"},{internalType:"uint256",name:"blength",type:"uint256"},{internalType:"uint256",name:"slength",type:"uint256"}],name:"trade",outputs:[],stateMutability:"nonpayable",type:"function"}],yt=[{inputs:[{internalType:"address",name:"lTokenAddress",type:"address"},{internalType:"address",name:"pTokenAddress",type:"address"},{internalType:"address",name:"liquidatorQualifierAddress",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"migrationTimestamp",type:"uint256"},{indexed:!1,internalType:"address",name:"source",type:"address"},{indexed:!1,internalType:"address",name:"target",type:"address"}],name:"ExecuteMigration",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"migrationTimestamp",type:"uint256"},{indexed:!1,internalType:"address",name:"source",type:"address"},{indexed:!1,internalType:"address",name:"target",type:"address"}],name:"PrepareMigration",type:"event"},{inputs:[{internalType:"address",name:"bTokenAddress",type:"address"},{internalType:"address",name:"swapperAddress",type:"address"},{internalType:"address",name:"oracleAddress",type:"address"},{internalType:"uint256",name:"discount",type:"uint256"}],name:"addBToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"bTokenId",type:"uint256"},{internalType:"uint256",name:"bAmount",type:"uint256"}],name:"addLiquidity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"bTokenId",type:"uint256"},{internalType:"uint256",name:"bAmount",type:"uint256"},{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct IPerpetualPoolRouter.PriceInfo[]",name:"infos",type:"tuple[]"}],name:"addLiquidityWithPrices",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"bTokenId",type:"uint256"},{internalType:"uint256",name:"bAmount",type:"uint256"}],name:"addMargin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"bTokenId",type:"uint256"},{internalType:"uint256",name:"bAmount",type:"uint256"},{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct IPerpetualPoolRouter.PriceInfo[]",name:"infos",type:"tuple[]"}],name:"addMarginWithPrices",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"symbol",type:"string"},{internalType:"address",name:"oracleAddress",type:"address"},{internalType:"uint256",name:"multiplier",type:"uint256"},{internalType:"uint256",name:"feeRatio",type:"uint256"},{internalType:"uint256",name:"fundingRateCoefficient",type:"uint256"}],name:"addSymbol",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"approveMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"claimNewController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"sourceRouter",type:"address"}],name:"executeMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"liquidate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct IPerpetualPoolRouter.PriceInfo[]",name:"infos",type:"tuple[]"}],name:"liquidateWithPrices",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"liquidatorQualifier",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"migrationDestination",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"migrationTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"target",type:"address"},{internalType:"uint256",name:"graceDays",type:"uint256"}],name:"prepareMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"bTokenId",type:"uint256"},{internalType:"uint256",name:"bAmount",type:"uint256"}],name:"removeLiquidity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"bTokenId",type:"uint256"},{internalType:"uint256",name:"bAmount",type:"uint256"},{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct IPerpetualPoolRouter.PriceInfo[]",name:"infos",type:"tuple[]"}],name:"removeLiquidityWithPrices",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"bTokenId",type:"uint256"},{internalType:"uint256",name:"bAmount",type:"uint256"}],name:"removeMargin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"bTokenId",type:"uint256"},{internalType:"uint256",name:"bAmount",type:"uint256"},{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct IPerpetualPoolRouter.PriceInfo[]",name:"infos",type:"tuple[]"}],name:"removeMarginWithPrices",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"bTokenId",type:"uint256"},{internalType:"address",name:"swapperAddress",type:"address"},{internalType:"address",name:"oracleAddress",type:"address"},{internalType:"uint256",name:"discount",type:"uint256"}],name:"setBTokenParameters",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"qualifierAddress",type:"address"}],name:"setLiquidatorQualifier",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newController",type:"address"}],name:"setNewController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"poolAddress",type:"address"}],name:"setPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"address",name:"oracleAddress",type:"address"},{internalType:"uint256",name:"feeRatio",type:"uint256"},{internalType:"uint256",name:"fundingRateCoefficient",type:"uint256"}],name:"setSymbolParameters",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"int256",name:"tradeVolume",type:"int256"}],name:"trade",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"int256",name:"tradeVolume",type:"int256"},{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct IPerpetualPoolRouter.PriceInfo[]",name:"infos",type:"tuple[]"}],name:"tradeWithPrices",outputs:[],stateMutability:"nonpayable",type:"function"}],ct=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"},{internalType:"uint256",name:"numBTokens_",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"bTokenId",type:"uint256"},{indexed:!1,internalType:"int256",name:"liquidity",type:"int256"},{indexed:!1,internalType:"int256",name:"pnl",type:"int256"},{indexed:!1,internalType:"int256",name:"lastCumulativePnl",type:"int256"}],name:"UpdateAsset",type:"event"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"exists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"bTokenId",type:"uint256"}],name:"getAsset",outputs:[{components:[{internalType:"int256",name:"liquidity",type:"int256"},{internalType:"int256",name:"pnl",type:"int256"},{internalType:"int256",name:"lastCumulativePnl",type:"int256"}],internalType:"struct ILToken.Asset",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"getAssets",outputs:[{components:[{internalType:"int256",name:"liquidity",type:"int256"},{internalType:"int256",name:"pnl",type:"int256"},{internalType:"int256",name:"lastCumulativePnl",type:"int256"}],internalType:"struct ILToken.Asset[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"numBTokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"num",type:"uint256"}],name:"setNumBTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newPool",type:"address"}],name:"setPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalMinted",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"bTokenId",type:"uint256"},{components:[{internalType:"int256",name:"liquidity",type:"int256"},{internalType:"int256",name:"pnl",type:"int256"},{internalType:"int256",name:"lastCumulativePnl",type:"int256"}],internalType:"struct ILToken.Asset",name:"asset",type:"tuple"}],name:"updateAsset",outputs:[],stateMutability:"nonpayable",type:"function"}],mt=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"},{internalType:"uint256",name:"numSymbols_",type:"uint256"},{internalType:"uint256",name:"numBTokens_",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"uint256",name:"bTokenId",type:"uint256"},{indexed:!1,internalType:"int256",name:"amount",type:"int256"}],name:"UpdateMargin",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"uint256",name:"symbolId",type:"uint256"},{indexed:!1,internalType:"int256",name:"volume",type:"int256"},{indexed:!1,internalType:"int256",name:"cost",type:"int256"},{indexed:!1,internalType:"int256",name:"lastCumulativeFundingRate",type:"int256"}],name:"UpdatePosition",type:"event"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"exists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"bTokenId",type:"uint256"}],name:"getMargin",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"getMargins",outputs:[{internalType:"int256[]",name:"",type:"int256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"symbolId",type:"uint256"}],name:"getPosition",outputs:[{components:[{internalType:"int256",name:"volume",type:"int256"},{internalType:"int256",name:"cost",type:"int256"},{internalType:"int256",name:"lastCumulativeFundingRate",type:"int256"}],internalType:"struct IPToken.Position",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"getPositions",outputs:[{components:[{internalType:"int256",name:"volume",type:"int256"},{internalType:"int256",name:"cost",type:"int256"},{internalType:"int256",name:"lastCumulativeFundingRate",type:"int256"}],internalType:"struct IPToken.Position[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"numBTokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"numSymbols",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"num",type:"uint256"}],name:"setNumBTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"num",type:"uint256"}],name:"setNumSymbols",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newPool",type:"address"}],name:"setPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalMinted",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"bTokenId",type:"uint256"},{internalType:"int256",name:"amount",type:"int256"}],name:"updateMargin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"int256[]",name:"margins",type:"int256[]"}],name:"updateMargins",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"symbolId",type:"uint256"},{components:[{internalType:"int256",name:"volume",type:"int256"},{internalType:"int256",name:"cost",type:"int256"},{internalType:"int256",name:"lastCumulativeFundingRate",type:"int256"}],internalType:"struct IPToken.Position",name:"position",type:"tuple"}],name:"updatePosition",outputs:[],stateMutability:"nonpayable",type:"function"}];const bt=e=>({liquidity:Object(d.d)(e[0]),pnl:Object(d.d)(e[1]),lastCumulativePnl:Object(d.d)(e[2])});const Tt=e=>({volume:Object(d.d)(e.volume),cost:Object(d.d)(e.cost),lastCumulativeFundingRate:Object(d.d)(e.lastCumulativeFundingRate)});const gt=e=>{let t={};return(n,i)=>{const a=i;return Object.keys(t).includes(a)||(t[a]=new e(n,i)),t[a]}},ft=gt(class extends ye{constructor(e,t){super(e,t,dt),this.bTokenCount=0,this.symbolCount=0,this.lTokenAddress="",this.pTokenAddress="",this.routerAddress="",this.protocolFeeCollector="",this.protocolFeeAccrued=0}async _update(){await Promise.all([this.getLengths(),this.getAddresses(),this.getParameters()])}async getLengths(){try{const e=await this._call("getLengths");e[0]&&e[1]&&(this.bTokenCount=parseInt(e[0]),this.symbolCount=parseInt(e[1]))}catch(e){throw new Error(`PerpetualPool#_getLength error: ${e}`)}}async getAddresses(){try{const e=await this._call("getAddresses");this.lTokenAddress=e.lTokenAddress,this.pTokenAddress=e.pTokenAddress,this.routerAddress=e.routerAddress,this.protocolFeeCollector=e.protocolFeeCollector}catch(e){throw new Error(`PerpetualPool#_getAddress error: ${e}`)}}async getParameters(){const e=await this._call("getParameters");return{decimals0:e.decimals0,minBToken0Ratio:Object(d.d)(e.minBToken0Ratio),minPoolMarginRatio:Object(d.d)(e.minPoolMarginRatio),minInitialMarginRatio:Object(d.d)(e.minInitialMarginRatio),minMaintenanceMarginRatio:Object(d.d)(e.minMaintenanceMarginRatio),minLiquidationReward:Object(d.d)(e.minLiquidationReward),maxLiquidationReward:Object(d.d)(e.maxLiquidationReward),liquidationCutRatio:Object(d.d)(e.liquidationCutRatio),protocolFeeCollectRatio:Object(d.d)(e.protocolFeeCollectRatio)}}async getProtocolFeeAccrued(){const e=await this._call("getProtocolFeeAccrued");this.protocolFeeAccrued=Object(d.d)(e)}async getBToken(e){try{const t=await this._call("getBToken",[e]);return{bTokenAddress:t.bTokenAddress,swapperAddress:t.bTokenAddress,oracleAddress:t.oracleAddress,decimals:t.decimals,discount:Object(d.d)(t.discount),price:Object(d.d)(t.price),liquidity:Object(d.d)(t.liquidity),pnl:Object(d.d)(t.pnl),cumulativePnl:Object(d.d)(t.cumulativePnl)}}catch(t){throw new Error(`PerpetualPool#getBToken error: ${t}`)}}async getBTokenOracle(e){return await this._call("getBTokenOracle",[e])}async getSymbol(e){try{const t=await this._call("getSymbol",[e]);return{symbol:t.symbol,oracleAddress:t.oracleAddress,multiplier:Object(d.d)(t.multiplier),feeRatio:Object(d.d)(t.feeRatio),fundingRateCoefficient:Object(d.d)(t.fundingRateCoefficient),price:Object(d.d)(t.price),cumulativeFundingRate:Object(d.d)(t.cumulativeFundingRate),tradersNetVolume:Object(d.d)(t.tradersNetVolume),tradersNetCost:Object(d.d)(t.tradersNetCost)}}catch(t){throw new Error(`PerpetualPool#getSymbol error: ${t}`)}}async getSymbolOracle(e){return await this._call("getSymbolOracle",[e])}async _getTimeStamp(e){return await this._init(),await this.web3.eth.getBlock(e)}async getLastUpdatedBlockNumber(){await this._init();const e=await this.web3.eth.getStorageAt(this.contractAddress,0);return Object(d.i)(e)}async getLatestBlockNumber(){await this._init();return await this.web3.eth.getBlockNumber()}_calculateFee(e,t,n,i){return Object(d.a)(e).abs().times(t).times(n).times(i).toString()}async _getBlockInfo(e){return await this._init(),await this.web3.eth.getBlock(e)}async _getPastEvents(e,t={},n=0,i=0){await this._init();let a,r=[];for(a=["56","97","127","80001"].includes(this.chainId)?999:4999,n+a>i&&(a=i-n);n<=i;){let s=await this.contract.getPastEvents(e,{filter:t,fromBlock:n,toBlock:n+a});for(let e of s)r.push(e);(n+=a+1)+a>i&&(a=i-n)}return r}}),ht=gt(class extends ye{constructor(e,t){super(e,t,yt),this.poolAddress=""}async pool(){return this.poolAddress=await this._call("pool"),this.poolAddress}async addLiquidity(e,t,n){return this.poolAddress||await this.pool(),await this._transact("addLiquidity",[t,Object(d.p)(n)],e)}async removeLiquidity(e,t,n,i){return i?await this._transact("removeLiquidity",[t,o],e):await this._transact("removeLiquidity",[t,Object(d.p)(n)],e)}async addMargin(e,t,n){return this.poolAddress||await this.pool(),await this._transact("addMargin",[t,Object(d.p)(n)],e)}async removeMargin(e,t,n,i){return this.poolAddress||await this.pool(),i?await this._transact("removeMargin",[t,o],e):await this._transact("removeMargin",[t,Object(d.p)(n)],e)}async trade(e,t,n){return this.poolAddress||await this.pool(),await this._transact("trade",[t,Object(d.p)(n)],e)}async addLiquidityWithPrices(e,t,n,i){return this.poolAddress||await this.pool(),await this._transact("addLiquidityWithPrices",[t,Object(d.p)(n),i],e)}async removeLiquidityWithPrices(e,t,n,i,a){return a?await this._transact("removeLiquidityWithPrices",[t,o,i],e):await this._transact("removeLiquidityWithPrices",[t,Object(d.p)(n),i],e)}async addMarginWithPrices(e,t,n,i){return this.poolAddress||await this.pool(),await this._transact("addMarginWithPrices",[t,Object(d.p)(n),i],e)}async removeMarginWithPrices(e,t,n,i,a){return this.poolAddress||await this.pool(),a?await this._transact("removeMarginWithPrices",[t,o,i],e):await this._transact("removeMarginWithPrices",[t,Object(d.p)(n),i],e)}async tradeWithPrices(e,t,n,i){return this.poolAddress||await this.pool(),await this._transact("tradeWithPrices",[t,Object(d.p)(n),i],e)}}),vt=gt(class extends ye{constructor(e,t){super(e,t,ct)}async balanceOf(e){return await this._call("balanceOf",[e])}async pool(){return await this._call("pool")}async exists(e){return await this._call("exists",[e])}async getAsset(e,t){const n=await this._call("getAsset",[e,t]);if(Array.isArray(n))return bt(n);throw console.log("address",this.contractAddress),console.log("res",n),new Error(`LToken#getAsset: invalid result with (${e} ${t})`)}async getAssets(e){const t=await this._call("getAssets",[e]);if(Array.isArray(t))return t.map((e=>bt(e)));throw new Error(`LToken#getAsset: invalid result with (${e})`)}}),wt=gt(class extends ye{constructor(e,t){super(e,t,mt)}async pool(){return await this._call("pool")}async balanceOf(e){return await this._call("balanceOf",[e])}async exists(e){return await this._call("exists",[e])}async getMargin(e,t){const n=await this._call("getMargin",[e,t]);return Object(d.d)(n)}async getMargins(e){const t=await this._call("getMargins",[e]);if(Array.isArray(t))return t.map((e=>Object(d.d)(e)))}async getPosition(e,t){const n=await this._call("getPosition",[e,t]);if(Array.isArray(n))return Tt(n);throw new Error(`PToken#getMargin: invalid result with (${e})`)}async getPositions(e){const t=await this._call("getPositions",[e]);if(Array.isArray(t))return t.map((e=>Tt(e)))}}),St=async(e,t,n)=>{e=g(e),t=f(t),n=f(n);const{address:i}=re(e);let a;try{const r=Ke(e,i);a={success:!0,transaction:await r.setBroker(t,n)}}catch(r){a={success:!1,error:r}}return a},Mt=()=>"prod"===i.get()?"0x94e7f76eb542657Bc8d2a9aA321D79F66F7C8FfA":"0x3b88a9B5896a49AEb23Ca2Ee9892d28d3B8De5f6",kt=async(e,t)=>{let n,i=Mt();try{n={success:!0,transaction:await Je(e,i).airdropPToken(t)}}catch(a){n={success:!1,error:a}}return n},It=async e=>{let t,n=Mt();try{t=await Je(e,n).totalWhitelistCount()}catch(i){console.log(`${i}`)}return t},At=async(e,t,n)=>{let i="";try{const{pToken:a}=W(t),r=wt(e,a),s=await r.balanceOf(n);"1"===s?i=!0:"0"===s&&(i=!1)}catch(a){console.log(`${a}`)}return i},Ot=(e,t,n,i,a)=>Object(d.a)(e*t*n/i*a).abs(),Pt=(e,t,n,i,a)=>e*t*n/i*a,Et=(e,t)=>{const n=M(e);return Object(d.a)(t).times(n)},Ct=(e,t)=>Object(d.a)(e).eq(0)?Object(d.a)(0):Object(d.a)(t).div(e),Rt=(e,t,n,i,a,r,s,o)=>{const l=Ct(t,n),p=Object(d.a)(i).times(o).times(r),u=Object(d.a)(n).plus(a).minus(p).minus(p.abs().times(s));return Object(d.n)(Object(d.o)(Object(d.a)(e),u.div(l)),Object(d.a)(0))},Dt=(e,t,n)=>Object(d.a)(e).eq(0)?Object(d.a)(0):t.div(e).div(n),xt=(e,t,n,i)=>Object(d.a)(t).abs().times(e).times(n).times(i),Ft=(e,t,n,i)=>Object(d.a)(t).times(e).times(n).minus(i),Bt=(e,t,n,i,a)=>{const r=Object(d.a)(n).minus(t).div(e).div(i);let s=Object(d.a)(e).gt(0)?r.div(Object(d.a)(1).minus(a)):r.div(Object(d.a)(1).plus(a));return s=Object(d.n)(s,Object(d.a)(0)),s},jt=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"lShares",type:"uint256"},{indexed:!1,internalType:"uint256",name:"bAmount",type:"uint256"}],name:"AddLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"bAmount",type:"uint256"}],name:"DepositMargin",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"migrationTimestamp",type:"uint256"},{indexed:!1,internalType:"address",name:"source",type:"address"},{indexed:!1,internalType:"address",name:"target",type:"address"}],name:"ExecuteMigration",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"int256",name:"volume",type:"int256"},{indexed:!1,internalType:"int256",name:"cost",type:"int256"},{indexed:!1,internalType:"uint256",name:"margin",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"},{indexed:!1,internalType:"address",name:"liquidator",type:"address"},{indexed:!1,internalType:"uint256",name:"reward",type:"uint256"}],name:"Liquidate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"migrationTimestamp",type:"uint256"},{indexed:!1,internalType:"address",name:"source",type:"address"},{indexed:!1,internalType:"address",name:"target",type:"address"}],name:"PrepareMigration",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"lShares",type:"uint256"},{indexed:!1,internalType:"uint256",name:"bAmount",type:"uint256"}],name:"RemoveLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"int256",name:"tradeVolume",type:"int256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"}],name:"Trade",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"bAmount",type:"uint256"}],name:"WithdrawMargin",type:"event"},{inputs:[{internalType:"uint256",name:"bAmount",type:"uint256"}],name:"addLiquidity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"bAmount",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"addLiquidity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"approveMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"bAmount",type:"uint256"}],name:"depositMargin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"bAmount",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"depositMargin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"source",type:"address"}],name:"executeMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAddresses",outputs:[{internalType:"address",name:"bToken",type:"address"},{internalType:"address",name:"pToken",type:"address"},{internalType:"address",name:"lToken",type:"address"},{internalType:"address",name:"oracle",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getParameters",outputs:[{internalType:"uint256",name:"multiplier",type:"uint256"},{internalType:"uint256",name:"feeRatio",type:"uint256"},{internalType:"uint256",name:"minPoolMarginRatio",type:"uint256"},{internalType:"uint256",name:"minInitialMarginRatio",type:"uint256"},{internalType:"uint256",name:"minMaintenanceMarginRatio",type:"uint256"},{internalType:"uint256",name:"minAddLiquidity",type:"uint256"},{internalType:"uint256",name:"redemptionFeeRatio",type:"uint256"},{internalType:"uint256",name:"fundingRateCoefficient",type:"uint256"},{internalType:"uint256",name:"minLiquidationReward",type:"uint256"},{internalType:"uint256",name:"maxLiquidationReward",type:"uint256"},{internalType:"uint256",name:"liquidationCutRatio",type:"uint256"},{internalType:"uint256",name:"priceDelayAllowance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getStateValues",outputs:[{internalType:"int256",name:"cumuFundingRate",type:"int256"},{internalType:"uint256",name:"cumuFundingRateBlock",type:"uint256"},{internalType:"uint256",name:"liquidity",type:"uint256"},{internalType:"int256",name:"tradersNetVolume",type:"int256"},{internalType:"int256",name:"tradersNetCost",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"symbol_",type:"string"},{internalType:"address[4]",name:"addresses_",type:"address[4]"},{internalType:"uint256[12]",name:"parameters_",type:"uint256[12]"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"liquidate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"liquidate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"migrationDestination",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"migrationTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newPool",type:"address"},{internalType:"uint256",name:"graceDays",type:"uint256"}],name:"prepareMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"lShares",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"removeLiquidity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"lShares",type:"uint256"}],name:"removeLiquidity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newController",type:"address"}],name:"setController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int256",name:"tradeVolume",type:"int256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"trade",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int256",name:"tradeVolume",type:"int256"}],name:"trade",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int256",name:"tradeVolume",type:"int256"},{internalType:"uint256",name:"bAmount",type:"uint256"}],name:"tradeWithMargin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int256",name:"tradeVolume",type:"int256"},{internalType:"uint256",name:"bAmount",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"tradeWithMargin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"bAmount",type:"uint256"}],name:"withdrawMargin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"bAmount",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"withdrawMargin",outputs:[],stateMutability:"nonpayable",type:"function"}];class qt extends ye{constructor(e,t,n){super(e,t,jt,n)}async symbol(){return await this._call("symbol")}async getStateValues(){let e;const t=Object(d.a)(0);try{const t=await this._call("getStateValues");e={cumuFundingRate:Object(d.d)(t.cumuFundingRate),cumuFundingRateBlock:Object(d.a)(t.cumuFundingRateBlock),liquidity:Object(d.d)(t.liquidity),tradersNetVolume:Object(d.d)(t.tradersNetVolume),tradersNetCost:Object(d.d)(t.tradersNetCost)}}catch(n){e={cumuFundingRate:t,cumuFundingRateBlock:t,liquidity:t,tradersNetCost:t,tradersNetVolume:t},console.log(`getStateValues: ${n}`)}return e}async getParameters(){let e;const t=Object(d.a)(0);try{const t=await this._call("getParameters");e={multiplier:Object(d.d)(t.multiplier),feeRatio:Object(d.d)(t.feeRatio),minPoolMarginRatio:Object(d.d)(t.minPoolMarginRatio),minInitialMarginRatio:Object(d.d)(t.minInitialMarginRatio),minMaintenanceMarginRatio:Object(d.d)(t.minMaintenanceMarginRatio),minAddLiquidity:Object(d.d)(t.minAddLiquidity),redemptionFeeRatio:Object(d.d)(t.redemptionFeeRatio),fundingRateCoefficient:Object(d.d)(t.fundingRateCoefficient),minLiquidationReward:Object(d.d)(t.minLiquidationReward),maxLiquidationReward:Object(d.d)(t.maxLiquidationReward),liquidationCutRatio:Object(d.d)(t.liquidationCutRatio),priceDelayAllowance:Object(d.a)(t.priceDelayAllowance)}}catch(n){e={multiplier:t,feeRatio:t,minPoolMarginRatio:t,minInitialMarginRatio:t,minMaintenanceMarginRatio:t,minAddLiquidity:t,redemptionFeeRatio:t,fundingRateCoefficient:t,minLiquidationReward:t,maxLiquidationReward:t,liquidationCutRatio:t,priceDelayAllowance:t},console.log(`getParameters: ${n}`)}return e}_getTransactionReceipt(e){const t=this;return function n(i,a){t.web3.eth.getTransactionReceipt(e,((e,t)=>{e?a(e):null==t?setTimeout((()=>n(i,a)),500):!1===t.status?(t.errorMessage="Transaction failed",a(t)):i(t)}))}}async _estimatedGas(e,t,n){let i=0;for(let r=0;r<20;r++)try{i=await this.contract.methods[e](...t).estimateGas({from:n}),i=parseInt(1.25*i);break}catch(a){}return 0==i&&(i=532731),i>532731&&(i=532731),i}async _transact(e,t=[],n){await this._init();const i=await this.symbol(),a=await le(i);let r=[a.timestamp,a.price,a.v,a.r,a.s];const s=await this._estimatedGas(e,[...t,...r],n);let o=[{from:n,to:this.contractAddress,gas:Object(d.r)(s),value:Object(d.r)("0"),data:this.contract.methods[e](...t,...r).encodeABI()}],l=await window.ethereum.request({method:"eth_sendTransaction",params:o});return await new Promise(this._getTransactionReceipt(l))}async getFundingRate(){let e,t,n,i;const a=await this.symbol();e=await oe(a);try{const a=await this.getStateValues(),r=await this.getParameters(),{tradersNetVolume:s,liquidity:o}=a,{multiplier:l,fundingRateCoefficient:p,minPoolMarginRatio:u}=r,d=[s,e,l,o,p];h(...d)?(t="0",n="0"):(n=Pt(...d),t=Et(this.chainId,n));const y=[s,e,l,o,u];return i=h(...y)?"0":Ot(...y),{price:e,multiplier:l.toString(),fundingRate:t,fundingRatePerBlock:n,tradersNetVolume:s.toString(),liquidity:o.toString(),fundingRateCoefficient:p.toString(),liquidityUsed:i,poolMarginRatio:u.toString()}}catch(r){throw console.log("PerpetualPool#gerFundingRate():",r),r}}async depositMargin(e,t){let n;try{n={success:!0,transaction:await this._transact("depositMargin(uint256,uint256,uint256,uint8,bytes32,bytes32)",[t],e)}}catch(i){console.log("here"),n={success:!1,error:i}}return n}async _getBlockInfo(e){return await this._init(),await this.web3.eth.getBlock(e)}async _getPastEvents(e,t={},n=0,i=0){await this._init();let a,r=[];for(a=["56","137","97","80001"].includes(this.chainId)?999:4999,n+a>i&&(a=i-n);n<=i;){let s=await this.contract.getPastEvents(e,{filter:t,fromBlock:n,toBlock:n+a});for(let e of s)r.push(e);(n+=a+1)+a>i&&(a=i-n)}return r}async _getTimeStamp(e){return await this._init(),await this.web3.eth.getBlock(e)}_calculateFee(e,t,n,i){return Object(d.a)(e).abs().times(t).times(n).times(i).toString()}}const Nt=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"int256",name:"volume",type:"int256"},{indexed:!1,internalType:"int256",name:"cost",type:"int256"},{indexed:!1,internalType:"int256",name:"lastCumuFundingRate",type:"int256"},{indexed:!1,internalType:"uint256",name:"margin",type:"uint256"},{indexed:!1,internalType:"uint256",name:"lastUpdateTimestamp",type:"uint256"}],name:"Update",type:"event"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"exists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"exists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"getPosition",outputs:[{internalType:"int256",name:"volume",type:"int256"},{internalType:"int256",name:"cost",type:"int256"},{internalType:"int256",name:"lastCumuFundingRate",type:"int256"},{internalType:"uint256",name:"margin",type:"uint256"},{internalType:"uint256",name:"lastUpdateTimestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getPosition",outputs:[{internalType:"int256",name:"volume",type:"int256"},{internalType:"int256",name:"cost",type:"int256"},{internalType:"int256",name:"lastCumuFundingRate",type:"int256"},{internalType:"uint256",name:"margin",type:"uint256"},{internalType:"uint256",name:"lastUpdateTimestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"margin",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newPool",type:"address"}],name:"setPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalMinted",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"int256",name:"volume",type:"int256"},{internalType:"int256",name:"cost",type:"int256"},{internalType:"int256",name:"lastCumuFundingRate",type:"int256"},{internalType:"uint256",name:"margin",type:"uint256"},{internalType:"uint256",name:"lastUpdateTimestamp",type:"uint256"}],name:"update",outputs:[],stateMutability:"nonpayable",type:"function"}];class _t extends ye{constructor(e,t){super(e,t,Nt)}async getPositionInfo(e){let t={};try{const n=await this._call("getPosition(address)",[e]);t={volume:Object(d.d)(n[0]),cost:Object(d.d)(n[1]),lastCumuFundingRate:Object(d.d)(n[2]),margin:Object(d.d)(n[3]),lastUpdateTimestamp:Object(d.a)(n[4])}}catch(n){t={volume:Object(d.a)(0),cost:Object(d.a)(0),lastCumuFundingRate:Object(d.a)(0),margin:Object(d.a)(0),lastUpdateTimestamp:Object(d.a)(0)}}return t}async exists(e){return await this._call("exists",[e])}}const Lt=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newPool",type:"address"}],name:"setPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];class Vt extends ye{constructor(e,t){super(e,t,Lt)}async balance(e){return Object(d.d)(await this._call("balanceOf",[e]))}async balanceOf(e){return Object(d.d)(await this._call("balanceOf",[e]))}async totalSupply(){return Object(d.d)(await this._call("totalSupply"))}}const $t=(()=>{const e={};return(t,n)=>{let i=`${t}.${n}`;if(Object.keys(e).includes(i))return e[i];const a=new qt(t,n);return e[i]=a,a}})(),Ut=function(){const e={};return(t,n)=>{let i=`${t}.${n}`;if(Object.keys(e).includes(i))return e[i];const a=new _t(t,n);return e[i]=a,a}}(),Ht=function(){const e={};return(t,n)=>{let i=`${t}.${n}`;if(Object.keys(e).includes(i))return e[i];const a=new Vt(t,n);return e[i]=a,a}}(),zt=async(e,t,n)=>{const{type:i}=te(e,t);return"slp"===i?await(async(e,t,n)=>{const{bTokenAddress:i}=te(e,t);if(i){const a=ze(e,t),r=Ce(e,i),[s,o,l]=await Promise.all([r.balanceOf(t),r.balanceOf(n),a.getLiquidity(n)]);return{poolLiquidity:s.toString(),bTokenBalance:o.toString(),shares:l.toString(),shareValue:"1"}}return console.log("no SlpPool address, please check"),{}})(e,t,n):"clp"===i?await(async(e,t,n)=>{const{lTokenAddress:i}=te(e,t),a=We(e,t),r=Ht(e,i),[s,o]=await Promise.all([r.balanceOf(n),r.totalSupply()]),{liquidity:l}=await a.getStateValues();return{totalSupply:o.toString(),poolLiquidity:l.toString(),shares:s.toString(),shareValue:(o.eq(0)?Object(d.a)(0):l.div(o)).toString(),maxRemovableShares:s.toString()}})(e,t,n):"clp2"===i?await(async(e,t,n)=>{const{bTokenAddress:i}=te(e,t);if(i){const a=Ge(e,t),r=Ce(e,i),[s,o,l]=await Promise.all([r.balanceOf(t),r.balanceOf(n),a.getLiquidity(n)]);return{poolLiquidity:s.toString(),bTokenBalance:o.toString(),shares:l.toString(),shareValue:"1"}}return console.log("no Clp2Pool address, please check"),{}})(e,t,n):void console.log(`getLpLiquidityInfo(): invalid lp type ${i}`)},Wt=async(e,t,n)=>{const{type:i}=te(e,t);return"slp"===i?await(async(e,t,n)=>{const{bTokenAddress:i}=te(e,t),a=Ce(e,i);return await a.isUnlocked(n,t)})(e,t,n):"clp"===i?await(async(e,t,n)=>{const{bTokenAddress:i}=te(e,t),a=Ce(e,i);return await a.isUnlocked(n,t)})(e,t,n):"clp2"===i?await(async(e,t,n)=>{const{bTokenAddress:i}=te(e,t),a=Ce(e,i);return await a.isUnlocked(n,t)})(e,t,n):void console.log(`isLpLiquidity(): invalid lp type ${i}`)},Gt=async(e,t,n)=>{const{type:i}=te(e,t);return"slp"===i?await(async(e,t,n)=>{const{bTokenAddress:i}=te(e,t),a=Ce(e,i);return(await a.balanceOf(n)).toString()})(e,t,n):"clp"===i?await(async(e,t,n)=>{const{bTokenAddress:i}=te(e,t),a=Ce(e,i);return(await a.balanceOf(n)).toString()})(e,t,n):"clp2"===i?await(async(e,t,n)=>{const{bTokenAddress:i}=te(e,t),a=Ce(e,i);return(await a.balanceOf(n)).toString()})(e,t,n):void console.log(`getLpWalletBalance(): invalid lp type ${i}`)},Kt=async(e,t,n,i)=>{const a=$t(e,t);return await a.depositMargin(n,Object(d.p)(i))},Jt=async(e,t,n,i)=>{let a;const{pTokenAddress:r,symbol:s}=ie(e,t),o=$t(e,t),l=Ut(e,r,t),p=await oe(s),{volume:u,margin:y,cost:c}=await l.getPositionInfo(n),{multiplier:m,minInitialMarginRatio:b}=await o.getParameters(),T=((e,t,n,i,a,r)=>{if(t.eq(0))return n;const s=xt(e,t,a,r),o=Ft(e,t,a,i);return Object(d.n)(Object(d.a)(n).plus(o).minus(s.times(1.02)),Object(d.a)(0))})(p,u,y,c,m,b);if(Object(d.a)(i).lte(T))try{a={success:!0,transaction:await o._transact("withdrawMargin(uint256,uint256,uint256,uint8,bytes32,bytes32)",[Object(d.p)(i)],n)}}catch(g){a={success:!1,error:g}}else a={success:!1,error:"amount exceeds allowed"};return a},Yt=async(e,t,n,i)=>{const a=$t(e,t);let r;try{r={success:!0,transaction:await a._transact("addLiquidity(uint256,uint256,uint256,uint8,bytes32,bytes32)",[Object(d.p)(i)],n)}}catch(s){r={success:!1,error:s}}return r},Xt=async(e,t,n,i)=>{const{lTokenAddress:a,symbol:r}=ie(e,t),s=$t(e,t),o=Ht(e,a,t),l=await oe(r),[p,u]=await Promise.all([o.balance(n),o.totalSupply()]),{multiplier:y,minPoolMarginRatio:c}=await s.getParameters(),{liquidity:m,tradersNetVolume:b,tradersNetCost:T}=await s.getStateValues(),g=Rt(p,u,m,b,T,y,c,l);let f;if(Object(d.a)(i).lte(g))try{f={success:!0,transaction:await s._transact("removeLiquidity(uint256,uint256,uint256,uint8,bytes32,bytes32)",[Object(d.p)(i)],n)}}catch(h){f={success:!1,error:h}}else f={success:!1,error:"shares exceeds allowed"};return f},Zt=async(e,t,n,i,a="0")=>{const{pTokenAddress:r,symbol:s}=ie(e,t),o=$t(e,t),l=Ut(e,r,t),p=await oe(s),{multiplier:u,minInitialMarginRatio:y,minPoolMarginRatio:c}=await o.getParameters(),{liquidity:m,tradersNetVolume:b}=await o.getStateValues(),{volume:T,margin:g}=await l.getPositionInfo(n);let f;const h=((e,t,n,i,a,r,s,o,l,p)=>{const u=Object(d.a)(n).plus(l).abs().times(e).times(r).times(o),y=Object(d.a)(i).div(s).div(e).div(r);return Object(d.a)(t).plus(p).gte(u)?Object(d.a)(l).lte(y.minus(a))&&Object(d.a)(l).gte(y.negated().minus(a))?{success:!0}:{success:!1,message:"Pool insufficient liquidity"}:{success:!1,message:"Trader insufficient margin"}})(p,g,T,m,b,u,c,y,Object(d.a)(i),Object(d.a)(a));if(h.success)try{f={success:!0,transaction:await o._transact("tradeWithMargin(int256,uint256,uint256,uint256,uint8,bytes32,bytes32)",[Object(d.p)(i),Object(d.p)(a)],n)}}catch(v){f={success:!1,error:v}}else f={success:!1,error:h.message};return f},Qt=async(e,t,n)=>{const{pTokenAddress:i}=ie(e,t),a=$t(e,t),r=Ut(e,i,t);let s,{volume:o}=await r.getPositionInfo(n);if(o=o.negated(),o.eq(0))s={success:!1,error:"no position to close"};else try{s={success:!0,transaction:await a._transact("tradeWithMargin(int256,uint256,uint256,uint256,uint8,bytes32,bytes32)",[Object(d.p)(o),"0"],n)}}catch(l){s={success:!1,error:l}}return s};var en=n(87);const tn=function(){let e={};return{get(t,n){const i=`${t}.${n}`;if(Object.keys(e).includes(i))return e[i];console.log(`Cache key is not in resourceMap: ${i}`)},set(t,n,i){e[`${t}.${n}`]=i}}}(),nn=(function(){let e=""}(),function(){let e="",t=null;return{get:()=>(""===e&&console.log("please init 'price' first"),e),async _update(t,n){try{const t=await oe(n);""!==t&&(e=t)}catch(i){console.log(`priceCache.update: ${i}`)}},update(e,n){const i=this;t=setInterval((()=>{i._update(e,n)}),3e3)},clear(){t&&clearInterval(t),e=""}}}()),an=function(){let e={};return{get:()=>(e.multiplier||console.log("please init 'perpetual pool parameters' first"),e),async update(t,n){const i=$t(t,n),a=await i.getParameters();return a.multiplier&&(e=a),a}}}(),rn=function(){let e=null;return{get(){if(e)return e;console.log("wsInstance.get() error: ws instance is not init")},set(t){try{const n=Object(en.io)(t,{transports:["websocket"],path:"/ws"});n.on("connect",(()=>{console.log("hello from ws:",n.id)})),n?e=n:console.log("wsInstance.get() error: ws instance is not init")}catch(n){console.log("wsInstance.set():",n)}},getOrSet(t){return e||this.set(t),e}}}(),sn=async e=>{const t=rn.getOrSet(Object(l.a)(i.get()));await t.send(e);return await((e,t)=>new Promise((n=>{e.on(t,(function(e){n(JSON.parse(e))}))})))(t,"trade_tx_receipt")},on=async(e,t,n,i="0")=>{const a=await(async(e,t,n,i)=>{let a;const{bTokenAddress:r}=te(e,t);if(r){const r=ze(e,t);try{a={success:!0,transaction:await r.addLiquidity(n,i)}}catch(s){a={success:!1,error:s}}}else a={success:!1,error:"unable to get bToken address of slp pool"};return a})(e,t,n,i);if(a.success){return{...await sn(`add_slp_liquidity(${e},${t},${n})`),...a}}return a},ln=async(e,t,n,i="0")=>{const a=await(async(e,t,n,i)=>{let a;const{bTokenAddress:r}=te(e,t);if(r){const r=ze(e,t);try{a={success:!0,transaction:await r.removeLiquidity(n,i)}}catch(s){a={success:!1,error:s}}}else a={success:!1,error:"unable to get bToken address of slp pool"};return a})(e,t,n,i);if(a.success){return{...await sn(`remove_slp_liquidity(${e},${t},${n})`),...a}}return a},pn=async(e,t,n,i="0")=>{const a=await(async(e,t,n,i)=>{let a;const{bTokenAddress:r}=te(e,t);if(r){const r=We(e,t);try{const e=await r.addLiquidity(n,i);console.log(e,typeof e),a={success:!0,transaction:e}}catch(s){a={success:!1,error:s}}}else a={success:!1,error:"unable to get bToken address of clp pool"};return a})(e,t,n,i);if(a.success){return{...await sn(`add_clp_liquidity(${e},${t},${n})`),...a}}return a},un=async(e,t,n,i="0")=>{const a=await(async(e,t,n,i)=>{let a;const{bTokenAddress:r}=te(e,t);if(r){const r=We(e,t);try{a={success:!0,transaction:await r.removeLiquidity(n,i)}}catch(s){a={success:!1,error:s}}}else a={success:!1,error:"unable to get bToken address of clp pool"};return a})(e,t,n,i);if(a.success){return{...await sn(`remove_clp_liquidity(${e},${t},${n})`),...a}}return a},dn=async(e,t,n,i="0")=>{const a=await(async(e,t,n,i)=>{let a;const{bTokenAddress:r}=te(e,t);if(r){const r=Ge(e,t);try{a={success:!0,transaction:await r.addLiquidity(n,i)}}catch(s){a={success:!1,error:s}}}else a={success:!1,error:"unable to get bToken address of clp2 pool"};return a})(e,t,n,i);if(a.success){return{...await sn(`add_clp_liquidity(${e},${t},${n})`),...a}}return a},yn=async(e,t,n,i="0")=>{const a=await(async(e,t,n,i)=>{let a;const{bTokenAddress:r}=te(e,t);if(r){const r=Ge(e,t);try{a={success:!0,transaction:await r.removeLiquidity(n,i)}}catch(s){a={success:!1,error:s}}}else a={success:!1,error:"unable to get bToken address of clp2 pool"};return a})(e,t,n,i);if(a.success){return{...await sn(`remove_clp_liquidity(${e},${t},${n})`),...a}}return a},cn=async(e,t,n)=>{const{type:i}=te(e,t);return"slp"===i?await(async(e,t,n)=>{const{bTokenAddress:i}=te(e,t),a=Ce(e,i);let r;try{r={success:!0,transaction:await a.unlock(n,t)}}catch(s){r={success:!1,error:s}}return r})(e,t,n):"clp"===i?await(async(e,t,n)=>{const{bTokenAddress:i}=te(e,t),a=Ce(e,i);let r;try{r={success:!0,transaction:await a.unlock(n,t)}}catch(s){r={success:!1,error:s}}return r})(e,t,n):"clp2"===i?await(async(e,t,n)=>{const{bTokenAddress:i}=te(e,t),a=Ce(e,i);let r;try{r={success:!0,transaction:await a.unlock(n,t)}}catch(s){r={success:!1,error:s}}return r})(e,t,n):void console.log(`unlockLp(): invalid lp type ${i}`)},mn=async(e,t,n,i)=>{const{type:a}=te(e,t);return"slp"===a?await on(e,t,n,i):"clp"===a?await pn(e,t,n,i):"clp2"===a?await dn(e,t,n,i):void console.log(`addLpLiquidity(): invalid lp type ${a}`)},bn=async(e,t,n,i)=>{const{type:a}=te(e,t);return"slp"===a?await ln(e,t,n,i):"clp"===a?await un(e,t,n,i):"clp2"===a?await yn(e,t,n,i):void console.log(`removeLpLiquidity(): invalid lp type ${a}`)},Tn=async(e,t,n,i,a,r,s)=>{const o=Object(d.d)(n.tradeVolume),l=await e._getTimeStamp(i),p=o.gt(0)?"LONG":"SHORT",u=Object(d.d)(n.price),y=+l.timestamp+"000",c=e._calculateFee(o,u,r,s),m=o.abs().times(u).times(r),b=o.abs();return{direction:p,baseToken:t,price:u.toString(),notional:m.toString(),volume:b.toString(),transactionFee:c.toString(),transactionHash:a.toString(),time:y}},gn=async(e,t,n,i)=>{const a=Object(d.d)(e.volume).abs(),r=`${e.timestamp}000`,s=Object(d.d)(e.price),o=a.times(s).times(i);return{direction:"Liquidation",baseToken:n,price:s.toString(),notional:o.toString(),volume:a.toString(),transactionFee:"0",transactionHash:t.toString(),time:r}},fn=async(e,t,n,i)=>{const{bTokenSymbol:a}=ie(e,t),r=$t(e,t),s=await r._getBlockInfo("latest");i=parseInt(i);const o={owner:n},l=await r._getPastEvents("Trade",o,i,s.number),{multiplier:p,feeRatio:u,minInitialMarginRatio:d}=await r.getParameters(),y=[];for(let c=0;c<l.length;c++){const e=l[c],t=await Tn(r,a,e.returnValues,e.blockNumber,e.transactionHash,p,u);y.unshift(t)}return y},hn=async(e,t,n,i)=>{const{bTokenSymbol:a}=ie(e,t),r=$t(e,t),s=await r._getBlockInfo("latest");i=parseInt(i);const o={owner:n},l=await r._getPastEvents("Liquidate",o,i,s.number),{multiplier:p}=await r.getParameters(),u=[];for(let d=0;d<l.length;d++){const e=l[d],t=await gn(e.returnValues,e.transactionHash,a,p);u.unshift(t)}return u},vn=()=>Object(l.a)(i.get()),wn=async(e,t)=>{const n=await fetch(e,t);return await n.json()},Sn=async(e,t={method:"GET"})=>await wn(`${vn()}${e}`,t),Mn=(e,t,n)=>e.eq(0)?Object(d.a)(0):t.div(e).div(n),kn=(e,t,n,i,a,r)=>{const s=n.minus(t);let o=e.gt(0)?s.div(Object(d.a)(1).minus(r)).minus(i).div(e).div(a):s.div(Object(d.a)(1).plus(r)).minus(i).div(e).div(a);return o=Object(d.n)(o,Object(d.a)(0)),o},In=(e,t,n,i)=>{const a=t;return e.gte(a)?n.minus(i).gte(0)?{success:!0}:{success:!1,error:"Pool has insufficient liquidity"}:{success:!1,error:"Trader has insufficient margin"}},An=(e,t,n,i)=>Object(d.a)(e).abs().times(t).times(n).times(i).toString(),On=(e,t,n,i,a)=>{if(h(e,t,n,i,a))return Object(d.a)(i).eq(0)?Object(d.a)(0):Object(d.a)(e).times(t).times(n).times(a).div(i);throw new Error(`calculateFundingRate: invalid args: ${[e,t,n,i,a]}`)},Pn=(e,t)=>{const n=M(e);return Object(d.a)(t).times(n)},En=(e,t,n,i,a,r,s,o,l,p)=>{if(Object(d.a)(p).eq(0))return"0";{const u=[e,t,n,i,a,r,s,o,l,p];return h(...u)?Object(d.a)(a).eq(0)?Object(d.a)(0):Object(d.a)(e).times(t).times(n).times(t).times(n).times(i).div(a).times(Object(d.a)(l).minus(o)).plus(r).minus(s).times(p):(console.log(`calculateFundingFee: invalid args: ${u}`),"NaN")}},Cn=e=>e.reduce(((e,t)=>e.plus(Object(d.a)(t.liquidity).times(t.price).times(t.discount).plus(t.pnl))),Object(d.a)(0)),Rn=(e,t,n,i)=>{e[t].liquidity=Object(d.a)(e[t].liquidity).plus(n);const a=Cn(e),r=e[0],s=Object(d.a)(r.liquidity).times(r.price).times(r.discount).plus(r.pnl);return!a.eq(0)&&s.div(a).times("1").lt(i)?{success:!1,error:"Trader has insufficient bToken0"}:{success:!0}},Dn=(e,t,n,i,a,r)=>{Object(d.a)(n).gte(i)?e[t].liquidity=Object(d.a)(e[t].liquidity).minus(i):e[t].liquidity=Object(d.a)(e[t].liquidity).minus(n);let s=Cn(e),o=Object(d.a)(0);for(let l=0;l<a.length;l++){const e=a[l];if(!Object(d.a)(e.tradersNetVolume).eq(0)){const t=Object(d.a)(e.tradersNetVolume).times(e.price).times(e.multiplier);s=s.plus(e.tradersNetCost).minus(t),o=o.plus(t.abs())}}return!o.eq(0)&&s.div(o).times("1").lt(r)?{success:!1,error:"Trader has insufficient liquidity"}:{success:!0}},xn=async(e,t,n,i)=>{try{const{lToken:a}=W(t,i),r=ft(e,t),s=vt(e,a),o=K(t),l=Y(t),[p,u,y]=await Promise.all([r.getParameters(),r.getBToken(i),s.getAsset(n,i)]),{minPoolMarginRatio:c}=p;let m=[];for(let e=0;e<o.length;e++)m.push(r.getBToken(o[e]));const b=await Promise.all(m);m=[];for(let e=0;e<l.length;e++)m.push(r.getSymbol(l[e]));const T=await Promise.all(m),g=T.reduce(((e,t)=>e.plus(Object(d.a)(t.tradersNetVolume).times(t.price).times(t.multiplier).abs())),Object(d.a)(0)),f=T.reduce(((e,t)=>e.plus(Object(d.a)(t.tradersNetVolume).times(t.price).times(t.multiplier).minus(t.tradersNetCost))),Object(d.a)(0)),h=b.reduce(((e,t,n)=>n===parseInt(i)?e.plus(t.pnl):e.plus(Object(d.a)(t.liquidity).times(t.price).times(t.discount).plus(t.pnl))),Object(d.a)(0)),{liquidity:v}=u,{liquidity:w,pnl:S,lastCumulativePnl:M}=y,k=((e,t,n,i,a,r)=>Object(d.a)(n).eq(0)?t:Object(d.n)(Object(d.o)(e.liquidity.minus(r.times(n).plus(i).minus(a).div(e.price).div(e.discount)).times("0.98"),t),Object(d.a)(0)))(b[i],w,g,f,h,c),I=S.plus(Object(d.a)(b[i].cumulativePnl).minus(M).times(w));return{poolLiquidity:v.toString(),shares:w.toString(),pnl:I.div(b[i].price).toString(),maxRemovableShares:k.toString()}}catch(a){console.log(`${a}`)}return{poolLiquidity:"",shares:"",pnl:"",maxRemovableShares:""}},Fn=function(){let e={};return{get(t,n){const i=`${t}.${n}`;if(Object.keys(e).includes(i)){const[t]=e[i].split("|");return t}console.log("please init priceCache first")},set(t,n,i){if(!isNaN(parseFloat(i))){const a=Date.now().toString();e[`${t}.${n}`]=`${i}|${a}`}}}}(),Bn=function(){let e={};return{get(t,n,i){const a=`${t}.${n}.${i}`;if(Object.keys(e).includes(a))return e[a];console.log(`fundingRateCache: key is not in exist: ${a}`)},set(t,n,i,a){e[`${t}.${n}.${i}`]=a}}}(),jn=async(e,t,n)=>{const i=ft(e,t),{symbol:a}=W(t,null,n);let r=K(t),s=[];for(let d=0;d<r.length;d++)s.push(i.getBToken(d));const o=(await Promise.all(s)).reduce(((e,t)=>e.plus(Object(d.a)(t.liquidity).times(t.price).times(t.discount).plus(t.pnl))),Object(d.a)(0)),[l,p,u]=await Promise.all([pe(e,a),i.getSymbol(n),i.getParameters()]);Fn.set(t,n,l);const{multiplier:y,fundingRateCoefficient:c,tradersNetVolume:m,feeRatio:b}=p,{minPoolMarginRatio:T}=u,g=On(...[m,l,y,o,c]),f=Pn(e,g);let h=Y(t),v=[];for(let d=0;d<h.length;d++)v.push(i.getSymbol(h[d]));const w=(await Promise.all(v)).reduce(((e,t)=>e.plus(Object(d.a)(t.tradersNetVolume).times(t.price).times(t.multiplier).times(T).abs())),Object(d.a)(0)),S={price:l,multiplier:y.toString(),feeRatio:b.toString(),tradersNetVolume:m.toString(),liquidity:o.toString(),fundingRateCoefficient:c.toString(),minPoolMarginRatio:T.toString(),fundingRatePerBlock:g,fundingRate:f,liquidityUsed:w.div(o)};return Bn.set(e,t,n,S),S},qn=async(e,t,n,i)=>{try{let a=G(t);const r=ft(e,t),{pToken:s}=W(t,null,i),o=wt(e,s);let l=[];for(let t=0;t<a.length;t++)l.push(Ce(e,a[t].bTokenAddress).balanceOf(n));const p=await Promise.all(l);for(let e=0;e<a.length;e++)a[e].walletBalance=p[e].toString();const u=K(t),y=Y(t),[c,m,b]=await Promise.all([o.getMargins(n),o.getPositions(n),r.getParameters()]),{minInitialMarginRatio:T}=b;let g=[];for(let e=0;e<u.length;e++)g.push(r.getBToken(u[e]));const f=await Promise.all(g),h=f.reduce(((e,t,n)=>e.plus(Object(d.a)(t.price).times(t.discount).times(c[n]))),Object(d.a)(0));g=[];for(let e=0;e<y.length;e++)g.push(r.getSymbol(y[e]));const v=await Promise.all(g),w=v.reduce(((e,t,n)=>e.plus(Object(d.a)(t.price).times(t.multiplier).times(m[n].volume).abs().times(T))),Object(d.a)(0)),S=v.reduce(((e,t,n)=>e.plus(Object(d.a)(t.price).times(t.multiplier).times(m[n].volume).minus(m[n].cost))),Object(d.a)(0));return a=a.map(((e,t)=>(isNaN(parseFloat(f[t].price))&&"0"===f[t].price?e.availableBalance="-":e.availableBalance=Object(d.n)(Object(d.o)(h.minus(w).plus(S).div(f[t].price).div(f[t].discount),c[t]),Object(d.a)(0)).toString(),e))),a}catch(a){console.log(`${a}`)}return[]},Nn=async(e,t,n,i,a,r)=>{const s=Object(d.d)(t.tradeVolume),o=await e._getTimeStamp(n),l=s.gt(0)?"LONG":"SHORT",p=Object(d.d)(t.price),u=+o.timestamp+"000",y=t.symbolId,c=e._calculateFee(s,p,a[parseInt(y)],r[parseInt(y)]),m=s.abs().times(p).times(a[parseInt(y)]),b=s.abs();return{direction:l,symbolId:y,price:p.toString(),notional:m.toString(),volume:b.toString(),transactionFee:c.toString(),transactionHash:i.toString(),time:u}},_n=async(e,t,n,i,a)=>{const r=Y(t),s=ft(e,t),o=await s._getBlockInfo("latest");a=parseInt(a);let l=[];for(let b=0;b<r.length;b++)l.push(s.getSymbol(r[b]));let p=await Promise.all(l);const u=p.map((e=>e.multiplier.toString())),d=p.map((e=>e.feeRatio.toString())),y={owner:n};let c=await s._getPastEvents("Trade",y,a,o.number);const m=[];c=c.filter((e=>e.returnValues.symbolId===i));for(let b=0;b<c.length;b++){const e=c[b],t=await Nn(s,e.returnValues,e.blockNumber,e.transactionHash,u,d);m.unshift(t)}return m},Ln=async(e,t,n,a)=>{try{let r,s=[];const o=await(async e=>{const t=await fetch(e);return await t.json()})(`${Object(l.a)(i.get())}/trade_history/${e}/${t}/${n}/${a}`);if(o&&o.success&&(r=parseInt(o.data.tradeHistoryBlock),o.data.tradeHistory&&Array.isArray(o.data.tradeHistory)&&(s=o.data.tradeHistory)),s.length>0&&(s=s.filter((e=>e)).map((e=>({direction:e.direction.trim(),symbolId:e.symbolId,price:Object(d.d)(e.price).toString(),notional:Object(d.d)(e.notional).toString(),volume:Object(d.d)(e.volume).toString(),transactionFee:Object(d.d)(e.transactionFee).toString(),transactionHash:e.transactionHash,time:e.time.toString()})))),0!==r){const[i]=await Promise.all([_n(e,t,n,a,r+1)]);return i.concat(s).sort(((e,t)=>parseInt(t.time)-parseInt(e.time)))}{const{initialBlock:i}=W(t);r=parseInt(i);const[s]=await Promise.all([_n(e,t,n,a,r+1)]);return s.sort(((e,t)=>parseInt(t.time)-parseInt(e.time)))}}catch(r){console.log(`getTradeHistory(${e}, ${t}, ${n}, ${a}): ${r}`)}return[]},Vn=[{inputs:[{internalType:"uint256[7]",name:"parameters",type:"uint256[7]"},{internalType:"address[5]",name:"addresses",type:"address[5]"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"lShares",type:"uint256"},{indexed:!1,internalType:"uint256",name:"bAmount",type:"uint256"}],name:"AddLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"bAmount",type:"uint256"}],name:"AddMargin",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"migrationTimestamp",type:"uint256"},{indexed:!1,internalType:"address",name:"source",type:"address"},{indexed:!1,internalType:"address",name:"target",type:"address"}],name:"ExecuteMigration",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"liquidator",type:"address"},{indexed:!1,internalType:"uint256",name:"reward",type:"uint256"}],name:"Liquidate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"migrationTimestamp",type:"uint256"},{indexed:!1,internalType:"address",name:"source",type:"address"},{indexed:!1,internalType:"address",name:"target",type:"address"}],name:"PrepareMigration",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"collector",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ProtocolFeeCollection",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"lShares",type:"uint256"},{indexed:!1,internalType:"uint256",name:"bAmount",type:"uint256"}],name:"RemoveLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"bAmount",type:"uint256"}],name:"RemoveMargin",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"uint256",name:"symbolId",type:"uint256"},{indexed:!1,internalType:"int256",name:"tradeVolume",type:"int256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"}],name:"Trade",type:"event"},{inputs:[{internalType:"uint256",name:"bAmount",type:"uint256"},{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct IPerpetualPoolLite.OraclePrice[]",name:"prices",type:"tuple[]"}],name:"addLiquidity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"bAmount",type:"uint256"},{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct IPerpetualPoolLite.OraclePrice[]",name:"prices",type:"tuple[]"}],name:"addMargin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"string",name:"symbol",type:"string"},{internalType:"address",name:"oracleAddress",type:"address"},{internalType:"uint256",name:"multiplier",type:"uint256"},{internalType:"uint256",name:"feeRatio",type:"uint256"},{internalType:"uint256",name:"fundingRateCoefficient",type:"uint256"}],name:"addSymbol",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"approveMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"claimNewController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"collectProtocolFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"source",type:"address"}],name:"executeMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAddresses",outputs:[{internalType:"address",name:"bTokenAddress",type:"address"},{internalType:"address",name:"lTokenAddress",type:"address"},{internalType:"address",name:"pTokenAddress",type:"address"},{internalType:"address",name:"liquidatorQualifierAddress",type:"address"},{internalType:"address",name:"protocolFeeCollector",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLiquidity",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getParameters",outputs:[{internalType:"int256",name:"minPoolMarginRatio",type:"int256"},{internalType:"int256",name:"minInitialMarginRatio",type:"int256"},{internalType:"int256",name:"minMaintenanceMarginRatio",type:"int256"},{internalType:"int256",name:"minLiquidationReward",type:"int256"},{internalType:"int256",name:"maxLiquidationReward",type:"int256"},{internalType:"int256",name:"liquidationCutRatio",type:"int256"},{internalType:"int256",name:"protocolFeeCollectRatio",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getProtocolFeeAccrued",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"symbolId",type:"uint256"}],name:"getSymbol",outputs:[{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"string",name:"symbol",type:"string"},{internalType:"address",name:"oracleAddress",type:"address"},{internalType:"int256",name:"multiplier",type:"int256"},{internalType:"int256",name:"feeRatio",type:"int256"},{internalType:"int256",name:"fundingRateCoefficient",type:"int256"},{internalType:"int256",name:"price",type:"int256"},{internalType:"int256",name:"cumulativeFundingRate",type:"int256"},{internalType:"int256",name:"tradersNetVolume",type:"int256"},{internalType:"int256",name:"tradersNetCost",type:"int256"}],internalType:"struct IPerpetualPoolLite.SymbolInfo",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct IPerpetualPoolLite.OraclePrice[]",name:"prices",type:"tuple[]"}],name:"liquidate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"migrationDestination",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"migrationTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"target",type:"address"},{internalType:"uint256",name:"graceDays",type:"uint256"}],name:"prepareMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"lShares",type:"uint256"},{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct IPerpetualPoolLite.OraclePrice[]",name:"prices",type:"tuple[]"}],name:"removeLiquidity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"bAmount",type:"uint256"},{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct IPerpetualPoolLite.OraclePrice[]",name:"prices",type:"tuple[]"}],name:"removeMargin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"symbolId",type:"uint256"}],name:"removeSymbol",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newController",type:"address"}],name:"setNewController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"address",name:"oracleAddress",type:"address"},{internalType:"uint256",name:"feeRatio",type:"uint256"},{internalType:"uint256",name:"fundingRateCoefficient",type:"uint256"}],name:"setSymbolParameters",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"symbolId",type:"uint256"}],name:"toggleCloseOnly",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"int256",name:"tradeVolume",type:"int256"},{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct IPerpetualPoolLite.OraclePrice[]",name:"prices",type:"tuple[]"}],name:"trade",outputs:[],stateMutability:"nonpayable",type:"function"}],$n=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newPool",type:"address"}],name:"setPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],Un=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"int256",name:"amount",type:"int256"}],name:"UpdateMargin",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"uint256",name:"symbolId",type:"uint256"},{indexed:!1,internalType:"int256",name:"volume",type:"int256"},{indexed:!1,internalType:"int256",name:"cost",type:"int256"},{indexed:!1,internalType:"int256",name:"lastCumulativeFundingRate",type:"int256"}],name:"UpdatePosition",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"int256",name:"delta",type:"int256"}],name:"addMargin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"symbolId",type:"uint256"}],name:"addSymbolId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"exists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"getActiveSymbolIds",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"getMargin",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"symbolId",type:"uint256"}],name:"getNumPositionHolders",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"symbolId",type:"uint256"}],name:"getPosition",outputs:[{components:[{internalType:"int256",name:"volume",type:"int256"},{internalType:"int256",name:"cost",type:"int256"},{internalType:"int256",name:"lastCumulativeFundingRate",type:"int256"}],internalType:"struct IPTokenLite.Position",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"symbolId",type:"uint256"}],name:"isActiveSymbolId",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"symbolId",type:"uint256"}],name:"removeSymbolId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newPool",type:"address"}],name:"setPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"symbolId",type:"uint256"}],name:"toggleCloseOnly",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalMinted",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"int256",name:"margin",type:"int256"}],name:"updateMargin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"symbolId",type:"uint256"},{components:[{internalType:"int256",name:"volume",type:"int256"},{internalType:"int256",name:"cost",type:"int256"},{internalType:"int256",name:"lastCumulativeFundingRate",type:"int256"}],internalType:"struct IPTokenLite.Position",name:"position",type:"tuple"}],name:"updatePosition",outputs:[],stateMutability:"nonpayable",type:"function"}],Hn=[{inputs:[{internalType:"address",name:"pool",type:"address"}],name:"getOffChainOracleSymbols",outputs:[{internalType:"string[]",name:"",type:"string[]"}],stateMutability:"view",type:"function"}];class zn extends ye{constructor(e,t){super(e,t,Un)}async pool(){return await this._call("pool")}async balanceOf(e){return await this._call("balanceOf",[e])}async exists(e){return await this._call("exists",[e])}async ownerOf(e){return await this._call("ownerOf",[e])}async getMargin(e){const t=await this._call("getMargin",[e]);return Object(d.d)(t)}async getPosition(e,t){const n=await this._call("getPosition",[e,t]);if(Array.isArray(n))return(e=>({volume:Object(d.d)(e.volume),cost:Object(d.d)(e.cost),lastCumulativeFundingRate:Object(d.d)(e.lastCumulativeFundingRate)}))(n);throw new Error(`PToken#getMargin: invalid result with (${e})`)}async getActiveSymbolIds(){return await this._call("getActiveSymbolIds")}async isActiveSymbolId(e){return await this._call("isActiveSymbolId",[e])}async isApprovedForAll(e,t){return await this._call("isApprovedForAll",[e,t])}async getApproved(e){return await this._call("getApproved",[e])}async getNumPositionHolders(e){return await this._call("getNumPositionHolders",[e])}}class Wn extends ye{constructor(e,t){super(e,t,Hn)}async getOffChainOracleSymbols(e){return await this._call("getOffChainOracleSymbols",[e])}}const Gn=e=>{let t={};return(n,i)=>{const a=i;return Object.keys(t).includes(a)||(t[a]=new e(n,i)),t[a]}},Kn=Gn(class extends ye{constructor(e,t){super(e,t,Vn),this.config=U(t,void 0,void 0,"v2_lite"),this.offchainSymbolIds=this.config.offchainSymbolIds,this.offchainSymbols=this.config.offchainSymbols,this.bTokenAddress="",this.lTokenAddress="",this.liquidatorQualifierAddress="",this.protocolFeeCollector=""}async _update(){await Promise.all([this.getAddresses()])}async _updateOffchainSymbols(){if(!this.pTokenAddress){await this.getAddresses();const e=new zn(this.chainId,this.pTokenAddress),t=X(this.chainId),[n,i]=await Promise.all([e.getActiveSymbolIds(),new Wn(this.chainId,t).getOffChainOracleSymbols(this.contractAddress)]);this.offchainSymbolIds=n.reduce(((e,t,n)=>""==i[n]?e:e.concat([t])),[]),this.offchainSymbols=i.filter((e=>e&&""!==e))}}async getAddresses(){const e=await this._call("getAddresses");this.bTokenAddress=e.bTokenAddress,this.lTokenAddress=e.lTokenAddress,this.pTokenAddress=e.pTokenAddress,this.liquidatorQualifierAddress=e.liquidatorQualifierAddress,this.protocolFeeCollector=e.protocolFeeCollector}async getParameters(){const e=await this._call("getParameters");return{minPoolMarginRatio:Object(d.d)(e.minPoolMarginRatio),minInitialMarginRatio:Object(d.d)(e.minInitialMarginRatio),minMaintenanceMarginRatio:Object(d.d)(e.minMaintenanceMarginRatio),minLiquidationReward:Object(d.d)(e.minLiquidationReward),maxLiquidationReward:Object(d.d)(e.maxLiquidationReward),liquidationCutRatio:Object(d.d)(e.liquidationCutRatio),protocolFeeCollectRatio:Object(d.d)(e.protocolFeeCollectRatio)}}async getProtocolFeeAccrued(){const e=await this._call("getProtocolFeeAccrued");return Object(d.d)(e)}async getLiquidity(){const e=await this._call("getLiquidity");return Object(d.d)(e)}async getSymbol(e){try{const t=await this._call("getSymbol",[e]);return{symbol:t.symbol,oracleAddress:t.oracleAddress,multiplier:Object(d.d)(t.multiplier),feeRatio:Object(d.d)(t.feeRatio),fundingRateCoefficient:Object(d.d)(t.fundingRateCoefficient),price:Object(d.d)(t.price),cumulativeFundingRate:Object(d.d)(t.cumulativeFundingRate),tradersNetVolume:Object(d.d)(t.tradersNetVolume),tradersNetCost:Object(d.d)(t.tradersNetCost)}}catch(t){throw new Error(`PerpetualPool#getSymbol error: ${t}`)}}async _getSymbolPrices(){let e=[];if(await this._updateOffchainSymbols(),this.offchainSymbolIds.length>0){const t=await(async e=>{let t,n,i=se(),a=3;for(;a>0;){if(t=await fetch(i,{mode:"cors",cache:"no-cache",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}),t.ok&&(n=await t.json(),"200"===n.status.toString()&&n.data))return n.data;a-=1}if(0===a)throw new Error(`fetch oracle infos exceed max retry(3): ${e} ${JSON.stringify(n)}`)})(this.offchainSymbols);e=Object.values(t).reduce(((e,n,i)=>(e.push([this.offchainSymbolIds[this.offchainSymbols.indexOf(Object.keys(t)[i])],n.timestamp,n.price,parseInt(n.v).toString(),n.r,n.s]),e)),[])}return e}async addLiquidity(e,t){const n=await this._getSymbolPrices();return await this._transact("addLiquidity",[Object(d.p)(t),n],e)}async removeLiquidity(e,t){const n=await this._getSymbolPrices();return await this._transact("removeLiquidity",[Object(d.p)(t),n],e)}async addMargin(e,t){const n=await this._getSymbolPrices();return await this._transact("addMargin",[Object(d.p)(t),n],e)}async removeMargin(e,t){const n=await this._getSymbolPrices();return await this._transact("removeMargin",[Object(d.p)(t),n],e)}async trade(e,t,n){const i=await this._getSymbolPrices();return await this._transact("trade",[t,Object(d.p)(n),i],e)}}),Jn=Gn(class extends ye{constructor(e,t){super(e,t,$n)}async balanceOf(e){const t=await this._call("balanceOf",[e]);return Object(d.d)(t)}async totalSupply(){const e=await this._call("totalSupply");return Object(d.d)(e)}async pool(){return await this._call("pool")}}),Yn=Gn(zn),Xn=(Gn(Wn),async(e,t,n)=>{const{lToken:i,pToken:a}=U(t,"0","0","v2_lite"),r=Kn(e,t),s=Jn(e,i),o=Yn(e,a),[l,p,u,y,c]=await Promise.all([r.getParameters(),r.getLiquidity(),s.balanceOf(n),s.totalSupply(),o.getActiveSymbolIds()]),{minPoolMarginRatio:m}=l;let b=[];for(let d=0;d<c.length;d++)b.push(r.getSymbol(c[d]));const T=await Promise.all(b),g=T.reduce(((e,t)=>e.plus(t.tradersNetVolume.times(t.price).times(t.multiplier).minus(t.tradersNetCost))),Object(d.a)(0)),f=p.minus(g),h=T.reduce(((e,t)=>e.plus(t.tradersNetCost)),Object(d.a)(0)),v=T.reduce(((e,t)=>e.plus(Object(d.a)(t.tradersNetVolume).times(t.price).times(t.multiplier))),Object(d.a)(0));return{totalSupply:y.toString(),poolLiquidity:p.toString(),shares:u.toString(),shareValue:Ct(y,f).toString(),maxRemovableShares:Rt(u,y,p,v,h,m).toString()}}),Zn=async(e,t,n)=>{const{symbol:i,pToken:a}=U(t,"0",n,"v2_lite"),r=Kn(e,t),s=Yn(e,a),[o,l,p,u,y]=await Promise.all([r.getLiquidity(),pe(e,i,"v2_lite"),r.getSymbol(n),r.getParameters(),s.getActiveSymbolIds()]);Fn.set(t,n,l);const{multiplier:c,fundingRateCoefficient:m,tradersNetVolume:b,feeRatio:T}=p,{minPoolMarginRatio:g}=u,f=On(...[b,l,c,o,m]),h=Pn(e,f);let v=[];for(let d=0;d<y.length;d++)v.push(r.getSymbol(y[d]));const w=(await Promise.all(v)).reduce(((e,t)=>e.plus(Object(d.a)(t.tradersNetVolume).times(t.price).times(t.multiplier).times(g).abs())),Object(d.a)(0)),S={price:l,multiplier:c.toString(),feeRatio:T.toString(),tradersNetVolume:b.toString(),liquidity:o.toString(),fundingRateCoefficient:m.toString(),minPoolMarginRatio:g.toString(),fundingRatePerBlock:f,fundingRate:h,liquidityUsed:w.div(o)};return Bn.set(e,t,n,S),S},Qn=async(e,t,n,i,a,r,s)=>{const o=Object(d.d)(t.tradeVolume),l=await P(e,n),p=o.gt(0)?"LONG":"SHORT",u=Object(d.d)(t.price),y=+l.timestamp+"000",c=t.symbolId,m=An(o,u,a[parseInt(c)],r[parseInt(c)]),b=o.abs().times(u).times(a[parseInt(c)]),T=o.abs();return{direction:p,baseToken:s,symbolId:c,price:u.toString(),notional:b.toString(),volume:T.toString(),transactionFee:m.toString(),transactionHash:i.toString(),time:y}},ei=async(e,t,n,i,a)=>{const r=Y(t),{bTokenSymbol:s}=U(t,void 0,void 0,"v2_lite"),o=Kn(e,t),l=await P(e,"latest");a=parseInt(a);let p=[];for(let T=0;T<r.length;T++)p.push(o.getSymbol(r[T]));let u=await Promise.all(p);const d=u.map((e=>e.multiplier.toString())),y=u.map((e=>e.feeRatio.toString())),c={account:n};let m=await E(e,o.contract,"Trade",c,a,l.number);const b=[];m=m.filter((e=>e.returnValues.symbolId===i));for(let T=0;T<m.length;T++){const t=m[T],n=await Qn(e,t.returnValues,t.blockNumber,t.transactionHash,d,y,s);b.unshift(n)}return b},ti=async(e,t,n,a)=>{try{let r,s=[];const o=await(async e=>{const t=await fetch(e);return await t.json()})(`${Object(l.a)(i.get())}/trade_history/${e}/${t}/${n}/${a}`);if(o&&o.success&&(r=parseInt(o.data.tradeHistoryBlock),o.data.tradeHistory&&Array.isArray(o.data.tradeHistory)&&(s=o.data.tradeHistory)),s.length>0&&(s=s.filter((e=>e)).map((e=>({direction:e.direction.trim(),baseToken:e.baseToken.trim(),symbolId:e.symbolId,price:Object(d.d)(e.price).toString(),notional:Object(d.d)(e.notional).toString(),volume:Object(d.d)(e.volume).toString(),transactionFee:Object(d.d)(e.transactionFee).toString(),transactionHash:e.transactionHash,time:e.time.toString()})))),0!==r){const[i]=await Promise.all([ei(e,t,n,a,r+1)]);return i.concat(s).sort(((e,t)=>parseInt(t.time)-parseInt(e.time)))}{const{initialBlock:i}=W(t);r=parseInt(i);const[s]=await Promise.all([ei(e,t,n,a,r+1)]);return s.sort(((e,t)=>parseInt(t.time)-parseInt(e.time)))}}catch(r){console.log(`getTradeHistory(${e}, ${t}, ${n}, ${a}): ${r}`)}return[]},ni=(e,t,n,i)=>{if(Object(d.a)(t).gte(e)&&!n||Object(d.a)(t).lte(e)&&n)return i;{const a=n?Object(d.a)(t).minus(e).div(t):Object(d.a)(e).minus(t).div(t);return Object(d.n)(Object(d.a)(1).minus(a.times(3)).times(i),Object(d.a)(.01))}},ii=(e,t,n,i)=>{const a=Object(d.a)(i).times(10);if(Object(d.a)(t).gte(e)&&!n||Object(d.a)(t).lte(e)&&n)return i;{const i=n?Object(d.a)(t).minus(e).div(t):Object(d.a)(e).minus(t).div(t);return Object(d.n)(Object(d.a)(1).minus(i.times(3)).times(a),Object(d.a)(.01).times(10))}},ai=(e,t,n)=>n?Object(d.n)(Object(d.a)(e).minus(t),Object(d.a)(0)):Object(d.n)(Object(d.a)(t).minus(e),Object(d.a)(0)),ri=[{inputs:[{internalType:"address",name:"pricingAddress",type:"address"},{internalType:"address",name:"everlastingPricingOptionAddress",type:"address"},{internalType:"uint256[6]",name:"parameters",type:"uint256[6]"},{internalType:"address[5]",name:"addresses",type:"address[5]"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"lShares",type:"uint256"},{indexed:!1,internalType:"uint256",name:"bAmount",type:"uint256"}],name:"AddLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"bAmount",type:"uint256"}],name:"AddMargin",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldController",type:"address"},{indexed:!1,internalType:"address",name:"newController",type:"address"}],name:"ChangeController",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"migrationTimestamp",type:"uint256"},{indexed:!1,internalType:"address",name:"source",type:"address"},{indexed:!1,internalType:"address",name:"target",type:"address"}],name:"ExecuteMigration",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"liquidator",type:"address"},{indexed:!1,internalType:"uint256",name:"reward",type:"uint256"}],name:"Liquidate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"migrationTimestamp",type:"uint256"},{indexed:!1,internalType:"address",name:"source",type:"address"},{indexed:!1,internalType:"address",name:"target",type:"address"}],name:"PrepareMigration",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"collector",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ProtocolFeeCollection",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"lShares",type:"uint256"},{indexed:!1,internalType:"uint256",name:"bAmount",type:"uint256"}],name:"RemoveLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"bAmount",type:"uint256"}],name:"RemoveMargin",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"uint256",name:"symbolId",type:"uint256"},{indexed:!1,internalType:"int256",name:"tradeVolume",type:"int256"},{indexed:!1,internalType:"uint256",name:"intrinsicValue",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timeValue",type:"uint256"}],name:"Trade",type:"event"},{inputs:[],name:"OptionPricer",outputs:[{internalType:"contract IEverlastingOptionPricing",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"PmmPricer",outputs:[{internalType:"contract PMMPricing",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"_T",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"symbolId",type:"uint256"}],name:"_getTvMidPrice",outputs:[{internalType:"int256",name:"",type:"int256"},{internalType:"int256",name:"",type:"int256"},{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"_premiumFundingCoefficient",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"bAmount",type:"uint256"},{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct IEverlastingOption.SignedPrice[]",name:"volatility",type:"tuple[]"}],name:"addLiquidity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"bAmount",type:"uint256"}],name:"addMargin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"string",name:"symbol",type:"string"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"bool",name:"isCall",type:"bool"},{internalType:"address",name:"oracleAddress",type:"address"},{internalType:"address",name:"volatilityAddress",type:"address"},{internalType:"uint256",name:"multiplier",type:"uint256"},{internalType:"uint256",name:"feeRatio",type:"uint256"},{internalType:"uint256",name:"deltaFundingCoefficient",type:"uint256"},{internalType:"uint256",name:"k",type:"uint256"}],name:"addSymbol",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"approveMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"claimNewController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"collectProtocolFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"source",type:"address"}],name:"executeMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAddresses",outputs:[{internalType:"address",name:"bTokenAddress",type:"address"},{internalType:"address",name:"lTokenAddress",type:"address"},{internalType:"address",name:"pTokenAddress",type:"address"},{internalType:"address",name:"liquidatorQualifierAddress",type:"address"},{internalType:"address",name:"protocolFeeCollector",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLastTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLiquidity",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getParameters",outputs:[{internalType:"int256",name:"initialMarginRatio",type:"int256"},{internalType:"int256",name:"maintenanceMarginRatio",type:"int256"},{internalType:"int256",name:"minLiquidationReward",type:"int256"},{internalType:"int256",name:"maxLiquidationReward",type:"int256"},{internalType:"int256",name:"liquidationCutRatio",type:"int256"},{internalType:"int256",name:"protocolFeeCollectRatio",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getProtocolFeeAccrued",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"symbolId",type:"uint256"}],name:"getSymbol",outputs:[{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"string",name:"symbol",type:"string"},{internalType:"address",name:"oracleAddress",type:"address"},{internalType:"address",name:"volatilityAddress",type:"address"},{internalType:"int256",name:"multiplier",type:"int256"},{internalType:"int256",name:"feeRatio",type:"int256"},{internalType:"int256",name:"strikePrice",type:"int256"},{internalType:"bool",name:"isCall",type:"bool"},{internalType:"int256",name:"deltaFundingCoefficient",type:"int256"},{internalType:"int256",name:"cumulativeDeltaFundingRate",type:"int256"},{internalType:"int256",name:"intrinsicValue",type:"int256"},{internalType:"int256",name:"cumulativePremiumFundingRate",type:"int256"},{internalType:"int256",name:"timeValue",type:"int256"},{internalType:"int256",name:"tradersNetVolume",type:"int256"},{internalType:"int256",name:"tradersNetCost",type:"int256"},{internalType:"int256",name:"quote_balance_offset",type:"int256"},{internalType:"uint256",name:"K",type:"uint256"}],internalType:"struct IEverlastingOption.SymbolInfo",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct IEverlastingOption.SignedPrice[]",name:"volatility",type:"tuple[]"}],name:"liquidate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"migrationDestination",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"migrationTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"target",type:"address"},{internalType:"uint256",name:"graceDays",type:"uint256"}],name:"prepareMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"lShares",type:"uint256"},{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct IEverlastingOption.SignedPrice[]",name:"volatility",type:"tuple[]"}],name:"removeLiquidity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"bAmount",type:"uint256"},{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct IEverlastingOption.SignedPrice[]",name:"volatility",type:"tuple[]"}],name:"removeMargin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"symbolId",type:"uint256"}],name:"removeSymbol",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newController",type:"address"}],name:"setNewController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"premiumFundingCoefficient",type:"uint256"},{internalType:"int256",name:"T",type:"int256"},{internalType:"address",name:"everlastingPricingOptionAddress",type:"address"}],name:"setPoolParameters",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"address",name:"oracleAddress",type:"address"},{internalType:"address",name:"volatilityAddress",type:"address"},{internalType:"uint256",name:"feeRatio",type:"uint256"},{internalType:"uint256",name:"deltaFundingCoefficient",type:"uint256"},{internalType:"uint256",name:"k",type:"uint256"}],name:"setSymbolParameters",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"symbolId",type:"uint256"}],name:"toggleCloseOnly",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"int256",name:"tradeVolume",type:"int256"},{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct IEverlastingOption.SignedPrice[]",name:"volatility",type:"tuple[]"}],name:"trade",outputs:[],stateMutability:"nonpayable",type:"function"}],si=[{inputs:[{internalType:"int256",name:"delta",type:"int256"},{internalType:"int256",name:"tradersNetVolume",type:"int256"},{internalType:"int256",name:"oraclePrice",type:"int256"},{internalType:"int256",name:"multiplier",type:"int256"},{internalType:"int256",name:"deltaFundingCoefficient",type:"int256"},{internalType:"int256",name:"totalDynamicEquity",type:"int256"}],name:"_getDeltaFundingPerSecond",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"int256",name:"spot",type:"int256"},{internalType:"int256",name:"strike",type:"int256"},{internalType:"bool",name:"isCall",type:"bool"},{internalType:"int256",name:"initialMarginRatio",type:"int256"},{internalType:"int256",name:"minInitialMarginRatio",type:"int256"}],name:"_getDynamicInitialMarginRatio",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"int256",name:"timeValue",type:"int256"},{internalType:"int256",name:"multiplier",type:"int256"},{internalType:"int256",name:"premiumFundingCoefficient",type:"int256"}],name:"_getPremiumFundingPerSecond",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"pool",type:"address"},{internalType:"address",name:"pToken",type:"address"},{internalType:"address",name:"pmmPricer",type:"address"},{internalType:"address",name:"optionPricer",type:"address"},{internalType:"int256",name:"initialMarginRatio",type:"int256"},{internalType:"int256",name:"maintenanceMarginRatio",type:"int256"},{internalType:"int256",name:"premiumFundingPeriod",type:"int256"},{internalType:"int256",name:"premiumFundingCoefficient",type:"int256"},{internalType:"int256",name:"liquidity",type:"int256"},{internalType:"int256",name:"totalDynamicEquity",type:"int256"},{internalType:"int256",name:"totalInitialMargin",type:"int256"},{internalType:"uint256",name:"preTimestamp",type:"uint256"},{internalType:"uint256",name:"curTimestamp",type:"uint256"}],internalType:"struct EverlastingOptionViewer.PoolState",name:"pool",type:"tuple"},{components:[{internalType:"int256",name:"margin",type:"int256"},{internalType:"int256",name:"totalPnl",type:"int256"},{internalType:"int256",name:"totalFundingAccrued",type:"int256"},{internalType:"int256",name:"dynamicMargin",type:"int256"},{internalType:"int256",name:"initialMargin",type:"int256"},{internalType:"int256",name:"maintenanceMargin",type:"int256"}],internalType:"struct EverlastingOptionViewer.TraderState",name:"trader",type:"tuple"},{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"string",name:"symbol",type:"string"},{internalType:"address",name:"oracleAddress",type:"address"},{internalType:"address",name:"volatilityAddress",type:"address"},{internalType:"bool",name:"isCall",type:"bool"},{internalType:"int256",name:"multiplier",type:"int256"},{internalType:"int256",name:"deltaFundingCoefficient",type:"int256"},{internalType:"int256",name:"strikePrice",type:"int256"},{internalType:"int256",name:"oraclePrice",type:"int256"},{internalType:"int256",name:"oracleVolatility",type:"int256"},{internalType:"int256",name:"timePrice",type:"int256"},{internalType:"int256",name:"dynamicMarginRatio",type:"int256"},{internalType:"int256",name:"intrinsicValue",type:"int256"},{internalType:"int256",name:"timeValue",type:"int256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"int256",name:"K",type:"int256"},{internalType:"int256",name:"quoteBalanceOffset",type:"int256"},{internalType:"int256",name:"tradersNetVolume",type:"int256"},{internalType:"int256",name:"tradersNetCost",type:"int256"},{internalType:"int256",name:"cumulativeDeltaFundingRate",type:"int256"},{internalType:"int256",name:"cumulativePremiumFundingRate",type:"int256"},{internalType:"int256",name:"deltaFundingPerSecond",type:"int256"},{internalType:"int256",name:"premiumFundingPerSecond",type:"int256"}],internalType:"struct EverlastingOptionViewer.SymbolState[]",name:"symbols",type:"tuple[]"},{components:[{internalType:"int256",name:"volume",type:"int256"},{internalType:"int256",name:"cost",type:"int256"},{internalType:"int256",name:"lastCumulativeDeltaFundingRate",type:"int256"},{internalType:"int256",name:"lastCumulativePremiumFundingRate",type:"int256"},{internalType:"int256",name:"pnl",type:"int256"},{internalType:"int256",name:"deltaFundingAccrued",type:"int256"},{internalType:"int256",name:"premiumFundingAccrued",type:"int256"}],internalType:"struct EverlastingOptionViewer.PositionState[]",name:"positions",type:"tuple[]"}],internalType:"struct EverlastingOptionViewer.State",name:"state",type:"tuple"},{internalType:"address",name:"account",type:"address"}],name:"_getTraderPortfolio",outputs:[{components:[{components:[{internalType:"address",name:"pool",type:"address"},{internalType:"address",name:"pToken",type:"address"},{internalType:"address",name:"pmmPricer",type:"address"},{internalType:"address",name:"optionPricer",type:"address"},{internalType:"int256",name:"initialMarginRatio",type:"int256"},{internalType:"int256",name:"maintenanceMarginRatio",type:"int256"},{internalType:"int256",name:"premiumFundingPeriod",type:"int256"},{internalType:"int256",name:"premiumFundingCoefficient",type:"int256"},{internalType:"int256",name:"liquidity",type:"int256"},{internalType:"int256",name:"totalDynamicEquity",type:"int256"},{internalType:"int256",name:"totalInitialMargin",type:"int256"},{internalType:"uint256",name:"preTimestamp",type:"uint256"},{internalType:"uint256",name:"curTimestamp",type:"uint256"}],internalType:"struct EverlastingOptionViewer.PoolState",name:"pool",type:"tuple"},{components:[{internalType:"int256",name:"margin",type:"int256"},{internalType:"int256",name:"totalPnl",type:"int256"},{internalType:"int256",name:"totalFundingAccrued",type:"int256"},{internalType:"int256",name:"dynamicMargin",type:"int256"},{internalType:"int256",name:"initialMargin",type:"int256"},{internalType:"int256",name:"maintenanceMargin",type:"int256"}],internalType:"struct EverlastingOptionViewer.TraderState",name:"trader",type:"tuple"},{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"string",name:"symbol",type:"string"},{internalType:"address",name:"oracleAddress",type:"address"},{internalType:"address",name:"volatilityAddress",type:"address"},{internalType:"bool",name:"isCall",type:"bool"},{internalType:"int256",name:"multiplier",type:"int256"},{internalType:"int256",name:"deltaFundingCoefficient",type:"int256"},{internalType:"int256",name:"strikePrice",type:"int256"},{internalType:"int256",name:"oraclePrice",type:"int256"},{internalType:"int256",name:"oracleVolatility",type:"int256"},{internalType:"int256",name:"timePrice",type:"int256"},{internalType:"int256",name:"dynamicMarginRatio",type:"int256"},{internalType:"int256",name:"intrinsicValue",type:"int256"},{internalType:"int256",name:"timeValue",type:"int256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"int256",name:"K",type:"int256"},{internalType:"int256",name:"quoteBalanceOffset",type:"int256"},{internalType:"int256",name:"tradersNetVolume",type:"int256"},{internalType:"int256",name:"tradersNetCost",type:"int256"},{internalType:"int256",name:"cumulativeDeltaFundingRate",type:"int256"},{internalType:"int256",name:"cumulativePremiumFundingRate",type:"int256"},{internalType:"int256",name:"deltaFundingPerSecond",type:"int256"},{internalType:"int256",name:"premiumFundingPerSecond",type:"int256"}],internalType:"struct EverlastingOptionViewer.SymbolState[]",name:"symbols",type:"tuple[]"},{components:[{internalType:"int256",name:"volume",type:"int256"},{internalType:"int256",name:"cost",type:"int256"},{internalType:"int256",name:"lastCumulativeDeltaFundingRate",type:"int256"},{internalType:"int256",name:"lastCumulativePremiumFundingRate",type:"int256"},{internalType:"int256",name:"pnl",type:"int256"},{internalType:"int256",name:"deltaFundingAccrued",type:"int256"},{internalType:"int256",name:"premiumFundingAccrued",type:"int256"}],internalType:"struct EverlastingOptionViewer.PositionState[]",name:"positions",type:"tuple[]"}],internalType:"struct EverlastingOptionViewer.State",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"pool",type:"address"},{internalType:"address",name:"pToken",type:"address"},{internalType:"address",name:"pmmPricer",type:"address"},{internalType:"address",name:"optionPricer",type:"address"},{internalType:"int256",name:"initialMarginRatio",type:"int256"},{internalType:"int256",name:"maintenanceMarginRatio",type:"int256"},{internalType:"int256",name:"premiumFundingPeriod",type:"int256"},{internalType:"int256",name:"premiumFundingCoefficient",type:"int256"},{internalType:"int256",name:"liquidity",type:"int256"},{internalType:"int256",name:"totalDynamicEquity",type:"int256"},{internalType:"int256",name:"totalInitialMargin",type:"int256"},{internalType:"uint256",name:"preTimestamp",type:"uint256"},{internalType:"uint256",name:"curTimestamp",type:"uint256"}],internalType:"struct EverlastingOptionViewer.PoolState",name:"pool",type:"tuple"},{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"string",name:"symbol",type:"string"},{internalType:"address",name:"oracleAddress",type:"address"},{internalType:"address",name:"volatilityAddress",type:"address"},{internalType:"bool",name:"isCall",type:"bool"},{internalType:"int256",name:"multiplier",type:"int256"},{internalType:"int256",name:"deltaFundingCoefficient",type:"int256"},{internalType:"int256",name:"strikePrice",type:"int256"},{internalType:"int256",name:"oraclePrice",type:"int256"},{internalType:"int256",name:"oracleVolatility",type:"int256"},{internalType:"int256",name:"timePrice",type:"int256"},{internalType:"int256",name:"dynamicMarginRatio",type:"int256"},{internalType:"int256",name:"intrinsicValue",type:"int256"},{internalType:"int256",name:"timeValue",type:"int256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"int256",name:"K",type:"int256"},{internalType:"int256",name:"quoteBalanceOffset",type:"int256"},{internalType:"int256",name:"tradersNetVolume",type:"int256"},{internalType:"int256",name:"tradersNetCost",type:"int256"},{internalType:"int256",name:"cumulativeDeltaFundingRate",type:"int256"},{internalType:"int256",name:"cumulativePremiumFundingRate",type:"int256"},{internalType:"int256",name:"deltaFundingPerSecond",type:"int256"},{internalType:"int256",name:"premiumFundingPerSecond",type:"int256"}],internalType:"struct EverlastingOptionViewer.SymbolState",name:"symbol",type:"tuple"}],name:"_getTvMidPrice",outputs:[{internalType:"int256",name:"timePrice",type:"int256"},{internalType:"int256",name:"midPrice",type:"int256"},{internalType:"int256",name:"delta",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"poolAddress",type:"address"},{internalType:"int256[]",name:"oraclePrices",type:"int256[]"},{internalType:"int256[]",name:"oracleVolatilities",type:"int256[]"}],name:"_initState",outputs:[{components:[{components:[{internalType:"address",name:"pool",type:"address"},{internalType:"address",name:"pToken",type:"address"},{internalType:"address",name:"pmmPricer",type:"address"},{internalType:"address",name:"optionPricer",type:"address"},{internalType:"int256",name:"initialMarginRatio",type:"int256"},{internalType:"int256",name:"maintenanceMarginRatio",type:"int256"},{internalType:"int256",name:"premiumFundingPeriod",type:"int256"},{internalType:"int256",name:"premiumFundingCoefficient",type:"int256"},{internalType:"int256",name:"liquidity",type:"int256"},{internalType:"int256",name:"totalDynamicEquity",type:"int256"},{internalType:"int256",name:"totalInitialMargin",type:"int256"},{internalType:"uint256",name:"preTimestamp",type:"uint256"},{internalType:"uint256",name:"curTimestamp",type:"uint256"}],internalType:"struct EverlastingOptionViewer.PoolState",name:"pool",type:"tuple"},{components:[{internalType:"int256",name:"margin",type:"int256"},{internalType:"int256",name:"totalPnl",type:"int256"},{internalType:"int256",name:"totalFundingAccrued",type:"int256"},{internalType:"int256",name:"dynamicMargin",type:"int256"},{internalType:"int256",name:"initialMargin",type:"int256"},{internalType:"int256",name:"maintenanceMargin",type:"int256"}],internalType:"struct EverlastingOptionViewer.TraderState",name:"trader",type:"tuple"},{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"string",name:"symbol",type:"string"},{internalType:"address",name:"oracleAddress",type:"address"},{internalType:"address",name:"volatilityAddress",type:"address"},{internalType:"bool",name:"isCall",type:"bool"},{internalType:"int256",name:"multiplier",type:"int256"},{internalType:"int256",name:"deltaFundingCoefficient",type:"int256"},{internalType:"int256",name:"strikePrice",type:"int256"},{internalType:"int256",name:"oraclePrice",type:"int256"},{internalType:"int256",name:"oracleVolatility",type:"int256"},{internalType:"int256",name:"timePrice",type:"int256"},{internalType:"int256",name:"dynamicMarginRatio",type:"int256"},{internalType:"int256",name:"intrinsicValue",type:"int256"},{internalType:"int256",name:"timeValue",type:"int256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"int256",name:"K",type:"int256"},{internalType:"int256",name:"quoteBalanceOffset",type:"int256"},{internalType:"int256",name:"tradersNetVolume",type:"int256"},{internalType:"int256",name:"tradersNetCost",type:"int256"},{internalType:"int256",name:"cumulativeDeltaFundingRate",type:"int256"},{internalType:"int256",name:"cumulativePremiumFundingRate",type:"int256"},{internalType:"int256",name:"deltaFundingPerSecond",type:"int256"},{internalType:"int256",name:"premiumFundingPerSecond",type:"int256"}],internalType:"struct EverlastingOptionViewer.SymbolState[]",name:"symbols",type:"tuple[]"},{components:[{internalType:"int256",name:"volume",type:"int256"},{internalType:"int256",name:"cost",type:"int256"},{internalType:"int256",name:"lastCumulativeDeltaFundingRate",type:"int256"},{internalType:"int256",name:"lastCumulativePremiumFundingRate",type:"int256"},{internalType:"int256",name:"pnl",type:"int256"},{internalType:"int256",name:"deltaFundingAccrued",type:"int256"},{internalType:"int256",name:"premiumFundingAccrued",type:"int256"}],internalType:"struct EverlastingOptionViewer.PositionState[]",name:"positions",type:"tuple[]"}],internalType:"struct EverlastingOptionViewer.State",name:"state",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"pool",type:"address"},{internalType:"address",name:"pToken",type:"address"},{internalType:"address",name:"pmmPricer",type:"address"},{internalType:"address",name:"optionPricer",type:"address"},{internalType:"int256",name:"initialMarginRatio",type:"int256"},{internalType:"int256",name:"maintenanceMarginRatio",type:"int256"},{internalType:"int256",name:"premiumFundingPeriod",type:"int256"},{internalType:"int256",name:"premiumFundingCoefficient",type:"int256"},{internalType:"int256",name:"liquidity",type:"int256"},{internalType:"int256",name:"totalDynamicEquity",type:"int256"},{internalType:"int256",name:"totalInitialMargin",type:"int256"},{internalType:"uint256",name:"preTimestamp",type:"uint256"},{internalType:"uint256",name:"curTimestamp",type:"uint256"}],internalType:"struct EverlastingOptionViewer.PoolState",name:"pool",type:"tuple"},{components:[{internalType:"int256",name:"margin",type:"int256"},{internalType:"int256",name:"totalPnl",type:"int256"},{internalType:"int256",name:"totalFundingAccrued",type:"int256"},{internalType:"int256",name:"dynamicMargin",type:"int256"},{internalType:"int256",name:"initialMargin",type:"int256"},{internalType:"int256",name:"maintenanceMargin",type:"int256"}],internalType:"struct EverlastingOptionViewer.TraderState",name:"trader",type:"tuple"},{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"string",name:"symbol",type:"string"},{internalType:"address",name:"oracleAddress",type:"address"},{internalType:"address",name:"volatilityAddress",type:"address"},{internalType:"bool",name:"isCall",type:"bool"},{internalType:"int256",name:"multiplier",type:"int256"},{internalType:"int256",name:"deltaFundingCoefficient",type:"int256"},{internalType:"int256",name:"strikePrice",type:"int256"},{internalType:"int256",name:"oraclePrice",type:"int256"},{internalType:"int256",name:"oracleVolatility",type:"int256"},{internalType:"int256",name:"timePrice",type:"int256"},{internalType:"int256",name:"dynamicMarginRatio",type:"int256"},{internalType:"int256",name:"intrinsicValue",type:"int256"},{internalType:"int256",name:"timeValue",type:"int256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"int256",name:"K",type:"int256"},{internalType:"int256",name:"quoteBalanceOffset",type:"int256"},{internalType:"int256",name:"tradersNetVolume",type:"int256"},{internalType:"int256",name:"tradersNetCost",type:"int256"},{internalType:"int256",name:"cumulativeDeltaFundingRate",type:"int256"},{internalType:"int256",name:"cumulativePremiumFundingRate",type:"int256"},{internalType:"int256",name:"deltaFundingPerSecond",type:"int256"},{internalType:"int256",name:"premiumFundingPerSecond",type:"int256"}],internalType:"struct EverlastingOptionViewer.SymbolState[]",name:"symbols",type:"tuple[]"},{components:[{internalType:"int256",name:"volume",type:"int256"},{internalType:"int256",name:"cost",type:"int256"},{internalType:"int256",name:"lastCumulativeDeltaFundingRate",type:"int256"},{internalType:"int256",name:"lastCumulativePremiumFundingRate",type:"int256"},{internalType:"int256",name:"pnl",type:"int256"},{internalType:"int256",name:"deltaFundingAccrued",type:"int256"},{internalType:"int256",name:"premiumFundingAccrued",type:"int256"}],internalType:"struct EverlastingOptionViewer.PositionState[]",name:"positions",type:"tuple[]"}],internalType:"struct EverlastingOptionViewer.State",name:"state",type:"tuple"}],name:"_updateSymbolFundingRates",outputs:[{components:[{components:[{internalType:"address",name:"pool",type:"address"},{internalType:"address",name:"pToken",type:"address"},{internalType:"address",name:"pmmPricer",type:"address"},{internalType:"address",name:"optionPricer",type:"address"},{internalType:"int256",name:"initialMarginRatio",type:"int256"},{internalType:"int256",name:"maintenanceMarginRatio",type:"int256"},{internalType:"int256",name:"premiumFundingPeriod",type:"int256"},{internalType:"int256",name:"premiumFundingCoefficient",type:"int256"},{internalType:"int256",name:"liquidity",type:"int256"},{internalType:"int256",name:"totalDynamicEquity",type:"int256"},{internalType:"int256",name:"totalInitialMargin",type:"int256"},{internalType:"uint256",name:"preTimestamp",type:"uint256"},{internalType:"uint256",name:"curTimestamp",type:"uint256"}],internalType:"struct EverlastingOptionViewer.PoolState",name:"pool",type:"tuple"},{components:[{internalType:"int256",name:"margin",type:"int256"},{internalType:"int256",name:"totalPnl",type:"int256"},{internalType:"int256",name:"totalFundingAccrued",type:"int256"},{internalType:"int256",name:"dynamicMargin",type:"int256"},{internalType:"int256",name:"initialMargin",type:"int256"},{internalType:"int256",name:"maintenanceMargin",type:"int256"}],internalType:"struct EverlastingOptionViewer.TraderState",name:"trader",type:"tuple"},{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"string",name:"symbol",type:"string"},{internalType:"address",name:"oracleAddress",type:"address"},{internalType:"address",name:"volatilityAddress",type:"address"},{internalType:"bool",name:"isCall",type:"bool"},{internalType:"int256",name:"multiplier",type:"int256"},{internalType:"int256",name:"deltaFundingCoefficient",type:"int256"},{internalType:"int256",name:"strikePrice",type:"int256"},{internalType:"int256",name:"oraclePrice",type:"int256"},{internalType:"int256",name:"oracleVolatility",type:"int256"},{internalType:"int256",name:"timePrice",type:"int256"},{internalType:"int256",name:"dynamicMarginRatio",type:"int256"},{internalType:"int256",name:"intrinsicValue",type:"int256"},{internalType:"int256",name:"timeValue",type:"int256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"int256",name:"K",type:"int256"},{internalType:"int256",name:"quoteBalanceOffset",type:"int256"},{internalType:"int256",name:"tradersNetVolume",type:"int256"},{internalType:"int256",name:"tradersNetCost",type:"int256"},{internalType:"int256",name:"cumulativeDeltaFundingRate",type:"int256"},{internalType:"int256",name:"cumulativePremiumFundingRate",type:"int256"},{internalType:"int256",name:"deltaFundingPerSecond",type:"int256"},{internalType:"int256",name:"premiumFundingPerSecond",type:"int256"}],internalType:"struct EverlastingOptionViewer.SymbolState[]",name:"symbols",type:"tuple[]"},{components:[{internalType:"int256",name:"volume",type:"int256"},{internalType:"int256",name:"cost",type:"int256"},{internalType:"int256",name:"lastCumulativeDeltaFundingRate",type:"int256"},{internalType:"int256",name:"lastCumulativePremiumFundingRate",type:"int256"},{internalType:"int256",name:"pnl",type:"int256"},{internalType:"int256",name:"deltaFundingAccrued",type:"int256"},{internalType:"int256",name:"premiumFundingAccrued",type:"int256"}],internalType:"struct EverlastingOptionViewer.PositionState[]",name:"positions",type:"tuple[]"}],internalType:"struct EverlastingOptionViewer.State",name:"",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"pool",type:"address"},{internalType:"address",name:"pToken",type:"address"},{internalType:"address",name:"pmmPricer",type:"address"},{internalType:"address",name:"optionPricer",type:"address"},{internalType:"int256",name:"initialMarginRatio",type:"int256"},{internalType:"int256",name:"maintenanceMarginRatio",type:"int256"},{internalType:"int256",name:"premiumFundingPeriod",type:"int256"},{internalType:"int256",name:"premiumFundingCoefficient",type:"int256"},{internalType:"int256",name:"liquidity",type:"int256"},{internalType:"int256",name:"totalDynamicEquity",type:"int256"},{internalType:"int256",name:"totalInitialMargin",type:"int256"},{internalType:"uint256",name:"preTimestamp",type:"uint256"},{internalType:"uint256",name:"curTimestamp",type:"uint256"}],internalType:"struct EverlastingOptionViewer.PoolState",name:"pool",type:"tuple"},{components:[{internalType:"int256",name:"margin",type:"int256"},{internalType:"int256",name:"totalPnl",type:"int256"},{internalType:"int256",name:"totalFundingAccrued",type:"int256"},{internalType:"int256",name:"dynamicMargin",type:"int256"},{internalType:"int256",name:"initialMargin",type:"int256"},{internalType:"int256",name:"maintenanceMargin",type:"int256"}],internalType:"struct EverlastingOptionViewer.TraderState",name:"trader",type:"tuple"},{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"string",name:"symbol",type:"string"},{internalType:"address",name:"oracleAddress",type:"address"},{internalType:"address",name:"volatilityAddress",type:"address"},{internalType:"bool",name:"isCall",type:"bool"},{internalType:"int256",name:"multiplier",type:"int256"},{internalType:"int256",name:"deltaFundingCoefficient",type:"int256"},{internalType:"int256",name:"strikePrice",type:"int256"},{internalType:"int256",name:"oraclePrice",type:"int256"},{internalType:"int256",name:"oracleVolatility",type:"int256"},{internalType:"int256",name:"timePrice",type:"int256"},{internalType:"int256",name:"dynamicMarginRatio",type:"int256"},{internalType:"int256",name:"intrinsicValue",type:"int256"},{internalType:"int256",name:"timeValue",type:"int256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"int256",name:"K",type:"int256"},{internalType:"int256",name:"quoteBalanceOffset",type:"int256"},{internalType:"int256",name:"tradersNetVolume",type:"int256"},{internalType:"int256",name:"tradersNetCost",type:"int256"},{internalType:"int256",name:"cumulativeDeltaFundingRate",type:"int256"},{internalType:"int256",name:"cumulativePremiumFundingRate",type:"int256"},{internalType:"int256",name:"deltaFundingPerSecond",type:"int256"},{internalType:"int256",name:"premiumFundingPerSecond",type:"int256"}],internalType:"struct EverlastingOptionViewer.SymbolState[]",name:"symbols",type:"tuple[]"},{components:[{internalType:"int256",name:"volume",type:"int256"},{internalType:"int256",name:"cost",type:"int256"},{internalType:"int256",name:"lastCumulativeDeltaFundingRate",type:"int256"},{internalType:"int256",name:"lastCumulativePremiumFundingRate",type:"int256"},{internalType:"int256",name:"pnl",type:"int256"},{internalType:"int256",name:"deltaFundingAccrued",type:"int256"},{internalType:"int256",name:"premiumFundingAccrued",type:"int256"}],internalType:"struct EverlastingOptionViewer.PositionState[]",name:"positions",type:"tuple[]"}],internalType:"struct EverlastingOptionViewer.State",name:"state",type:"tuple"}],name:"_updateSymbolPrices",outputs:[{components:[{components:[{internalType:"address",name:"pool",type:"address"},{internalType:"address",name:"pToken",type:"address"},{internalType:"address",name:"pmmPricer",type:"address"},{internalType:"address",name:"optionPricer",type:"address"},{internalType:"int256",name:"initialMarginRatio",type:"int256"},{internalType:"int256",name:"maintenanceMarginRatio",type:"int256"},{internalType:"int256",name:"premiumFundingPeriod",type:"int256"},{internalType:"int256",name:"premiumFundingCoefficient",type:"int256"},{internalType:"int256",name:"liquidity",type:"int256"},{internalType:"int256",name:"totalDynamicEquity",type:"int256"},{internalType:"int256",name:"totalInitialMargin",type:"int256"},{internalType:"uint256",name:"preTimestamp",type:"uint256"},{internalType:"uint256",name:"curTimestamp",type:"uint256"}],internalType:"struct EverlastingOptionViewer.PoolState",name:"pool",type:"tuple"},{components:[{internalType:"int256",name:"margin",type:"int256"},{internalType:"int256",name:"totalPnl",type:"int256"},{internalType:"int256",name:"totalFundingAccrued",type:"int256"},{internalType:"int256",name:"dynamicMargin",type:"int256"},{internalType:"int256",name:"initialMargin",type:"int256"},{internalType:"int256",name:"maintenanceMargin",type:"int256"}],internalType:"struct EverlastingOptionViewer.TraderState",name:"trader",type:"tuple"},{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"string",name:"symbol",type:"string"},{internalType:"address",name:"oracleAddress",type:"address"},{internalType:"address",name:"volatilityAddress",type:"address"},{internalType:"bool",name:"isCall",type:"bool"},{internalType:"int256",name:"multiplier",type:"int256"},{internalType:"int256",name:"deltaFundingCoefficient",type:"int256"},{internalType:"int256",name:"strikePrice",type:"int256"},{internalType:"int256",name:"oraclePrice",type:"int256"},{internalType:"int256",name:"oracleVolatility",type:"int256"},{internalType:"int256",name:"timePrice",type:"int256"},{internalType:"int256",name:"dynamicMarginRatio",type:"int256"},{internalType:"int256",name:"intrinsicValue",type:"int256"},{internalType:"int256",name:"timeValue",type:"int256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"int256",name:"K",type:"int256"},{internalType:"int256",name:"quoteBalanceOffset",type:"int256"},{internalType:"int256",name:"tradersNetVolume",type:"int256"},{internalType:"int256",name:"tradersNetCost",type:"int256"},{internalType:"int256",name:"cumulativeDeltaFundingRate",type:"int256"},{internalType:"int256",name:"cumulativePremiumFundingRate",type:"int256"},{internalType:"int256",name:"deltaFundingPerSecond",type:"int256"},{internalType:"int256",name:"premiumFundingPerSecond",type:"int256"}],internalType:"struct EverlastingOptionViewer.SymbolState[]",name:"symbols",type:"tuple[]"},{components:[{internalType:"int256",name:"volume",type:"int256"},{internalType:"int256",name:"cost",type:"int256"},{internalType:"int256",name:"lastCumulativeDeltaFundingRate",type:"int256"},{internalType:"int256",name:"lastCumulativePremiumFundingRate",type:"int256"},{internalType:"int256",name:"pnl",type:"int256"},{internalType:"int256",name:"deltaFundingAccrued",type:"int256"},{internalType:"int256",name:"premiumFundingAccrued",type:"int256"}],internalType:"struct EverlastingOptionViewer.PositionState[]",name:"positions",type:"tuple[]"}],internalType:"struct EverlastingOptionViewer.State",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"pool",type:"address"},{internalType:"address",name:"pToken",type:"address"},{internalType:"address",name:"pmmPricer",type:"address"},{internalType:"address",name:"optionPricer",type:"address"},{internalType:"int256",name:"initialMarginRatio",type:"int256"},{internalType:"int256",name:"maintenanceMarginRatio",type:"int256"},{internalType:"int256",name:"premiumFundingPeriod",type:"int256"},{internalType:"int256",name:"premiumFundingCoefficient",type:"int256"},{internalType:"int256",name:"liquidity",type:"int256"},{internalType:"int256",name:"totalDynamicEquity",type:"int256"},{internalType:"int256",name:"totalInitialMargin",type:"int256"},{internalType:"uint256",name:"preTimestamp",type:"uint256"},{internalType:"uint256",name:"curTimestamp",type:"uint256"}],internalType:"struct EverlastingOptionViewer.PoolState",name:"pool",type:"tuple"},{components:[{internalType:"int256",name:"margin",type:"int256"},{internalType:"int256",name:"totalPnl",type:"int256"},{internalType:"int256",name:"totalFundingAccrued",type:"int256"},{internalType:"int256",name:"dynamicMargin",type:"int256"},{internalType:"int256",name:"initialMargin",type:"int256"},{internalType:"int256",name:"maintenanceMargin",type:"int256"}],internalType:"struct EverlastingOptionViewer.TraderState",name:"trader",type:"tuple"},{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"string",name:"symbol",type:"string"},{internalType:"address",name:"oracleAddress",type:"address"},{internalType:"address",name:"volatilityAddress",type:"address"},{internalType:"bool",name:"isCall",type:"bool"},{internalType:"int256",name:"multiplier",type:"int256"},{internalType:"int256",name:"deltaFundingCoefficient",type:"int256"},{internalType:"int256",name:"strikePrice",type:"int256"},{internalType:"int256",name:"oraclePrice",type:"int256"},{internalType:"int256",name:"oracleVolatility",type:"int256"},{internalType:"int256",name:"timePrice",type:"int256"},{internalType:"int256",name:"dynamicMarginRatio",type:"int256"},{internalType:"int256",name:"intrinsicValue",type:"int256"},{internalType:"int256",name:"timeValue",type:"int256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"int256",name:"K",type:"int256"},{internalType:"int256",name:"quoteBalanceOffset",type:"int256"},{internalType:"int256",name:"tradersNetVolume",type:"int256"},{internalType:"int256",name:"tradersNetCost",type:"int256"},{internalType:"int256",name:"cumulativeDeltaFundingRate",type:"int256"},{internalType:"int256",name:"cumulativePremiumFundingRate",type:"int256"},{internalType:"int256",name:"deltaFundingPerSecond",type:"int256"},{internalType:"int256",name:"premiumFundingPerSecond",type:"int256"}],internalType:"struct EverlastingOptionViewer.SymbolState[]",name:"symbols",type:"tuple[]"},{components:[{internalType:"int256",name:"volume",type:"int256"},{internalType:"int256",name:"cost",type:"int256"},{internalType:"int256",name:"lastCumulativeDeltaFundingRate",type:"int256"},{internalType:"int256",name:"lastCumulativePremiumFundingRate",type:"int256"},{internalType:"int256",name:"pnl",type:"int256"},{internalType:"int256",name:"deltaFundingAccrued",type:"int256"},{internalType:"int256",name:"premiumFundingAccrued",type:"int256"}],internalType:"struct EverlastingOptionViewer.PositionState[]",name:"positions",type:"tuple[]"}],internalType:"struct EverlastingOptionViewer.State",name:"state",type:"tuple"}],name:"_updateTraderFunding",outputs:[{components:[{components:[{internalType:"address",name:"pool",type:"address"},{internalType:"address",name:"pToken",type:"address"},{internalType:"address",name:"pmmPricer",type:"address"},{internalType:"address",name:"optionPricer",type:"address"},{internalType:"int256",name:"initialMarginRatio",type:"int256"},{internalType:"int256",name:"maintenanceMarginRatio",type:"int256"},{internalType:"int256",name:"premiumFundingPeriod",type:"int256"},{internalType:"int256",name:"premiumFundingCoefficient",type:"int256"},{internalType:"int256",name:"liquidity",type:"int256"},{internalType:"int256",name:"totalDynamicEquity",type:"int256"},{internalType:"int256",name:"totalInitialMargin",type:"int256"},{internalType:"uint256",name:"preTimestamp",type:"uint256"},{internalType:"uint256",name:"curTimestamp",type:"uint256"}],internalType:"struct EverlastingOptionViewer.PoolState",name:"pool",type:"tuple"},{components:[{internalType:"int256",name:"margin",type:"int256"},{internalType:"int256",name:"totalPnl",type:"int256"},{internalType:"int256",name:"totalFundingAccrued",type:"int256"},{internalType:"int256",name:"dynamicMargin",type:"int256"},{internalType:"int256",name:"initialMargin",type:"int256"},{internalType:"int256",name:"maintenanceMargin",type:"int256"}],internalType:"struct EverlastingOptionViewer.TraderState",name:"trader",type:"tuple"},{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"string",name:"symbol",type:"string"},{internalType:"address",name:"oracleAddress",type:"address"},{internalType:"address",name:"volatilityAddress",type:"address"},{internalType:"bool",name:"isCall",type:"bool"},{internalType:"int256",name:"multiplier",type:"int256"},{internalType:"int256",name:"deltaFundingCoefficient",type:"int256"},{internalType:"int256",name:"strikePrice",type:"int256"},{internalType:"int256",name:"oraclePrice",type:"int256"},{internalType:"int256",name:"oracleVolatility",type:"int256"},{internalType:"int256",name:"timePrice",type:"int256"},{internalType:"int256",name:"dynamicMarginRatio",type:"int256"},{internalType:"int256",name:"intrinsicValue",type:"int256"},{internalType:"int256",name:"timeValue",type:"int256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"int256",name:"K",type:"int256"},{internalType:"int256",name:"quoteBalanceOffset",type:"int256"},{internalType:"int256",name:"tradersNetVolume",type:"int256"},{internalType:"int256",name:"tradersNetCost",type:"int256"},{internalType:"int256",name:"cumulativeDeltaFundingRate",type:"int256"},{internalType:"int256",name:"cumulativePremiumFundingRate",type:"int256"},{internalType:"int256",name:"deltaFundingPerSecond",type:"int256"},{internalType:"int256",name:"premiumFundingPerSecond",type:"int256"}],internalType:"struct EverlastingOptionViewer.SymbolState[]",name:"symbols",type:"tuple[]"},{components:[{internalType:"int256",name:"volume",type:"int256"},{internalType:"int256",name:"cost",type:"int256"},{internalType:"int256",name:"lastCumulativeDeltaFundingRate",type:"int256"},{internalType:"int256",name:"lastCumulativePremiumFundingRate",type:"int256"},{internalType:"int256",name:"pnl",type:"int256"},{internalType:"int256",name:"deltaFundingAccrued",type:"int256"},{internalType:"int256",name:"premiumFundingAccrued",type:"int256"}],internalType:"struct EverlastingOptionViewer.PositionState[]",name:"positions",type:"tuple[]"}],internalType:"struct EverlastingOptionViewer.State",name:"",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"pool",type:"address"},{internalType:"address",name:"pToken",type:"address"},{internalType:"address",name:"pmmPricer",type:"address"},{internalType:"address",name:"optionPricer",type:"address"},{internalType:"int256",name:"initialMarginRatio",type:"int256"},{internalType:"int256",name:"maintenanceMarginRatio",type:"int256"},{internalType:"int256",name:"premiumFundingPeriod",type:"int256"},{internalType:"int256",name:"premiumFundingCoefficient",type:"int256"},{internalType:"int256",name:"liquidity",type:"int256"},{internalType:"int256",name:"totalDynamicEquity",type:"int256"},{internalType:"int256",name:"totalInitialMargin",type:"int256"},{internalType:"uint256",name:"preTimestamp",type:"uint256"},{internalType:"uint256",name:"curTimestamp",type:"uint256"}],internalType:"struct EverlastingOptionViewer.PoolState",name:"pool",type:"tuple"},{components:[{internalType:"int256",name:"margin",type:"int256"},{internalType:"int256",name:"totalPnl",type:"int256"},{internalType:"int256",name:"totalFundingAccrued",type:"int256"},{internalType:"int256",name:"dynamicMargin",type:"int256"},{internalType:"int256",name:"initialMargin",type:"int256"},{internalType:"int256",name:"maintenanceMargin",type:"int256"}],internalType:"struct EverlastingOptionViewer.TraderState",name:"trader",type:"tuple"},{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"string",name:"symbol",type:"string"},{internalType:"address",name:"oracleAddress",type:"address"},{internalType:"address",name:"volatilityAddress",type:"address"},{internalType:"bool",name:"isCall",type:"bool"},{internalType:"int256",name:"multiplier",type:"int256"},{internalType:"int256",name:"deltaFundingCoefficient",type:"int256"},{internalType:"int256",name:"strikePrice",type:"int256"},{internalType:"int256",name:"oraclePrice",type:"int256"},{internalType:"int256",name:"oracleVolatility",type:"int256"},{internalType:"int256",name:"timePrice",type:"int256"},{internalType:"int256",name:"dynamicMarginRatio",type:"int256"},{internalType:"int256",name:"intrinsicValue",type:"int256"},{internalType:"int256",name:"timeValue",type:"int256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"int256",name:"K",type:"int256"},{internalType:"int256",name:"quoteBalanceOffset",type:"int256"},{internalType:"int256",name:"tradersNetVolume",type:"int256"},{internalType:"int256",name:"tradersNetCost",type:"int256"},{internalType:"int256",name:"cumulativeDeltaFundingRate",type:"int256"},{internalType:"int256",name:"cumulativePremiumFundingRate",type:"int256"},{internalType:"int256",name:"deltaFundingPerSecond",type:"int256"},{internalType:"int256",name:"premiumFundingPerSecond",type:"int256"}],internalType:"struct EverlastingOptionViewer.SymbolState[]",name:"symbols",type:"tuple[]"},{components:[{internalType:"int256",name:"volume",type:"int256"},{internalType:"int256",name:"cost",type:"int256"},{internalType:"int256",name:"lastCumulativeDeltaFundingRate",type:"int256"},{internalType:"int256",name:"lastCumulativePremiumFundingRate",type:"int256"},{internalType:"int256",name:"pnl",type:"int256"},{internalType:"int256",name:"deltaFundingAccrued",type:"int256"},{internalType:"int256",name:"premiumFundingAccrued",type:"int256"}],internalType:"struct EverlastingOptionViewer.PositionState[]",name:"positions",type:"tuple[]"}],internalType:"struct EverlastingOptionViewer.State",name:"state",type:"tuple"}],name:"_updateTraderMargins",outputs:[{components:[{components:[{internalType:"address",name:"pool",type:"address"},{internalType:"address",name:"pToken",type:"address"},{internalType:"address",name:"pmmPricer",type:"address"},{internalType:"address",name:"optionPricer",type:"address"},{internalType:"int256",name:"initialMarginRatio",type:"int256"},{internalType:"int256",name:"maintenanceMarginRatio",type:"int256"},{internalType:"int256",name:"premiumFundingPeriod",type:"int256"},{internalType:"int256",name:"premiumFundingCoefficient",type:"int256"},{internalType:"int256",name:"liquidity",type:"int256"},{internalType:"int256",name:"totalDynamicEquity",type:"int256"},{internalType:"int256",name:"totalInitialMargin",type:"int256"},{internalType:"uint256",name:"preTimestamp",type:"uint256"},{internalType:"uint256",name:"curTimestamp",type:"uint256"}],internalType:"struct EverlastingOptionViewer.PoolState",name:"pool",type:"tuple"},{components:[{internalType:"int256",name:"margin",type:"int256"},{internalType:"int256",name:"totalPnl",type:"int256"},{internalType:"int256",name:"totalFundingAccrued",type:"int256"},{internalType:"int256",name:"dynamicMargin",type:"int256"},{internalType:"int256",name:"initialMargin",type:"int256"},{internalType:"int256",name:"maintenanceMargin",type:"int256"}],internalType:"struct EverlastingOptionViewer.TraderState",name:"trader",type:"tuple"},{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"string",name:"symbol",type:"string"},{internalType:"address",name:"oracleAddress",type:"address"},{internalType:"address",name:"volatilityAddress",type:"address"},{internalType:"bool",name:"isCall",type:"bool"},{internalType:"int256",name:"multiplier",type:"int256"},{internalType:"int256",name:"deltaFundingCoefficient",type:"int256"},{internalType:"int256",name:"strikePrice",type:"int256"},{internalType:"int256",name:"oraclePrice",type:"int256"},{internalType:"int256",name:"oracleVolatility",type:"int256"},{internalType:"int256",name:"timePrice",type:"int256"},{internalType:"int256",name:"dynamicMarginRatio",type:"int256"},{internalType:"int256",name:"intrinsicValue",type:"int256"},{internalType:"int256",name:"timeValue",type:"int256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"int256",name:"K",type:"int256"},{internalType:"int256",name:"quoteBalanceOffset",type:"int256"},{internalType:"int256",name:"tradersNetVolume",type:"int256"},{internalType:"int256",name:"tradersNetCost",type:"int256"},{internalType:"int256",name:"cumulativeDeltaFundingRate",type:"int256"},{internalType:"int256",name:"cumulativePremiumFundingRate",type:"int256"},{internalType:"int256",name:"deltaFundingPerSecond",type:"int256"},{internalType:"int256",name:"premiumFundingPerSecond",type:"int256"}],internalType:"struct EverlastingOptionViewer.SymbolState[]",name:"symbols",type:"tuple[]"},{components:[{internalType:"int256",name:"volume",type:"int256"},{internalType:"int256",name:"cost",type:"int256"},{internalType:"int256",name:"lastCumulativeDeltaFundingRate",type:"int256"},{internalType:"int256",name:"lastCumulativePremiumFundingRate",type:"int256"},{internalType:"int256",name:"pnl",type:"int256"},{internalType:"int256",name:"deltaFundingAccrued",type:"int256"},{internalType:"int256",name:"premiumFundingAccrued",type:"int256"}],internalType:"struct EverlastingOptionViewer.PositionState[]",name:"positions",type:"tuple[]"}],internalType:"struct EverlastingOptionViewer.State",name:"",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"poolAddress",type:"address"},{internalType:"int256[]",name:"oraclePrices",type:"int256[]"},{internalType:"int256[]",name:"oracleVolatilities",type:"int256[]"}],name:"getPoolStates",outputs:[{components:[{components:[{internalType:"address",name:"pool",type:"address"},{internalType:"address",name:"pToken",type:"address"},{internalType:"address",name:"pmmPricer",type:"address"},{internalType:"address",name:"optionPricer",type:"address"},{internalType:"int256",name:"initialMarginRatio",type:"int256"},{internalType:"int256",name:"maintenanceMarginRatio",type:"int256"},{internalType:"int256",name:"premiumFundingPeriod",type:"int256"},{internalType:"int256",name:"premiumFundingCoefficient",type:"int256"},{internalType:"int256",name:"liquidity",type:"int256"},{internalType:"int256",name:"totalDynamicEquity",type:"int256"},{internalType:"int256",name:"totalInitialMargin",type:"int256"},{internalType:"uint256",name:"preTimestamp",type:"uint256"},{internalType:"uint256",name:"curTimestamp",type:"uint256"}],internalType:"struct EverlastingOptionViewer.PoolState",name:"pool",type:"tuple"},{components:[{internalType:"int256",name:"margin",type:"int256"},{internalType:"int256",name:"totalPnl",type:"int256"},{internalType:"int256",name:"totalFundingAccrued",type:"int256"},{internalType:"int256",name:"dynamicMargin",type:"int256"},{internalType:"int256",name:"initialMargin",type:"int256"},{internalType:"int256",name:"maintenanceMargin",type:"int256"}],internalType:"struct EverlastingOptionViewer.TraderState",name:"trader",type:"tuple"},{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"string",name:"symbol",type:"string"},{internalType:"address",name:"oracleAddress",type:"address"},{internalType:"address",name:"volatilityAddress",type:"address"},{internalType:"bool",name:"isCall",type:"bool"},{internalType:"int256",name:"multiplier",type:"int256"},{internalType:"int256",name:"deltaFundingCoefficient",type:"int256"},{internalType:"int256",name:"strikePrice",type:"int256"},{internalType:"int256",name:"oraclePrice",type:"int256"},{internalType:"int256",name:"oracleVolatility",type:"int256"},{internalType:"int256",name:"timePrice",type:"int256"},{internalType:"int256",name:"dynamicMarginRatio",type:"int256"},{internalType:"int256",name:"intrinsicValue",type:"int256"},{internalType:"int256",name:"timeValue",type:"int256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"int256",name:"K",type:"int256"},{internalType:"int256",name:"quoteBalanceOffset",type:"int256"},{internalType:"int256",name:"tradersNetVolume",type:"int256"},{internalType:"int256",name:"tradersNetCost",type:"int256"},{internalType:"int256",name:"cumulativeDeltaFundingRate",type:"int256"},{internalType:"int256",name:"cumulativePremiumFundingRate",type:"int256"},{internalType:"int256",name:"deltaFundingPerSecond",type:"int256"},{internalType:"int256",name:"premiumFundingPerSecond",type:"int256"}],internalType:"struct EverlastingOptionViewer.SymbolState[]",name:"symbols",type:"tuple[]"},{components:[{internalType:"int256",name:"volume",type:"int256"},{internalType:"int256",name:"cost",type:"int256"},{internalType:"int256",name:"lastCumulativeDeltaFundingRate",type:"int256"},{internalType:"int256",name:"lastCumulativePremiumFundingRate",type:"int256"},{internalType:"int256",name:"pnl",type:"int256"},{internalType:"int256",name:"deltaFundingAccrued",type:"int256"},{internalType:"int256",name:"premiumFundingAccrued",type:"int256"}],internalType:"struct EverlastingOptionViewer.PositionState[]",name:"positions",type:"tuple[]"}],internalType:"struct EverlastingOptionViewer.State",name:"state",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"poolAddress",type:"address"}],name:"getPriceOracles",outputs:[{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"string",name:"symbol",type:"string"},{internalType:"address",name:"oracle",type:"address"},{internalType:"bool",name:"isOffChain",type:"bool"}],internalType:"struct EverlastingOptionViewer.OracleInfo[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"poolAddress",type:"address"},{internalType:"address",name:"account",type:"address"},{internalType:"int256[]",name:"oraclePrices",type:"int256[]"},{internalType:"int256[]",name:"oracleVolatilities",type:"int256[]"}],name:"getTraderStates",outputs:[{components:[{components:[{internalType:"address",name:"pool",type:"address"},{internalType:"address",name:"pToken",type:"address"},{internalType:"address",name:"pmmPricer",type:"address"},{internalType:"address",name:"optionPricer",type:"address"},{internalType:"int256",name:"initialMarginRatio",type:"int256"},{internalType:"int256",name:"maintenanceMarginRatio",type:"int256"},{internalType:"int256",name:"premiumFundingPeriod",type:"int256"},{internalType:"int256",name:"premiumFundingCoefficient",type:"int256"},{internalType:"int256",name:"liquidity",type:"int256"},{internalType:"int256",name:"totalDynamicEquity",type:"int256"},{internalType:"int256",name:"totalInitialMargin",type:"int256"},{internalType:"uint256",name:"preTimestamp",type:"uint256"},{internalType:"uint256",name:"curTimestamp",type:"uint256"}],internalType:"struct EverlastingOptionViewer.PoolState",name:"pool",type:"tuple"},{components:[{internalType:"int256",name:"margin",type:"int256"},{internalType:"int256",name:"totalPnl",type:"int256"},{internalType:"int256",name:"totalFundingAccrued",type:"int256"},{internalType:"int256",name:"dynamicMargin",type:"int256"},{internalType:"int256",name:"initialMargin",type:"int256"},{internalType:"int256",name:"maintenanceMargin",type:"int256"}],internalType:"struct EverlastingOptionViewer.TraderState",name:"trader",type:"tuple"},{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"string",name:"symbol",type:"string"},{internalType:"address",name:"oracleAddress",type:"address"},{internalType:"address",name:"volatilityAddress",type:"address"},{internalType:"bool",name:"isCall",type:"bool"},{internalType:"int256",name:"multiplier",type:"int256"},{internalType:"int256",name:"deltaFundingCoefficient",type:"int256"},{internalType:"int256",name:"strikePrice",type:"int256"},{internalType:"int256",name:"oraclePrice",type:"int256"},{internalType:"int256",name:"oracleVolatility",type:"int256"},{internalType:"int256",name:"timePrice",type:"int256"},{internalType:"int256",name:"dynamicMarginRatio",type:"int256"},{internalType:"int256",name:"intrinsicValue",type:"int256"},{internalType:"int256",name:"timeValue",type:"int256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"int256",name:"K",type:"int256"},{internalType:"int256",name:"quoteBalanceOffset",type:"int256"},{internalType:"int256",name:"tradersNetVolume",type:"int256"},{internalType:"int256",name:"tradersNetCost",type:"int256"},{internalType:"int256",name:"cumulativeDeltaFundingRate",type:"int256"},{internalType:"int256",name:"cumulativePremiumFundingRate",type:"int256"},{internalType:"int256",name:"deltaFundingPerSecond",type:"int256"},{internalType:"int256",name:"premiumFundingPerSecond",type:"int256"}],internalType:"struct EverlastingOptionViewer.SymbolState[]",name:"symbols",type:"tuple[]"},{components:[{internalType:"int256",name:"volume",type:"int256"},{internalType:"int256",name:"cost",type:"int256"},{internalType:"int256",name:"lastCumulativeDeltaFundingRate",type:"int256"},{internalType:"int256",name:"lastCumulativePremiumFundingRate",type:"int256"},{internalType:"int256",name:"pnl",type:"int256"},{internalType:"int256",name:"deltaFundingAccrued",type:"int256"},{internalType:"int256",name:"premiumFundingAccrued",type:"int256"}],internalType:"struct EverlastingOptionViewer.PositionState[]",name:"positions",type:"tuple[]"}],internalType:"struct EverlastingOptionViewer.State",name:"state",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"poolAddress",type:"address"}],name:"getVolatilityOracles",outputs:[{components:[{internalType:"uint256",name:"symbolId",type:"uint256"},{internalType:"string",name:"symbol",type:"string"},{internalType:"address",name:"oracle",type:"address"},{internalType:"bool",name:"isOffChain",type:"bool"}],internalType:"struct EverlastingOptionViewer.OracleInfo[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"}],oi=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newPool",type:"address"}],name:"setPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],li=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"int256",name:"amount",type:"int256"}],name:"UpdateMargin",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"uint256",name:"symbolId",type:"uint256"},{indexed:!1,internalType:"int256",name:"volume",type:"int256"},{indexed:!1,internalType:"int256",name:"cost",type:"int256"},{indexed:!1,internalType:"int256",name:"lastCumulativeDiseqFundingRate",type:"int256"},{indexed:!1,internalType:"int256",name:"lastCumulativeFundingRate2",type:"int256"}],name:"UpdatePosition",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"int256",name:"delta",type:"int256"}],name:"addMargin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"symbolId",type:"uint256"}],name:"addSymbolId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"exists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"getActiveSymbolIds",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"getMargin",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"symbolId",type:"uint256"}],name:"getNumPositionHolders",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"symbolId",type:"uint256"}],name:"getPosition",outputs:[{components:[{internalType:"int256",name:"volume",type:"int256"},{internalType:"int256",name:"cost",type:"int256"},{internalType:"int256",name:"lastCumulativeDeltaFundingRate",type:"int256"},{internalType:"int256",name:"lastCumulativePremiumFundingRate",type:"int256"}],internalType:"struct IPTokenOption.Position",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"getTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"symbolId",type:"uint256"}],name:"isActiveSymbolId",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"symbolId",type:"uint256"}],name:"removeSymbolId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newPool",type:"address"}],name:"setPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"symbolId",type:"uint256"}],name:"toggleCloseOnly",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalMinted",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"int256",name:"margin",type:"int256"}],name:"updateMargin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"symbolId",type:"uint256"},{components:[{internalType:"int256",name:"volume",type:"int256"},{internalType:"int256",name:"cost",type:"int256"},{internalType:"int256",name:"lastCumulativeDeltaFundingRate",type:"int256"},{internalType:"int256",name:"lastCumulativePremiumFundingRate",type:"int256"}],internalType:"struct IPTokenOption.Position",name:"position",type:"tuple"}],name:"updatePosition",outputs:[],stateMutability:"nonpayable",type:"function"}];const pi=u(class extends ye{constructor(e,t){super(e,t,si)}async _getTraderPortfolio(e,t){return await this._call("_getTraderPortfolio",[e,t])}async _initState(e,t){return await this._call("_initState",[e,t])}async _updateSymbolPrices(e){return await this._call("_updateSymbolPrices",[e])}async getPoolStates(e,t,n){const i=await this._call("getPoolStates",[e,t,n]),a=i[2].reduce(((e,t)=>{const n=Object(d.h)(Object(d.b)(t),["multiplier","deltaFundingCoefficient","strikePrice","oraclePrice","timePrice","dynamicMarginRatio","intrinsicValue","timeValue","delta","K","quoteBalanceOffset","tradersNetVolume","tradersNetCost","cumulativeDeltaFundingRate","cumulativePremiumFundingRate","deltaFundingPerSecond","premiumFundingPerSecond","oracleVolatility"]);return e.concat([n])}),[]);return{poolState:Object(d.h)(Object(d.b)(i[0]),["initialMarginRatio","maintenanceMarginRatio","premiumFundingPeriod","premiumFundingCoefficient","liquidity","totalDynamicEquity","totalInitialMargin"]),symbolState:a}}async getTraderStates(e,t,n,i){const a=await this._call("getTraderStates",[e,t,n,i]),r=a[2].reduce(((e,t)=>{const n=Object(d.h)(Object(d.b)(t),["multiplier","deltaFundingCoefficient","strikePrice","oraclePrice","timePrice","dynamicMarginRatio","intrinsicValue","timeValue","delta","K","quoteBalanceOffset","tradersNetVolume","tradersNetCost","cumulativeDeltaFundingRate","cumulativePremiumFundingRate","deltaFundingPerSecond","premiumFundingPerSecond","oracleVolatility"]);return e.concat([n])}),[]),s=a[3].reduce(((e,t)=>{const n=Object(d.h)(Object(d.b)(t),["volume","cost","pnl","lastCumulativeDeltaFundingRate","lastCumulativePremiumFundingRate","deltaFundingAccrued","premiumFundingAccrued"]);return e.concat([n])}),[]);return{poolState:Object(d.h)(Object(d.b)(a[0]),["initialMarginRatio","maintenanceMarginRatio","premiumFundingPeriod","premiumFundingCoefficient","liquidity","totalDynamicEquity","totalInitialMargin"]),traderState:Object(d.h)(Object(d.b)(a[1]),["margin","totalPnl","totalFundingAccrued","dynamicMargin","initialMargin","maintenanceMargin"]),symbolState:r,positionState:s}}async getVolatilityOracles(e){return await this._call("getVolatilityOracles",[e])}async getPriceOracles(e){return await this._call("getPriceOracles",[e])}}),ui=u(class extends ye{constructor(e,t){super(e,t,oi)}async balanceOf(e){const t=await this._call("balanceOf",[e]);return Object(d.g)(t)}async name(){return await this._call("name",[])}async pool(){return await this._call("pool",[])}async symbol(){return await this._call("symbol",[])}async totalSupply(){const e=await this._call("totalSupply",[]);return Object(d.g)(e)}}),di=u(class extends ye{constructor(e,t){super(e,t,li)}async balanceOf(e){return await this._call("balanceOf",[e])}async exists(e){return await this._call("exists",[e])}async getActiveSymbolIds(){return await this._call("getActiveSymbolIds",[])}async getApproved(e){return await this._call("getApproved",[e])}async getMargin(e){const t=await this._call("getMargin",[e]);return Object(d.g)(t)}async getNumPositionHolders(e){return await this._call("getNumPositionHolders",[e])}async getPosition(e,t){const n=await this._call("getPosition",[e,t]);return{volume:Object(d.g)(n[0]),cost:Object(d.g)(n[1]),lastCumulativeDeltaFundingRate:Object(d.g)(n[2]),lastCumulativePremiumFundingRate:Object(d.g)(n[3])}}async getTokenId(e){return await this._call("getTokenId",[e])}async isActiveSymbolId(e){return await this._call("isActiveSymbolId",[e])}async isApprovedForAll(e,t){return await this._call("isApprovedForAll",[e,t])}async name(){return await this._call("name",[])}async ownerOf(e){return await this._call("ownerOf",[e])}async pool(){return await this._call("pool",[])}async symbol(){return await this._call("symbol",[])}async totalMinted(){return await this._call("totalMinted",[])}async totalSupply(){return await this._call("totalSupply",[])}async addMargin(e,t,n){return await this._transact("addMargin",[t,n],e)}async updateMargin(e,t,n){return await this._transact("updateMargin",[t,n],e)}async updatePosition(e,t,n,i){return await this._transact("updatePosition",[t,n,i],e)}}),yi=function(){const e={};return{async get(t,n){const i=t;if(!Object.keys(e).includes(i)||Math.floor(Date.now()/1e3)-e[i].timestamp>5){const t=Math.floor(Date.now()/1e3),a=await(async e=>{const t=e.map((e=>F(e))).filter(((e,t,n)=>n.indexOf(e)===t)),n=await Promise.all(t.reduce(((e,t)=>e.concat([le(`VOL-${t}`,"option")])),[]));return e.map((e=>n[t.indexOf(F(e))].volatility))})(n);return e[i]={data:a,timestamp:t},e[i].data}return e[i].data}}}();const ci=u(class extends ye{constructor(e,t){super(e,t,ri),this.config=U(t,void 0,void 0,"option"),this.volatilitySymbols=this.config.volatilitySymbols,this.bTokenAddress=this.config.bToken,this.lTokenAddress=this.config.lToken,this.pTokenAddress=this.config.pToken,this.viewerAddress=X(this.chainId,"option")}async _updateConfig(){if(this.pToken||(this.pToken=di(this.chainId,this.pTokenAddress)),this.viewer||(this.viewer=pi(this.chainId,this.viewerAddress)),!this.activeSymbolIds){this.activeSymbolIds=await this.pToken.getActiveSymbolIds();const e=await Promise.all(this.activeSymbolIds.reduce(((e,t)=>e.concat([this.getSymbol(t)])),[])),t=await yi.get(this.contractAddress,e.map((e=>e.symbol))),n=await this.viewer.getPoolStates(this.contractAddress,[],t),{symbolState:i}=n;this.activeSymbols=i.filter((e=>this.activeSymbolIds.includes(e.symbolId))),this.volatilitySymbols=B(this.activeSymbols.map((e=>e.symbol)))}}async OptionPricer(){return await this._call("OptionPricer",[])}async PmmPricer(){return await this._call("PmmPricer",[])}async _T(){const e=await this._call("_T",[]);return Object(d.g)(e)}async getAddresses(){const e=await this._call("getAddresses",[]);return Object(d.b)(e)}async getLastTimestamp(){return await this._call("getLastTimestamp",[])}async getLiquidity(){const e=await this._call("getLiquidity",[]);return Object(d.g)(e)}async getParameters(){const e=await this._call("getParameters",[]);return Object(d.h)(Object(d.b)(e),["initialMarginRatio","liquidationCutRatio","maintenanceMarginRatio","maxLiquidationReward","minLiquidationReward","minPoolMarginRatio","protocolFeeCollectRatio"])}async getProtocolFeeAccrued(){const e=await this._call("getProtocolFeeAccrued",[]);return Object(d.g)(e)}async getSymbol(e){const t=await this._call("getSymbol",[e]);return{symbolId:t[0],symbol:t[1],oracleAddress:t[2],volatilityAddress:t[3],multiplier:Object(d.g)(t[4]),feeRatio:Object(d.g)(t[5]),strikePrice:Object(d.g)(t[6]),isCall:t[7],diseqFundingCoefficient:Object(d.g)(t[8]),cumulativeDeltaFundingRate:Object(d.g)(t[9]),intrinsicValue:Object(d.g)(t[10]),cumulativePremiumFundingRate:Object(d.g)(t[11]),timeValue:t[12],tradersNetVolume:Object(d.g)(t[13]),tradersNetCost:Object(d.g)(t[14]),quote_balance_offset:Object(d.g)(t[15]),K:Object(d.g)(t[16])}}async _getVolSymbolPrices(){await this._updateConfig();let e=[];if(this.volatilitySymbols.length>0){const t=await Promise.all(this.volatilitySymbols.reduce(((e,t)=>e.concat([le(t,"option")])),[]));e=Object.values(t).reduce(((e,t,n)=>(e.push([n.toString(),t.timestamp,t.volatility,parseInt(t.v).toString(),t.r,t.s]),e)),[])}return e}async addLiquidity(e,t){const n=await this._getVolSymbolPrices();return await this._transact("addLiquidity",[Object(d.p)(t),n],e)}async removeLiquidity(e,t){const n=await this._getVolSymbolPrices();return await this._transact("removeLiquidity",[Object(d.p)(t),n],e)}async addMargin(e,t){return await this._transact("addMargin",[Object(d.p)(t)],e)}async removeMargin(e,t){const n=await this._getVolSymbolPrices();return await this._transact("removeMargin",[Object(d.p)(t),n],e)}async trade(e,t,n){const i=await this._getVolSymbolPrices();return await this._transact("trade",[t,Object(d.p)(n),i],e)}}),mi=async(e,t,n)=>{const{lToken:i}=U(t,"0","0","option"),a=ci(e,t),r=ui(e,i),[s,o]=await Promise.all([r.balanceOf(n),r.totalSupply(),a._updateConfig()]),l=a.activeSymbols,p=await yi.get(t,l.map((e=>e.symbol))),u=await a.viewer.getPoolStates(t,[],p),{poolState:y}=u,{initialMarginRatio:c,liquidity:m,totalDynamicEquity:b}=y,T=l.reduce(((e,t)=>e.plus(t.tradersNetCost)),Object(d.a)(0)),g=l.reduce(((e,t)=>e.plus(Object(d.a)(t.tradersNetVolume).times(t.strikePrice).times(t.multiplier))),Object(d.a)(0));return{totalSupply:o.toString(),poolLiquidity:m.toString(),shares:s.toString(),shareValue:Ct(o,b).toString(),maxRemovableShares:Rt(s,o,m,g,T,Object(d.a)(c).times(10)).toString()}};function bi(e,t,n,i,a){let r=t.isCall?Math.max(a-t.strikePrice,0):Math.max(t.strikePrice-a,0),[s,o]=function(e,t,n,i){let a,r,s=Math.sqrt(8/n/n/i+1);return e>t?(a=t*Math.pow(e/t,(1-s)/2)/s,r=(1-s)*a/e/2):e===t?(a=t/s,r=0):(a=t*Math.pow(e/t,(1+s)/2)/s,r=(1+s)*a/e/2),[a,r]}(a,t.strikePrice,t.oracleVolatility,e.premiumFundingPeriod);r>0&&(o+=t.isCall?1:-1);let l=i.volume*(r+s)*t.multiplier-i.cost,p=function(e,t,n,i,a){if(n&&e>=t||!n&&t>=e)return i;{let r=(n?t-e:e-t)/t;return Math.max((1-3*r)*i,a)}}(a,t.strikePrice,t.isCall,e.initialMarginRatio,.01),u=n.dynamicMargin-i.pnl+l;return(n.initialMargin-Math.abs(i.volume*t.oraclePrice*t.multiplier*t.dynamicMarginRatio)+Math.abs(i.volume*a*t.multiplier*p))*e.maintenanceMarginRatio/e.initialMarginRatio>u}function Ti(e,t,n,i,a){let r=a*e*e/t,s=(1-a)*t,o=!0;i?s+=n:r+=n,s>=r?(s-=r,o=!0):(s=r-s,o=!1);let l,p=Math.sqrt(s*s+4*(1-a)*a*e*e);return l=o?s+p:p-s,l/(2*(1-a))}function gi(e,t,n,i){return i-Ti(i,i,e*n,!1,t)}function fi(e,t,n,i,a){return function(e,t,n,i,a){return i*(t-n)*(1-a+a*(e*e/t/n))}(n,i,a,e,t)}function hi(e,t,n,i){return fi(e,t,i,i,i-n)}function vi(e,t,n,i,a){return Ti(a,i,e*n,!0,t)-i}function wi(e,t,n,i,a){return fi(e,t,a,i+n,i)}function Si(e,t,n,i,a){let r={};return"SHORT"===e?([r.baseTarget,r.quoteTarget]=function(e,t,n,i){let a=n*t,r=e*e-4*a*(e-a+a*i),s=(e+Math.sqrt(r))/t/2;return[s,s*t]}(t,n,i,a),r.baseBalance=r.baseTarget-i,r.quoteBalance=t,r.newSide="SHORT"):"LONG"===e&&([r.baseTarget,r.quoteTarget]=function(e,t,n,i){let a=e*e+n*t*e*i*4,r=e+(Math.sqrt(a)-e)/i/2;return[r/t,r]}(t,n,i,a),r.baseBalance=r.baseTarget+i,r.quoteBalance=t,r.newSide="LONG"),r}function Mi(e,t,n,i,a){return"FLAT"===e?function(e,t){let n=e/t;return{baseTarget:n,baseBalance:n,quoteTarget:e,quoteBalance:e,newSide:"FLAT"}}(t,n):Si(e,t,n,i,a)}function ki(e,t,n,i){let a,r,s;return"FLAT"===e.newSide?(a=gi(t,n,i,e.quoteTarget),s="LONG",r=i):"SHORT"===e.newSide?[a,s,r]=function(e,t,n,i,a,r){let s,o,l,p=i-a;if(e<p){s=wi(n,t,e,a,i),o="SHORT",l=p-e;let r=wi(n,t,p,a,i);s>r&&(s=r)}else e===p?(s=wi(n,t,p,a,i),o="FLAT",l=0):(s=wi(n,t,p,a,i)+gi(n,t,e-p,r),o="LONG",l=e-p);return[s,o,l]}(i,n,t,e.baseTarget,e.baseBalance,e.quoteTarget):(a=function(e,t,n,i,a){return i-Ti(a,i,e*n,!1,t)}(t,n,i,e.quoteBalance,e.quoteTarget),s="LONG",r=e.baseBalance-e.baseTarget+i),a}function Ii(e,t,n,i){let a,r,s;return"FLAT"===e.newSide?(a=hi(t,n,i,e.baseTarget),r="SHORT",s=i):"SHORT"===e.newSide?(a=function(e,t,n,i,a){return fi(e,t,a,i,i-n)}(t,n,i,e.baseBalance,e.baseTarget),r="SHORT",s=e.baseTarget-e.baseBalance+i):[a,r,s]=function(e,t,n,i,a,r,s){let o,l,p;if(e<i)o=vi(n,t,e,s,r),l="LONG",p=i-e;else if(e===i)o=vi(n,t,i,s,r),l="FLAT",p=0;else{let u=hi(n,t,e-i,a);o=vi(n,t,i,s,r)+u,l="SHORT",p=e-i}return[o,l,p]}(i,n,t,e.baseBalance-e.baseTarget,e.baseTarget,e.quoteTarget,e.quoteBalance),a}const Ai=(e,t,n,i,a)=>{let r,s,o=Mi(0===t?"FLAT":t>0?"SHORT":"LONG",i,e,Math.abs(t),a);return n>=0?(r=Ii(o,e,a,n),s=r):(r=ki(o,e,a,-n),s=-r),[s,function(e,t,n,i){return n<=0?e:function(e,t,n){if("LONG"===e.newSide){let i=e.quoteTarget*e.quoteTarget/e.quoteBalance/e.quoteBalance;return i=1-n+n*i,t/i}{let i=e.baseTarget*e.baseTarget/e.baseBalance/e.baseBalance;return i=1-n+n*i,t*i}}(Mi(0===t?"FLAT":t>0?"SHORT":"LONG",n,e,Math.abs(t),i),e,i)}(e,t+n,i,a)]},Oi=86400,Pi=async(e,t,n,i)=>C((async(e,t,n,i)=>{const{symbol:a}=U(t,void 0,i,"option"),r=ci(e,t);await r._updateConfig();const s=r.activeSymbols,[o,l,p]=await Promise.all([ue(e,s.map((e=>e.symbol))),yi.get(t,s.map((e=>e.symbol))),oe(`VOL-${F(a)}`,"option")]),u=await r.viewer.getTraderStates(t,n,o,l),{poolState:y,symbolState:c,traderState:m,positionState:b}=u,{initialMarginRatio:T}=y,{margin:g,totalPnl:f,initialMargin:h}=m,v=c.findIndex((e=>e.symbolId===i)),w=c[v],S=b[v],M=((e,t,n,i)=>{if(0===i.volume)return null;if(n.maintenanceMargin>n.dynamicMargin)return t.oraclePrice;let a,r,s,o;for(t.isCall&&i.volume>0||!t.isCall&&i.volume<0?(a=t.oraclePrice/10,r=t.oraclePrice,s=bi(e,t,n,i,a),o=!1):(a=t.oraclePrice,r=10*t.oraclePrice,s=!1,o=bi(e,t,n,i,r));;){if(s&&o)return(a+r)/2;if(!s&&!o)return null;if(r-a<t.oraclePrice/1e3)return(a+r)/2;let l=(a+r)/2,p=bi(e,t,n,i,l);p===s?a=l:p===o&&(r=l)}})(Object(d.u)(y,["initialMarginRatio","maintenanceMarginRatio","premiumFundingPeriod","premiumFundingCoefficient","liquidity","totalDynamicEquity","totalInitialMargin"]),Object(d.u)(w,["multiplier","deltaFundingCoefficient","strikePrice","oraclePrice","oracleVolatility","timePrice","dynamicMarginRatio","intrinsicValue","timeValue","delta","K","quoteBalanceOffset","tradersNetVolume","tradersNetCost","cumulativeDeltaFundingRate","cumulativePremiumFundingRate","deltaFundingPerSecond","premiumFundingPerSecond"]),Object(d.u)(m,["margin","totalPnl","totalFundingAccrued","dynamicMargin","initialMargin","maintenanceMargin"]),Object(d.u)(S,["volume","cost","lastCumulativeDeltaFundingRate","lastCumulativePremiumFundingRate","pnl","deltaFundingAccrued","premiumFundingAccrued"])),k=await he(e,w.oracleAddress).getPrice(),I=Object(d.a)(S.volume).abs().times(k).times(w.multiplier).times(ni(k,w.strikePrice,w.isCall,T));return{price:k,strikePrice:w.strikePrice.toString(),timePrice:w.timeValue.toString(),volume:S.volume.toString(),averageEntryPrice:Object(d.a)(S.volume).eq(0)?"0":Object(d.a)(S.cost).div(S.volume).div(w.multiplier).toString(),margin:g.toString(),marginHeld:h.toString(),marginHeldBySymbol:I.toString(),unrealizedPnl:f,unrealizedPnlList:c.map(((e,t)=>[e.symbol,b[t].pnl])),deltaFundingAccrued:b[v].deltaFundingAccrued,premiumFundingAccrued:b[v].premiumFundingAccrued,isCall:w.isCall,volatility:Object(d.a)(p).times(100).toString(),liquidationPrice:M?M.toString():"--"}}),[e,t,n,i],"getPositionInfo",{price:"",strikePrice:"",timePrice:"",volume:"",averageEntryPrice:"",margin:"",marginHeld:"",marginHeldBySymbol:"",unrealizedPnl:"",unrealizedPnlList:[],deltaFundingAccrued:"",premiumFundingAccrued:"",liquidationPrice:"--",volatility:""}),Ei=async(e,t,n)=>{const i=ci(e,t);await i._updateConfig();const a=i.activeSymbols,[r,s]=await Promise.all([ue(e,a.map((e=>e.symbol))),yi.get(t,a.map((e=>e.symbol)))]),o=await i.viewer.getPoolStates(t,r,s),{poolState:l,symbolState:p}=o,{initialMarginRatio:u,totalDynamicEquity:y,liquidity:c}=l,m=i.activeSymbolIds.indexOf(n);if(m<0)throw new Error(`getFundingRate(): invalid symbolId(${n}) for pool(${t})`);const b=p[m],T=await Promise.all(p.reduce(((t,n)=>t.concat([he(e,n.oracleAddress).getPrice()])),[])),g=p.reduce(((e,t,n)=>e.plus(Object(d.a)(t.tradersNetVolume).times(T[n]).times(t.multiplier).abs().times(ii(T[n],t.strikePrice,t.isCall,u)))),Object(d.a)(0));return{initialMarginRatio:u,symbolIds:i.activeSymbolIds,symbols:p,liquidity:c,totalDynamicEquity:y,prices:T,liquidityUsed:g.div(c),deltaFunding:Object(d.a)(b.deltaFundingPerSecond).div(b.multiplier).times(Oi).toString(),deltaFundingPerSecond:Object(d.a)(b.deltaFundingPerSecond).div(b.multiplier),premiumFunding:Object(d.a)(b.premiumFundingPerSecond).div(b.multiplier).times(Oi).toString(),premiumFundingPerSecond:Object(d.a)(b.premiumFundingPerSecond).div(b.multiplier)}},Ci=async(e,t,n,i)=>C((async(e,t,n,i)=>{let a=Bn.get(e,t,i);a||(a=await Ei(e,t,i),Bn.set(e,t,i,a));const{symbolIds:r,symbols:s,prices:o,totalDynamicEquity:l}=a,p=r.indexOf(i);if(p<0)throw new Error(`getEstimatedFee(): invalid symbolId(${i}) for pool(${t})`);let u=s[p];const y=((e,t,n,i,a)=>Object(d.a)(i).eq(0)?Object(d.a)(0):Object(d.a)(t).times(Object(d.a)(e.tradersNetVolume).plus(a)).times(n).times(n).times(e.multiplier).times(e.multiplier).times(e.deltaFundingCoefficient).div(i))(u,u.delta,o[p],l,n);return{deltaFunding1:Object(d.a)(y).div(u.multiplier).times(Oi).toString()}}),[e,t,n,i],"getEstimatedFundingRate",{deltaFunding1:"",premiumFunding1:""}),Ri=(e,t,n,i)=>C((async(e,t,n,i)=>{const a=ci(e,t);await a._updateConfig();const r=await yi.get(t,a.activeSymbols.map((e=>e.symbol))),s=await a.viewer.getPoolStates(t,[],r),{poolState:o,symbolState:l}=s,{liquidity:p}=o,u=l.findIndex((e=>e.symbolId===i));if(u>-1){const{tradersNetVolume:e,multiplier:t,quoteBalanceOffset:i,timePrice:a,K:r}=l[u];return Ai(Object(d.a)(a).toNumber(),Object(d.a)(e).times(t).toNumber(),Object(d.a)(n).times(t).toNumber(),Object(d.a)(p).plus(i).toNumber(),Object(d.a)(r).toNumber())[1]}return console.log(`invalid symbolId(${i}) for the pool(${t})`),""}),[e,t,n,i],"getEstimatedMarkPrice",""),Di=async e=>{const t=await fetch(e);return await t.json()},xi=async(e,t,n,i,a,r,s,o,l)=>{const p=Object(d.d)(t.tradeVolume),u=await P(e,n),y=p.gt(0)?"LONG":"SHORT",c=Object(d.d)(t.intrinsicValue).plus(Object(d.d)(t.timeValue)),m=+u.timestamp+"000",b=p.abs(),T=t.symbolId,g=o.indexOf(T);let f={direction:y,baseToken:s,symbolId:T,price:c.toString(),volume:b.times(l[g].multiplier).toString(),transactionHash:i.toString(),time:m};if(-1===g)f.notional="",f.transactionFee="";else{const e=An(p,c,a[g],r[g]),t=p.abs().times(c).times(a[g]);f.notional=t.toString(),f.transactionFee=e.toString()}return f},Fi=async(e,t,n,i,a)=>{const{bTokenSymbol:r,pToken:s}=U(t,void 0,void 0,"option"),o=ci(e,t),[l]=await Promise.all([P(e,"latest"),o._updateConfig()]);a=parseInt(a);let p=[];for(let T=0;T<o.activeSymbolIds.length;T++)p.push(o.getSymbol(o.activeSymbolIds[T]));let u=await Promise.all(p);const d=u.map((e=>e.multiplier.toString())),y=u.map((e=>e.feeRatio.toString())),c={account:n};let m=await E(e,o.contract,"Trade",c,a,l.number);const b=[];for(let T=0;T<m.length;T++){const t=m[T],n=await xi(e,t.returnValues,t.blockNumber,t.transactionHash,d,y,r,o.activeSymbolIds,u),a=u.filter((e=>e.symbolId===i));a.length>0&&(n.symbol=a[0].symbol),b.unshift(n)}return b},Bi=(e="dev",t)=>{if(t&&"1"!==t&&"v1"!==t){if(a.includes(t))return $(t);throw new Error(`getContractAddressConfig: invalid version: ${t}`)}return Z(e)},ji=async(e,t,n,i)=>{const a=H(t);return"v2_lite"===a?(async(e,t,n)=>C(Xn,[e,t,n],"getLiquidityInfo",{totalSupply:"",poolLiquidity:"",shares:"",shareValue:"",maxRemovableShares:""}))(e,t,n):"option"===a?(async(e,t,n)=>C(mi,[e,t,n],"getLiquidityInfo",{totalSupply:"",poolLiquidity:"",shares:"",shareValue:"",maxRemovableShares:""}))(e,t,n):void 0===i?(async(e,t,n)=>{const{lTokenAddress:i}=ie(e,t),a=$t(e,t),r=Ht(e,i,t),[s,o,l]=await Promise.all([r.balanceOf(n),r.totalSupply(),a.symbol()]),p=await oe(l),{liquidity:u,tradersNetCost:d,tradersNetVolume:y}=await a.getStateValues(),{multiplier:c,minPoolMarginRatio:m}=await a.getParameters(),b=u.plus(d.minus(y.times(p).times(c)));return{totalSupply:o.toString(),poolLiquidity:u.toString(),shares:s.toString(),shareValue:Ct(o,b).toString(),maxRemovableShares:Rt(s,o,u,y,d,c,m,p).toString()}})(e,t,n):xn(e,t,n,i)},qi=async(e,t,n)=>r.includes(H(t))?(async(e,t)=>{const n=Oe();try{const i=await n.getValues([`${e}.${t}.liquidity`]).catch((e=>console.log("getPoolLiquidity",e)));if(i){const[e]=i;return{liquidity:Object(d.d)(e).toString(),symbol:""}}}catch(i){console.log(`${i}`)}return{liquidity:"",symbol:""}})(e,t):void 0===n?(async(e,t)=>{const n=Oe();try{const i=await n.getValues([`${e}.${t}.liquidity`]).catch((e=>console.log("getPoolLiquidity",e))),{symbol:a}=ie(e,t);if(i){const[e]=i;return{liquidity:Object(d.d)(e).toString(),symbol:a}}}catch(i){console.log(i)}})(e,t):(async(e,t,n)=>{const i=Oe();try{const a=await i.getValues([`${e}.${t}.liquidity${n}`]).catch((e=>console.log("getPoolLiquidity",e)));if(a){const[e]=a;return{liquidity:Object(d.d)(e).toString(),symbol:""}}}catch(a){console.log(`${a}`)}return{liquidity:"",symbol:""}})(e,t,n),Ni=async(e,t,n)=>r.includes(H(t))?(async(e,t)=>{const n=Oe(!0);try{const i=k(e),a=await n.getValues([`${i}.${t}.apy`,`${i}.${t}.volume.1h`,`${i}.${t}.volume.24h`]).catch((e=>console.log("getPoolInfoApy",e)));if(a){const[e,t,n]=a;return{apy:Object(d.d)(e).toString(),volume1h:Object(d.d)(t).toString(),volume24h:Object(d.d)(n).toString()}}}catch(i){console.log(`${i}`)}})(e,t):void 0===n?Qe(e,t):(async(e,t,n)=>{const i=Oe(!0);try{const a=k(e),r=await i.getValues([`${a}.${t}.apy${n}`,`${a}.${t}.volume.1h`,`${a}.${t}.volume.24h`,`${a}.${t}.V2.multiplier${n}`]).catch((e=>console.log("getPoolInfoApy",e)));if(r){const[e,t,n,i]=r;return{apy:Object(d.d)(e).toString(),volume1h:Object(d.d)(t).toString(),volume24h:Object(d.d)(n).toString(),multiplier:Object(d.d)(i).toString()}}}catch(a){console.log(`${a}`)}})(e,t,n),_i=async(e,t,n,i,a)=>{const r=H(t);return"v2_lite"===r?(async(e,t,n,i)=>R((async(e,t,n,i)=>{const a=Kn(e,t);return await a.addLiquidity(n,i)}),[e,t,n,i]))(e,t,n,i):"option"===r?(async(e,t,n,i)=>R((async(e,t,n,i)=>{const a=ci(e,t);return await a.addLiquidity(n,i)}),[e,t,n,i]))(e,t,n,i):void 0===a?Yt(e,t,n,i):(async(e,t,n,i,a)=>{const{router:r}=W(t),s=ht(e,r),o=ft(e,t),l=K(t);let p=[];for(let b=0;b<l.length;b++)p.push(o.getBToken(l[b]));const u=await Promise.all(p),{minBToken0Ratio:d}=await o.getParameters(),y=Rn(u,a,i,d);let c;if(y.success)try{c={success:!0,transaction:await s.addLiquidity(n,a,i)}}catch(m){c={success:!1,error:m}}else c={success:!1,error:y.error};return c})(e,t,n,i,a)},Li=async(e,t,n,i,a,r)=>{const s=H(t);return"v2_lite"===s?(async(e,t,n,i,a=!1)=>R((async(e,t,n,i,a)=>{const r=Kn(e,t);return await r.removeLiquidity(n,i,a)}),[e,t,n,i,a]))(e,t,n,i,r):"option"===s?(async(e,t,n,i,a=!1)=>R((async(e,t,n,i,a)=>{const r=ci(e,t);return await r.removeLiquidity(n,i,a)}),[e,t,n,i,a]))(e,t,n,i,r):void 0===a?Xt(e,t,n,i):(async(e,t,n,i,a,r=!1)=>{const{router:s,lToken:o}=W(t),l=ht(e,s),p=ft(e,t),u=vt(e,o),d=await u.getAsset(n,a),{liquidity:y}=d,c=K(t);let m=Y(t),b=[];for(let S=0;S<c.length;S++)b.push(p.getBToken(c[S]));const T=await Promise.all(b);b=[];for(let S=0;S<m.length;S++)b.push(p.getSymbol(m[S]));const g=await Promise.all(b),{minPoolMarginRatio:f}=await p.getParameters(),h=Dn(T,a,i,y,g,f);let v;if(h.success)try{v={success:!0,transaction:await l.removeLiquidity(n,a,i,r)}}catch(w){v={success:!1,error:w}}else v={success:!1,error:h.error};return v})(e,t,n,i,a,r)},Vi=async(e,t,n)=>{const i=H(t);return"v2_lite"===i?(async(e,t,n)=>C((async(e,t,n)=>{const{bTokenSymbol:i}=U(t,"0","0","v2_lite"),a=Kn(e,t),[r,s]=await Promise.all([a.getSymbol(n),a.getParameters()]),{symbol:o,multiplier:l,feeRatio:p,fundingRateCoefficient:u}=r,{minPoolMarginRatio:d,minInitialMarginRatio:y,minMaintenanceMarginRatio:c,minLiquidationReward:m,maxLiquidationReward:b,liquidationCutRatio:T,protocolFeeCollectRatio:g}=s;return{symbol:o,bTokenSymbol:i,multiplier:l.toString(),feeRatio:p.toString(),fundingRateCoefficient:u.toString(),minPoolMarginRatio:d.toString(),minInitialMarginRatio:y.toString(),minMaintenanceMarginRatio:c.toString(),minLiquidationReward:m.toString(),maxLiquidationReward:b.toString(),liquidationCutRatio:T.toString(),protocolFeeCollectRatio:g.toString()}}),[e,t,n],"getSpecification",{symbol:"",bTokenSymbol:"",multiplier:"",feeRatio:"",fundingRateCoefficient:"",minPoolMarginRatio:"",minInitialMarginRatio:"",minMaintenanceMarginRatio:"",minLiquidationReward:"",maxLiquidationReward:"",liquidationCutRatio:"",protocolFeeCollectRatio:""}))(e,t,n):"option"===i?(async(e,t,n)=>C((async(e,t,n)=>{const{bTokenSymbol:i}=U(t,"0","0","option"),a=ci(e,t);await a._updateConfig();const[r,s]=await Promise.all([a.getSymbol(n),a.getParameters()]),o=a.activeSymbols,[l,p]=await Promise.all([ue(e,o.map((e=>e.symbol))),yi.get(t,o.map((e=>e.symbol)))]),u=await a.viewer.getPoolStates(t,l,p),{symbolState:y}=u,c=y.findIndex((e=>e.symbolId===n)),m=y[c],{dynamicMarginRatio:b,deltaFundingCoefficient:T,isCall:g}=m,{symbol:f,multiplier:h,feeRatio:v}=r,{initialMarginRatio:w,maintenanceMarginRatio:S,minLiquidationReward:M,maxLiquidationReward:k,liquidationCutRatio:I,protocolFeeCollectRatio:A}=s;return{symbol:f,bTokenSymbol:i,multiplier:h.toString(),feeRatio:v.toString(),initialMarginRatioOrigin:w.toString(),initialMarginRatio:b.toString(),maintenanceMarginRatioOrigin:S.toString(),maintenanceMarginRatio:Object(d.a)(b).times(S).div(w).toString(),minLiquidationReward:M.toString(),maxLiquidationReward:k.toString(),liquidationCutRatio:I.toString(),protocolFeeCollectRatio:A.toString(),deltaFundingCoefficient:T.toString(),isCall:g}}),[e,t,n],"getSpecification",{symbol:"",bTokenSymbol:"",multiplier:"",feeRatio:"",initialMarginRatio:"",maintenanceMarginRatio:"",minLiquidationReward:"",maxLiquidationReward:"",liquidationCutRatio:"",protocolFeeCollectRatio:""}))(e,t,n):void 0===n?(async(e,t)=>{const{bTokenAddress:n}=ie(e,t),i=$t(e,t),a=Ce(e,n,t),{multiplier:r,feeRatio:s,minPoolMarginRatio:o,minInitialMarginRatio:l,minMaintenanceMarginRatio:p,minAddLiquidity:u,redemptionFeeRatio:d,fundingRateCoefficient:y,minLiquidationReward:c,maxLiquidationReward:m,liquidationCutRatio:b,priceDelayAllowance:T}=await i.getParameters();return{addresses:t,symbol:await i.symbol(),bTokenSymbol:await a.symbol(),multiplier:r.toString(),feeRatio:s.toString(),minPoolMarginRatio:o.toString(),minInitialMarginRatio:l.toString(),minMaintenanceMarginRatio:p.toString(),minAddLiquidity:u.toString(),redemptionFeeRatio:d.toString(),fundingRateCoefficient:y.toString(),minLiquidationReward:c.toString(),maxLiquidationReward:m.toString(),liquidationCutRatio:b.toString(),priceDelayAllowance:T.toString()}})(e,t):(async(e,t,n)=>{try{const{symbol:i}=W(t,void 0,n),a=G(t),r=ft(e,t),[s,o]=await Promise.all([r.getSymbol(n),r.getParameters()]),l=(await Promise.all(a.reduce(((e,t,n)=>e.concat([r.getBToken(n.toString())])),[]))).map((e=>e.discount)),{multiplier:p,feeRatio:u,fundingRateCoefficient:d}=s,{minPoolMarginRatio:y,minInitialMarginRatio:c,minMaintenanceMarginRatio:m,minLiquidationReward:b,maxLiquidationReward:T,liquidationCutRatio:g,protocolFeeCollectRatio:f}=o;return{symbol:i,bTokenSymbol:a.map((e=>e.bTokenSymbol)),bTokenMultiplier:l.map((e=>e.toString())),multiplier:p.toString(),feeRatio:u.toString(),fundingRateCoefficient:d.toString(),minPoolMarginRatio:y.toString(),minInitialMarginRatio:c.toString(),minMaintenanceMarginRatio:m.toString(),minLiquidationReward:b.toString(),maxLiquidationReward:T.toString(),liquidationCutRatio:g.toString(),protocolFeeCollectRatio:f.toString()}}catch(i){console.log(`${i}`)}return{symbol:"",bTokenSymbol:[],bTokenMultiplier:[],multiplier:"",feeRatio:"",fundingRateCoefficient:"",minPoolMarginRatio:"",minInitialMarginRatio:"",minMaintenanceMarginRatio:"",minLiquidationReward:"",maxLiquidationReward:"",liquidationCutRatio:"",protocolFeeCollectRatio:""}})(e,t,n)},$i=async(e,t,n,i)=>{const a=H(t);return"v2_lite"===a?(async(e,t,n,i)=>C((async(e,t,n,i)=>{const{pToken:a,symbol:r}=U(t,"0",i,"v2_lite"),s=Kn(e,t),o=Yn(e,a),[l,p,u,y,c,m,b,T,g]=await Promise.all([s.getParameters(),s.getSymbol(i),s.getLiquidity(),o.getActiveSymbolIds(),A(e,t,5),O(e),o.getPosition(n,i),o.getMargin(n),pe(e,r,"v2_lite")]),{volume:f,cost:h,lastCumulativeFundingRate:v}=b,{multiplier:w,fundingRateCoefficient:S,tradersNetVolume:M,cumulativeFundingRate:k}=p,{minInitialMarginRatio:I,minMaintenanceMarginRatio:P}=l;let E=[];for(let d=0;d<y.length;d++)E.push(s.getSymbol(y[d]));const C=await Promise.all(E),R=C.map((e=>e.symbol));E=[];for(let d=0;d<y.length;d++)E.push(pe(e,R[d],"v2_lite"));const D=await Promise.all(E),x=y.indexOf(i);let F;"-1"===x?F="0":(F=D[x],Fn.set(t,i,F)),E=[];for(let d=0;d<y.length;d++)E.push(o.getPosition(n,y[d]));const B=await Promise.all(E),j=C.reduce(((e,t,n)=>e.plus(Object(d.a)(D[n]).times(t.multiplier).times(B[n].volume).times(I).abs())),Object(d.a)(0)),q=Object(d.a)(f).abs().times(w).times(F).times(I),N=C.reduce(((e,t,n)=>e.plus(Object(d.a)(D[n]).times(t.multiplier).times(B[n].volume).minus(B[n].cost))),Object(d.a)(0)),_=C.map(((e,t)=>[e.symbol,Object(d.a)(D[t]).times(e.multiplier).times(B[t].volume).minus(B[t].cost).toString()]),Object(d.a)(0)),L=B.reduce(((e,t)=>e.plus(Object(d.a)(t.cost))),Object(d.a)(0)),V=C.reduce(((e,t,n)=>n!==parseInt(i)?e.plus(Object(d.a)(B[n].volume).times(D[n]).times(t.multiplier)):e),Object(d.a)(0)),$=En(M,g,w,S,u,k,v,c,m,f);return{price:F,volume:f.toString(),averageEntryPrice:Mn(f,h,w).toString(),margin:T.toString(),marginHeld:j.toString(),marginHeldBySymbol:q.toString(),unrealizedPnl:N.toString(),unrealizedPnlList:_,fundingFee:$.toString(),liquidationPrice:kn(f,T,L,V,w,P).toString()}}),[e,t,n,i],"getPositionInfo",{price:"",volume:"",averageEntryPrice:"",margin:"",marginHeld:"",marginHeldBySymbol:"",unrealizedPnl:"",unrealizedPnlList:[],fundingFee:"",liquidationPrice:""}))(e,t,n,i):"option"===a?Pi(e,t,n,i):void 0===i?(async(e,t,n)=>{const{pTokenAddress:i}=ie(e,t),a=$t(e,t),r=Ut(e,i,t),{multiplier:s,minInitialMarginRatio:o,minMaintenanceMarginRatio:l}=await a.getParameters(),p=await a.symbol(),{volume:u,margin:d,cost:y}=await r.getPositionInfo(n),c=await oe(p);return""===c?{price:c,volume:u.toString(),averageEntryPrice:Dt(u,y,s).toString(),margin:d.toString(),marginHeld:"",unrealizedPnl:"",liquidationPrice:Bt(u,d,y,s,l).toString()}:{price:c,volume:u.toString(),averageEntryPrice:Dt(u,y,s).toString(),margin:d.toString(),marginHeld:xt(c,u,s,o).toString(),unrealizedPnl:Ft(c,u,s,y).toString(),liquidationPrice:Bt(u,d,y,s,l).toString()}})(e,t,n):(async(e,t,n,i)=>{try{const a=J(t),r=K(t),s=a.map((e=>e.symbolId)),o=a.map((e=>e.symbol)),l=ft(e,t),{pToken:p}=W(t,null,i),u=wt(e,p),[y,c,m,b,T,g,f,h]=await Promise.all([l.getSymbol(i),l.getParameters(),l.getLastUpdatedBlockNumber(),l.getLatestBlockNumber(),u.getPosition(n,i),u.getMargins(n),u.getPositions(n),pe(e,o[parseInt(i)])]),{volume:v,cost:w,lastCumulativeFundingRate:S}=T,{multiplier:M,fundingRateCoefficient:k,tradersNetVolume:I,cumulativeFundingRate:A}=y,{minInitialMarginRatio:O,minMaintenanceMarginRatio:P}=c;let E=[];for(let e=0;e<r.length;e++)E.push(l.getBToken(r[e]));const C=await Promise.all(E),R=C.reduce(((e,t,n)=>e.plus(Object(d.a)(t.price).times(t.discount).times(g[n]))),Object(d.a)(0));E=[];for(let e=0;e<s.length;e++)E.push(l.getSymbol(s[e]));const D=await Promise.all(E);E=[];for(let t=0;t<o.length;t++)E.push(pe(e,o[t]));const x=await Promise.all(E),F=x[i];Fn.set(t,i,F);const B=D.reduce(((e,t,n)=>e.plus(Object(d.a)(x[n]).times(t.multiplier).times(f[n].volume).times(O).abs())),Object(d.a)(0)),j=Object(d.a)(v).abs().times(M).times(x[i]).times(O),q=D.reduce(((e,t,n)=>e.plus(Object(d.a)(x[n]).times(t.multiplier).times(f[n].volume).minus(f[n].cost))),Object(d.a)(0)),N=D.map(((e,t)=>[e.symbol,Object(d.a)(x[t]).times(e.multiplier).times(f[t].volume).minus(f[t].cost).toString()])),_=f.reduce(((e,t)=>e.plus(Object(d.a)(t.cost))),Object(d.a)(0)),L=D.reduce(((e,t,n)=>n!==parseInt(i)?e.plus(Object(d.a)(f[n].volume).times(x[n]).times(t.multiplier)):e),Object(d.a)(0)),V=C.reduce(((e,t)=>e.plus(Object(d.a)(t.liquidity).times(t.price).times(t.discount).plus(t.pnl))),Object(d.a)(0)),$=En(I,h,M,k,V,A,S,m,b,v);return{price:F,volume:v.toString(),averageEntryPrice:Mn(v,w,M).toString(),margin:R.toString(),marginHeld:B.toString(),marginHeldBySymbol:j.toString(),unrealizedPnl:q.toString(),unrealizedPnlList:N,liquidationPrice:kn(v,R,_,L,M,P).toString(),fundingFee:$.toString()}}catch(a){console.log(`${a}`)}return{volume:"",averageEntryPrice:"",margin:"",marginHeld:"",unrealizedPnl:"",liquidationPrice:""}})(e,t,n,i)},Ui=async(e,t,n,i)=>{const a=H(t);return"v2_lite"===a?(async(e,t,n)=>C((async(e,t,n)=>{const{bToken:i}=U(t,"0","0","v2_lite");return(await Ce(e,i).balanceOf(n)).toString()}),[e,t,n],"getWalletBalance",""))(e,t,n):"option"===a?(async(e,t,n)=>C((async(e,t,n)=>{const{bToken:i}=U(t,"0","0","option");return(await Ce(e,i).balanceOf(n)).toString()}),[e,t,n],"getWalletBalance",""))(e,t,n):void 0===i?(async(e,t,n)=>{const{bTokenAddress:i}=ie(e,t),a=Ce(e,i,t);return(await a.balanceOf(n)).toString()})(e,t,n):(async(e,t,n,i)=>{try{const{bToken:a}=W(t,i);return(await Ce(e,a).balanceOf(n)).toString()}catch(a){console.log(`${a}`)}return""})(e,t,n,i)},Hi=async(e,t,n,i)=>{const a=H(t);return"v2_lite"===a?(async(e,t,n)=>C((async(e,t,n)=>{const{bToken:i}=U(t,"0","0","v2_lite"),a=Ce(e,i);return await a.isUnlocked(n,t)}),[e,t,n],"isUnlocked",""))(e,t,n):"option"===a?(async(e,t,n)=>C((async(e,t,n)=>{const{bToken:i}=U(t,"0","0","option"),a=Ce(e,i);return await a.isUnlocked(n,t)}),[e,t,n],"isUnlocked",""))(e,t,n):void 0===n?at(e,t):void 0===i?(async(e,t,n)=>{const{bTokenAddress:i}=ie(e,t),a=Ce(e,i);return await a.isUnlocked(n,t)})(e,t,n):(async(e,t,n,i)=>{try{const{bToken:a}=W(t,i),r=Ce(e,a);return await r.isUnlocked(n,t)}catch(a){console.log(`${a}`)}return!1})(e,t,n,i)},zi=async(e,t,n,i)=>{const a=H(t);return"v2_lite"===a?(async(e,t,n,i)=>C((async(e,t,n,i)=>{let a=Fn.get(t,i);const{symbol:r}=U(t,"0",i,"v2_lite");a||(a=await pe(e,r,"v2_lite"),Fn.set(t,i,a));let s=Bn.get(e,t,i);s&&s.multiplier||(await Zn(e,t,i),s=Bn.get(e,t,i));const{multiplier:o,feeRatio:l}=s;return Object(d.a)(n).abs().times(a).times(o).times(l).toString()}),[e,t,n,i],"getFundingFee",""))(e,t,n,i):"option"===a?(async(e,t,n,i)=>C((async(e,t,n,i)=>{const a=ci(e,t),r=await a.getSymbol(i);let s=Bn.get(e,t,i);s||(s=await Ei(e,t,i));const{symbolIds:o,prices:l,symbols:p}=s,u=o.indexOf(i);if(u<0)throw new Error(`getEstimatedFee(): invalid symbolId(${i}) for pool(${t})`);const y=p[u],c=ai(l[u],y.strikePrice,y.isCall);return Object(d.a)(n).abs().times(c.plus(y.timeValue)).times(y.multiplier).times(r.feeRatio).toString()}),[e,t,n,i],"getFundingFee",""))(e,t,n,i):void 0===i?(async(e,t,n)=>{let i=nn.get(),a=an.get();if(""===i){const n=$t(e,t),a=await n.symbol();await nn._update(t,a),i=nn.get()}a.multiplier||(a=await an.update(e,t));const{multiplier:r,feeRatio:s}=a;return Object(d.a)(n).abs().times(i).times(r).times(s).toString()})(e,t,n):(async(e,t,n,i)=>{try{let a=Fn.get(t,i);const{symbol:r}=W(t,null,i);a||(a=await pe(e,r),Fn.set(t,i,a));let s=Bn.get(e,t,i);s&&s.multiplier||(await jn(e,t,i),s=Bn.get(e,t,i));const{multiplier:o,feeRatio:l}=s;return Object(d.a)(n).abs().times(a).times(o).times(l).toString()}catch(a){console.log(`${a}`)}return""})(e,t,n,i)},Wi=async(e,t,n)=>{const i=H(t);return"v2_lite"===i?(async(e,t,n)=>C((async(e,t,n)=>{const i=await Zn(e,t,n),{fundingRate:a,fundingRatePerBlock:r,liquidity:s,tradersNetVolume:o}=i;return{fundingRate0:a.times(100).toString(),fundingRatePerBlock:r.toString(),liquidity:s.toString(),volume:"-",tradersNetVolume:o.toString()}}),[e,t,n],"getFundingRate",{fundingRate0:"",fundingRatePerBlock:"",liquidity:"",volume:"",tradersNetVolume:""}))(e,t,n):"option"===i?(async(e,t,n)=>C((async(e,t,n)=>{const i=await Ei(e,t,n);Bn.set(e,t,n,i);const a=i.symbolIds.indexOf(n);if(a<0)throw new Error(`getEstimatedFee(): invalid symbolId(${n}) for pool(${t})`);return{deltaFunding0:Object(d.a)(i.deltaFunding).toString(),deltaFundingPerSecond:i.deltaFundingPerSecond,premiumFunding0:Object(d.a)(i.premiumFunding).toString(),premiumFundingPerSecond:i.premiumFundingPerSecond,liquidity:i.liquidity.toString(),volume:"-",tradersNetVolume:i.symbols[a].tradersNetVolume}}),[e,t,n],"getFundingRate",{deltaFunding0:"",deltaFundingPerSecond:"",premiumFunding0:"",premiumFundingPerSecond:"",liquidity:"",volume:"-",tradersNetVolume:""}))(e,t,n):void 0===n?(async(e,t)=>{const n=$t(e,t),i=await n.getFundingRate().catch((e=>console.log("getFundingRate",e)));tn.set(e,t,i);const a=await Qe(e,t);if(i){const{fundingRate:e,fundingRatePerBlock:t,liquidity:n,tradersNetVolume:r}=i,s=a.volume24h;return{fundingRate0:Object(d.q)(e),fundingRatePerBlock:Object(d.a)(t).toExponential(10),liquidity:n.toString(),volume:Object(d.d)(s).toString(),tradersNetVolume:r.toString()}}})(e,t):(async(e,t,n)=>{try{const i=await jn(e,t,n),{fundingRate:a,fundingRatePerBlock:r,liquidity:s,tradersNetVolume:o}=i;return{fundingRate0:a.times(100).toString(),fundingRatePerBlock:r.toString(),liquidity:s.toString(),volume:"-",tradersNetVolume:o.toString()}}catch(i){console.log(`${i}`)}return{fundingRate0:"",fundingRatePerBlock:"",liquidity:"",volume:"",tradersNetVolume:""}})(e,t,n)},Gi=async(e,t,n,i)=>{const a=H(t);return"v2_lite"===a?(async(e,t,n,i)=>C((async(e,t,n,i)=>{let a=Bn.get(e,t,i);a||(a=await Zn(e,t,i));const r=[Object(d.a)(a.tradersNetVolume).plus(n).toString(),a.price,a.multiplier,a.liquidity,a.fundingRateCoefficient];let s=On(...r);return s=Pn(e,s),{fundingRate1:s.times(100).toString()}}),[e,t,n,i],"getEstimatedFundingRate",""))(e,t,n,i):"option"===a?Ci(e,t,n,i):void 0===i?(async(e,t,n)=>{let i,a;if(a=tn.get(e,t),!a){const n=$t(e,t);a=await n.getFundingRate()}if(a){const t=[Object(d.a)(a.tradersNetVolume).plus(Object(d.a)(n)).toString(),a.price,a.multiplier,a.liquidity,a.fundingRateCoefficient];return h(...t)?{fundingRate1:"0"}:(i=Pt(...t),i=Et(e,i),{fundingRate1:Object(d.q)(i)})}})(e,t,n):(async(e,t,n,i)=>{try{let a=Bn.get(e,t,i);a||(a=await jn(e,t,i));const r=[Object(d.a)(a.tradersNetVolume).plus(n).toString(),a.price,a.multiplier,a.liquidity,a.fundingRateCoefficient];let s=On(...r);return s=Pn(e,s),{fundingRate1:s.times(100).toString()}}catch(a){console.log(`${a}`)}return{fundingRate1:""}})(e,t,n,i)},Ki=async(e,t,n)=>{const i=H(t);return"v2_lite"===i?(async(e,t,n)=>C((async(e,t,n)=>{let i=Bn.get(e,t,n);return i||(i=await Zn(e,t,n)),{liquidityUsed0:i.liquidityUsed.times(100).toString()}}),[e,t,n],"getLiquidityUsed",""))(e,t,n):"option"===i?(async(e,t,n)=>C((async(e,t,n)=>{let i=Bn.get(e,t,n);return i||(i=await Ei(e,t,n),Bn.set(e,t,n,i)),{liquidityUsed0:i.liquidityUsed.times(100).toString()}}),[e,t,n],"getLiquidityUsed",{liquidityUsed0:""}))(e,t,n):void 0===n?(async(e,t)=>{let n;if(n=tn.get(e,t),!n){const i=$t(e,t);n=await i.getFundingRate()}if(n){const{liquidityUsed:e}=n;return{liquidityUsed0:Object(d.q)(e)}}})(e,t):(async(e,t,n)=>{try{let i=Bn.get(e,t,n);return i||(i=await jn(e,t,n)),{liquidityUsed0:i.liquidityUsed.times(100).toString()}}catch(i){console.log(`${i}`)}return{liquidityUsed0:""}})(e,t,n)},Ji=async(e,t,n,i)=>{const a=H(t);return"v2_lite"===a?(async(e,t,n,i)=>C((async()=>{let a=Bn.get(e,t,i);a||(a=await Zn(e,t,i));const{pToken:r}=U(t,"0",i,"v2_lite"),s=Kn(e,t),o=Yn(e,r),l=await o.getActiveSymbolIds();let p=[];for(let e=0;e<l.length;e++)p.push(s.getSymbol(l[e]));return{liquidityUsed1:(await Promise.all(p)).reduce(((e,t,a)=>a===parseInt(i)?e.plus(Object(d.a)(t.price).times(t.multiplier).times(t.tradersNetVolume.plus(n)).abs()):e.plus(Object(d.a)(t.price).times(t.multiplier).times(t.tradersNetVolume).abs())),Object(d.a)(0)).times(a.minPoolMarginRatio).div(a.liquidity).times(100).toString()}}),[e,t,n,i],"getEstimatedLiquidityUsed",""))(e,t,n,i):"option"===a?(async(e,t,n,i)=>C((async(e,t,n,i)=>{let a=Bn.get(e,t,i);a||(a=await Ei(e,t,i),Bn.set(e,t,i,a));const{symbolIds:r,symbols:s,prices:o,liquidity:l,initialMarginRatio:p}=a;return{liquidityUsed1:s.reduce(((e,t,a)=>r[a]==i?e.plus(Object(d.a)(t.tradersNetVolume).plus(n).times(o[a]).times(t.multiplier).abs().times(ii(o[a],t.strikePrice,t.isCall,p))):e.plus(Object(d.a)(t.tradersNetVolume).times(o[a]).times(t.multiplier).abs().times(ii(o[a],t.strikePrice,t.isCall,p)))),Object(d.a)(0)).div(l).times(100).toString()}}),[e,t,n,i],"getEstimatedLiquidityUsed",{liquidityUsed1:""}))(e,t,n,i):void 0===i?(async(e,t,n)=>{let i;if(i=tn.get(e,t),!i){const n=$t(e,t);i=await n.getFundingRate().catch((e=>console.log("getLiquidityUsed",e)))}if(i){const e=[Object(d.a)(i.tradersNetVolume).plus(Object(d.a)(n)).toString(),i.price,i.multiplier,i.liquidity,i.poolMarginRatio];if(h(...e))return{liquidityUsed1:"0"};const t=Ot(...e);return{liquidityUsed1:Object(d.q)(t)}}})(e,t,n):(async(e,t,n,i)=>{try{let a=Bn.get(e,t,i);a||(a=await jn(e,t,i));const r=ft(e,t);let s=Y(t),o=[];for(let e=0;e<s.length;e++)o.push(r.getSymbol(s[e]));return{liquidityUsed1:(await Promise.all(o)).reduce(((e,t,a)=>a===parseInt(i)?e.plus(Object(d.a)(t.price).times(t.multiplier).times(t.tradersNetVolume.plus(n)).abs()):e.plus(Object(d.a)(t.price).times(t.multiplier).times(t.tradersNetVolume).abs())),Object(d.a)(0)).times(a.minPoolMarginRatio).div(a.liquidity).times(100).toString()}}catch(a){console.log(`${a}`)}return{liquidityUsed1:""}})(e,t,n,i)},Yi=async(e,t,n,i)=>{const a=H(t);return"v2_lite"===a?(async(e,t,n)=>R((async(e,t,n)=>{const{bToken:i}=U(t,"0","0","v2_lite"),a=Ce(e,i);return await a.unlock(n,t)}),[e,t,n]))(e,t,n):"option"===a?(async(e,t,n)=>R((async(e,t,n)=>{const{bToken:i}=U(t,"0","0","option"),a=Ce(e,i);return await a.unlock(n,t)}),[e,t,n]))(e,t,n):void 0===n?pt(e,t):void 0===i?(async(e,t,n)=>{const{bTokenAddress:i}=ie(e,t),a=Ce(e,i,t);let r;try{r={success:!0,transaction:await a.unlock(n)}}catch(s){r={success:!1,error:s}}return r})(e,t,n):(async(e,t,n,i)=>{const{bToken:a}=W(t,i),r=Ce(e,a);let s;try{s={success:!0,transaction:await r.unlock(n,t)}}catch(o){s={success:!1,error:o}}return s})(e,t,n,i)},Xi=async(e,t,n,i,a)=>{const r=H(t);return"v2_lite"===r?(async(e,t,n,i)=>R((async(e,t,n,i)=>{const a=Kn(e,t);return await a.addMargin(n,i)}),[e,t,n,i]))(e,t,n,i):"option"===r?(async(e,t,n,i)=>R((async(e,t,n,i)=>{const a=ci(e,t);return await a.addMargin(n,i)}),[e,t,n,i]))(e,t,n,i):void 0===a?Kt(e,t,n,i):(async(e,t,n,i,a)=>{const{router:r}=W(t),s=ht(e,r);let o;try{o={success:!0,transaction:await s.addMargin(n,a,i)}}catch(l){o={success:!1,error:l}}return o})(e,t,n,i,a)},Zi=async(e,t,n,i,a,r)=>{const s=H(t);return"v2_lite"===s?(async(e,t,n,i,a=!1)=>R((async(e,t,n,i,a)=>{const r=Kn(e,t);return await r.removeMargin(n,i,a)}),[e,t,n,i,a]))(e,t,n,i,r):"option"===s?(async(e,t,n,i,a=!1)=>R((async(e,t,n,i,a)=>{const r=ci(e,t);return await r.removeMargin(n,i,a)}),[e,t,n,i,a]))(e,t,n,i,r):void 0===a?Jt(e,t,n,i):(async(e,t,n,i,a,r=!1)=>{const{router:s}=W(t),o=ht(e,s);let l;try{l={success:!0,transaction:await o.removeMargin(n,a,i,r)}}catch(p){l={success:!1,error:p}}return l})(e,t,n,i,a,r)},Qi=async(e,t,n,i,a)=>{const r=H(t);return"v2_lite"===r?(async(e,t,n,i,a)=>R((async(e,t,n,i,a)=>{const{pToken:r}=U(t,"0","0","v2_lite"),s=Yn(e,r),o=Kn(e,t),[l,p,u,y]=await Promise.all([o.getParameters(),o.getLiquidity(),s.getMargin(n),s.getActiveSymbolIds()]),{minInitialMarginRatio:c,minPoolMarginRatio:m}=l;let b=[];for(let d=0;d<y.length;d++)b.push(o.getSymbol(y[d]));const T=await Promise.all(b);b=[];for(let d=0;d<y.length;d++)b.push(s.getPosition(n,y[d]));const g=await Promise.all(b);let f=T.reduce(((e,t,n)=>n===parseInt(a)?e.plus(Object(d.a)(t.price).times(t.multiplier).times(g[n].volume.plus(i)).abs()):e.plus(Object(d.a)(t.price).times(t.multiplier).times(g[n].volume).abs())),Object(d.a)(0));f=f.times(c);let h=T.reduce(((e,t,n)=>n===parseInt(a)?e.plus(Object(d.a)(t.tradersNetVolume).plus(i).times(t.price).times(t.multiplier).abs()):e.plus(Object(d.a)(t.tradersNetVolume).times(t.price).times(t.multiplier).abs())),Object(d.a)(0));h=h.times(m);const v=In(u,f,p,h);if(v.success)return await o.trade(n,a,i);throw new Error(v.error)}),[e,t,n,i,a]))(e,t,n,i,a):"option"===r?(async(e,t,n,i,a)=>R((async(e,t,n,i,a)=>{const r=ci(e,t);return await r.trade(n,a,i)}),[e,t,n,i,a]))(e,t,n,i,a):void 0===a?Zt(e,t,n,i):(async(e,t,n,i,a)=>{const{router:r,pToken:s}=W(t),o=ht(e,r),l=ft(e,t),p=wt(e,s),[u,y]=await Promise.all([l.getParameters(),p.getPositions(n)]),{minInitialMarginRatio:c,minPoolMarginRatio:m}=u,b=K(t),T=await p.getMargins(n);let g=[];for(let d=0;d<b.length;d++)g.push(l.getBToken(b[d]));const f=await Promise.all(g),h=f.reduce(((e,t,n)=>e.plus(Object(d.a)(t.price).times(t.discount).times(T[n]))),Object(d.a)(0)),v=f.reduce(((e,t)=>e.plus(Object(d.a)(t.liquidity).times(t.price).times(t.discount).plus(t.pnl))),Object(d.a)(0));let w=Y(t);g=[];for(let d=0;d<w.length;d++)g.push(l.getSymbol(w[d]));const S=await Promise.all(g);let M=S.reduce(((e,t,n)=>n===parseInt(a)?e.plus(Object(d.a)(t.price).times(t.multiplier).times(y[n].volume.plus(i)).abs()):e.plus(Object(d.a)(t.price).times(t.multiplier).times(y[n].volume).abs())),Object(d.a)(0));M=M.times(c);let k=S.reduce(((e,t,n)=>n===parseInt(a)?e.plus(Object(d.a)(t.tradersNetVolume).plus(i).times(t.price).times(t.multiplier).abs()):e.plus(Object(d.a)(t.tradersNetVolume).times(t.price).times(t.multiplier).abs())),Object(d.a)(0));k=k.times(m);const I=In(h,M,v,k);let A;if(I.success)try{A={success:!0,transaction:await o.trade(n,a,i)}}catch(O){A={success:!1,error:O}}else A={success:!1,error:I.error};return A})(e,t,n,i,a)},ea=async(e,t,n,i)=>{const a=H(t);return"v2_lite"===a?(async(e,t,n,i)=>R((async(e,t,n,i)=>{const{pToken:a}=U(t,"0","0","v2_lite"),r=Kn(e,t),s=Yn(e,a),{volume:o}=await s.getPosition(n,i);if(o.eq(0))throw new Error("no position to close");{const e=o.negated();return await r.trade(n,i,e)}}),[e,t,n,i]))(e,t,n,i):"option"===a?(async(e,t,n,i)=>R((async(e,t,n,i)=>{const{pToken:a}=U(t,"0","0","option"),r=ci(e,t),s=di(e,a),{volume:o}=await s.getPosition(n,i);if(Object(d.a)(o).eq(0))throw new Error("no position to close");{const e=Object(d.a)(o).negated().toString();return await r.trade(n,i,e)}}),[e,t,n,i]))(e,t,n,i):void 0===i?Qt(e,t,n):(async(e,t,n,i)=>{const{router:a,pToken:r}=W(t),s=ht(e,a),o=wt(e,r),{volume:l}=await o.getPosition(n,i),p=l.negated();let u;if(!l.eq(0)){try{u={success:!0,transaction:await s.trade(n,i,p)}}catch(d){u={success:!1,error:d}}return u}return u={success:!1,error:"no position to close"},u})(e,t,n,i)},ta=async(e,t,n,a)=>"v2_lite"===H(t)?ti(e,t,n,a):"option"===H(t)?(async(e,t,n,a)=>{try{let r,s=[];const o=ci(e,t),[p]=await Promise.all([Di(`${Object(l.a)(i.get())}/trade_history/${e}/${t}/${n}/${a}`),o._updateConfig()]);p&&p.success&&(r=parseInt(p.data.tradeHistoryBlock),p.data.tradeHistory&&Array.isArray(p.data.tradeHistory)&&(s=p.data.tradeHistory));const u=o.activeSymbols;if(s.length>0&&(s=s.filter((e=>e)).map((e=>{const t=u.findIndex((e=>e.symbolId===a));return{direction:e.direction.trim(),baseToken:e.baseToken.trim(),symbolId:e.symbolId,symbol:e.symbol,price:Object(d.d)(e.price).toString(),notional:Object(d.d)(e.notional).toString(),volume:Object(d.d)(e.volume).times(u[t].multiplier).toString(),transactionFee:Object(d.d)(e.transactionFee).toString(),transactionHash:e.transactionHash,time:e.time.toString()}}))),0!==r){const[i]=await Promise.all([Fi(e,t,n,a,r+1)]);return i.concat(s).sort(((e,t)=>parseInt(t.time)-parseInt(e.time)))}{const{initialBlock:i}=U(t,void 0,a,"option");r=parseInt(i);const[s]=await Promise.all([Fi(e,t,n,a,r+1)]);return s.sort(((e,t)=>parseInt(t.time)-parseInt(e.time)))}}catch(r){console.log(`getTradeHistory(${e}, ${t}, ${n}, ${a}): ${r}`)}return[]})(e,t,n,a):void 0===a?(async(e,t,n)=>{let i,a,r;const s=await wn(`${vn()}/trade_history/${e}/${t}/${n}`);if(s&&s.success&&(i=parseInt(s.data.tradeHistoryBlock),a=parseInt(s.data.liquidateHistoryBlock),r=s.data.tradeHistory),r=r.filter((e=>e)).map((e=>({direction:e.direction.trim(),baseToken:e.baseToken.trim(),price:Object(d.d)(e.price).toString(),notional:Object(d.d)(e.notional).toString(),volume:Object(d.d)(e.volume).toString(),transactionFee:Object(d.d)(e.transactionFee).toString(),transactionHash:e.transactionHash,time:e.time.toString()}))),0!==i&&0!==a){const[s,o]=await Promise.all([fn(e,t,n,i+1),hn(e,t,n,a+1)]);return s.concat(o).concat(r).sort(((e,t)=>parseInt(t.time)-parseInt(e.time)))}{const{initialBlock:r}=ie(e,t);i=parseInt(r),a=parseInt(r);const[s,o]=await Promise.all([fn(e,t,n,i+1),hn(e,t,n,a+1)]);return s.concat(o).sort(((e,t)=>parseInt(t.time)-parseInt(e.time)))}})(e,t,n):Ln(e,t,n,a)},131:function(e,t,n){"use strict";var i=n(2),a=n.n(i),r=n(134),s=n.n(r),o=n(37),l=n(13);t.a=e=>{const t=document.getElementById("root"),n={overlay:{position:"fixed",zIndex:10,background:"rgb(0 0 0 / 0.5)"},content:{position:"absolute",border:0,background:"none",inset:0,overflow:"initial"}};class i extends a.a.Component{constructor(e){super(e),this.state={modalIsOpen:!1}}render(){const{modalIsOpen:i,className:a,overlay:r={}}=this.props,o=Object.assign(n.overlay,{...r}),p=Object.assign(n,{overlay:o});return Object(l.jsx)(s.a,{isOpen:i,style:p,appElement:t,portalClassName:this.props.intl.locale,children:Object(l.jsx)("div",{className:a,children:Object(l.jsx)(e,{...this.props,className:a,onClose:this.props.onClose})})})}}return Object(o.b)("intl")(Object(o.c)(i))}},133:function(e,t,n){"use strict";var i=n(131),a=(n(260),n(13));t.a=Object(i.a)((()=>Object(a.jsx)("div",{className:"loading-mask",children:Object(a.jsx)("div",{className:"snippet","data-title":".dot-pulse",children:Object(a.jsx)("div",{className:"stage",children:Object(a.jsx)("div",{className:"dot-pulse"})})})})))},22:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o})),n.d(t,"n",(function(){return l})),n.d(t,"o",(function(){return p})),n.d(t,"g",(function(){return u})),n.d(t,"v",(function(){return d})),n.d(t,"t",(function(){return y})),n.d(t,"k",(function(){return c})),n.d(t,"i",(function(){return m})),n.d(t,"j",(function(){return b})),n.d(t,"d",(function(){return T})),n.d(t,"p",(function(){return g})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"q",(function(){return v})),n.d(t,"f",(function(){return w})),n.d(t,"r",(function(){return S})),n.d(t,"l",(function(){return M})),n.d(t,"m",(function(){return k})),n.d(t,"b",(function(){return I})),n.d(t,"h",(function(){return A})),n.d(t,"u",(function(){return O})),n.d(t,"s",(function(){return P}));var i=n(18),a=n.n(i),r=n(27),s=n.n(r);s.a.config({DECIMAL_PLACES:18,ROUNDING_MODE:s.a.ROUND_DOWN,EXPONENTIAL_AT:256});const o=(e,t=0)=>0===t?s()(e):t>0?s()(e).times(s()(`1${"0".repeat(t)}`)):s()(e).div(s()(`1${"0".repeat(-t)}`)),l=(e,t)=>e.gte(t)?e:t,p=(e,t)=>e.lte(t)?e:t,u=(e,t="ether")=>a.a.utils.fromWei(e,t),d=(e,t="ether")=>a.a.utils.toWei(e,t),y=e=>a.a.utils.toChecksumAddress(e),c=e=>a.a.utils.hexToUtf8(e),m=e=>a.a.utils.hexToNumber(e),b=e=>a.a.utils.hexToNumberString(e),T=e=>o(e,-18),g=e=>o(e,18).toFixed(0),f=e=>o(e).toString(),h=e=>1===o(e).toNumber(),v=e=>`${o(e).sd(4).times(100).toFixed(4).toString()}%`,w=e=>e.toFormat().replaceAll(",","").toString(),S=e=>a.a.utils.numberToHex(e),M=()=>"undefined"!==typeof window&&"undefined"!==typeof window.document,k=()=>"undefined"!==typeof window&&navigator.userAgent.includes("jsdom"),I=e=>{if("object"===typeof(t=e)&&null!==t){let t={};return Object.keys(e).forEach((n=>{/^\d/.test(n)||(t[n]=e[n])})),t}return e;var t},A=(e,t=[])=>Object.keys(e).reduce(((n,i)=>(t.includes(i)?n[i]=u(e[i]):n[i]=e[i],n)),{}),O=(e,t=[])=>Object.keys(e).reduce(((n,i)=>(t.includes(i)?n[i]=o(e[i]).toNumber():n[i]=e[i],n)),{}),P=e=>{const t=e.map((e=>e.symbol)).map((e=>e.split("-"))),n=(e,t,n)=>n.indexOf(e)===t,i=e=>e<10?`0${e}`:e,a=t.map((e=>e[0])).filter(n),r=t.map((e=>e[2])).filter(n),s=t.map((e=>e[1])).filter(n).sort(((e,t)=>parseInt(e)-parseInt(t)));return e.map(((e,n)=>{const o=a.indexOf(t[n][0])+1,l=i(r.indexOf(t[n][2])+1),p=i(s.indexOf(t[n][1])+1);return e.index=parseInt(`${o}${l}${p}`),e})).sort(((e,t)=>e.index-t.index)).map((e=>(delete e.index,e)))}}).call(this,n(14))},233:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(1),a=n(11);class r{constructor(){this.all=[],Object(i.o)(this,{all:i.p,setAll:i.f})}load(e,t){let n=e&&e.current;t&&(n="option");let i=Object(a.l)(a.a.get(),n);return t&&(i=Object(a.X)(i)),!t&&e&&(i=i.filter((t=>t.version===e.current)),e.isV2&&(i=i.reduce(((e,t)=>(-1===e.findIndex((e=>e.symbol===t.symbol&&e.pool===t.pool))&&e.push(t),e)),[]))),this.setAll(i),this.all}setAll(e){this.all=e}}},25:function(e,t,n){"use strict";var i=n(1);t.a=new class{constructor(){this.current=null,Object(i.n)(this,{current:i.p,setCurrent:i.f,isOption:i.g,isFuture:i.g})}setCurrent(e){this.current=e}get isOption(){return"option"===this.current}get isFuture(){return"future"===this.current}}},260:function(e,t,n){},262:function(e,t,n){},274:function(e,t){},28:function(e,t,n){"use strict";var i=n(1);n(29);t.a=new class{constructor(){this.current=null,Object(i.n)(this,{current:i.p,setCurrent:i.f,isV1:i.g,isV2:i.g,isV2Lite:i.g})}setCurrent(e){this.current=e}switch(){"v1"===this.current?this.setCurrent("v2"):this.setCurrent("v1")}get isV1(){return"v1"===this.current}get isV2(){return"v2"===this.current}get isV2Lite(){return"v2_lite"===this.current}}},29:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return u})),n.d(t,"k",(function(){return d})),n.d(t,"l",(function(){return y})),n.d(t,"j",(function(){return c})),n.d(t,"o",(function(){return b})),n.d(t,"f",(function(){return T})),n.d(t,"n",(function(){return g})),n.d(t,"p",(function(){return f})),n.d(t,"m",(function(){return h})),n.d(t,"a",(function(){return v})),n.d(t,"i",(function(){return w})),n.d(t,"h",(function(){return S})),n.d(t,"g",(function(){return M})),n.d(t,"q",(function(){return k}));var i=n(27),a=n.n(i),r=n(28),s=n(25);function o(e,t=0){return 0==t?a()(e):t>0?a()(e).times(a()("1"+"0".repeat(t))):a()(e).div(a()("1"+"0".repeat(-t)))}function l(e){return e&&`${e.substr(0,6)}...${e.substr(-4)}`}function p(e){return e&&(+e).toFixed(4)}function u(e,t){return+e===+t}function d(e){return"0xc2EdaD668740f1aA35E4D8f227fB8E17dcA888Cd"===e||"0x73feaa1eE314F8c655E354234017bE2193C9E24E"===e}function y(e){return"0xc2EdaD668740f1aA35E4D8f227fB8E17dcA888Cd"===e}function c(e){return"0x73feaa1eE314F8c655E354234017bE2193C9E24E"===e}function m(e){return`${e}-current-trading-pool`}function b(e,t){if(t){const n=m(e);sessionStorage.setItem(n,JSON.stringify(t))}}function T(e){return JSON.parse(sessionStorage.getItem(m(e)))}function g(e){sessionStorage.setItem("current-chain",JSON.stringify(e))}function f(e){sessionStorage.setItem("current-locale",e)}function h(){return sessionStorage.getItem("current-locale")}function v(e,t,n=window.location.href){const i=new URL(n);return i.searchParams.has(e)?i.searchParams.set(e,t):i.searchParams.append(e,t),i.toString()}function w(e,t=window.location.href){return new URL(t).searchParams.has(e)}function S(e,t=window.location.href){return new URL(t).searchParams.get(e)}function M(e){const t=JSON.parse(sessionStorage.getItem("current-chain"))||{code:""};return s.a.isOption&&(e=-1!==e.indexOf("-MARKPRICE")?e.substr(0,e.indexOf("-MARKPRICE")):e.split("-")[0]),r.a.isV2||r.a.isV2Lite||s.a.isOption?`${e}_V2_${t?t.code.toUpperCase():"BSC"}`:e}function k(e){return e?(/-/.test(e)&&(e=e.split("-")[0]),e):e}},297:function(e,t){},299:function(e,t){},313:function(e,t){},314:function(e,t){},366:function(e,t){},368:function(e,t){},400:function(e,t){},405:function(e,t){},407:function(e,t){},414:function(e,t){},427:function(e,t){},445:function(e,t){},456:function(e,t){},459:function(e,t){},526:function(e,t,n){var i={"./de/Signin.json":527,"./de/bridge.json":528,"./de/broker.json":529,"./de/dip-history.json":530,"./de/footer.json":531,"./de/governance.json":532,"./de/header.json":533,"./de/home.json":534,"./de/lite.json":535,"./de/mining.json":536,"./de/mobile-lite.json":537,"./de/pro.json":538,"./de/team.json":539,"./en/Signin.json":540,"./en/bridge.json":541,"./en/broker.json":542,"./en/dip-history.json":543,"./en/footer.json":544,"./en/governance.json":545,"./en/header.json":546,"./en/home.json":547,"./en/lite.json":548,"./en/mining.json":549,"./en/mobile-lite.json":550,"./en/pro.json":551,"./en/team.json":552,"./zh/Signin.json":553,"./zh/bridge.json":554,"./zh/broker.json":555,"./zh/dip-history.json":556,"./zh/footer.json":557,"./zh/governance.json":558,"./zh/header.json":559,"./zh/home.json":560,"./zh/lite.json":561,"./zh/mining.json":562,"./zh/mobile-lite.json":563,"./zh/pro.json":564,"./zh/team.json":565};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id=526},527:function(e){e.exports=JSON.parse('{"title-one":"Pr\xe4mienpool:\xa0","title-num":" $100,000","title-two":" in DERI ","title-three":"Stempeln & Gewinnen","title-five":"Anl\xe4sslich des Hinzuf\xfcgens von WBNB und CAKE als Basis-Token f\xfcr Deri auf der Binance Smart Chain (BSC), veranstaltet Deri Protocol ein Promotion-Event mit Pr\xe4mien im Wert von 100.000 $ in DERI","title-frou":"Zeit: Vom 14. Juli 10:00 Uhr bis 31. Juli 10:00 Uhr UTC","header":"SCHRITTE","sign-in":"STEMPELN","trade":"HANDELN","claim-ptoken":"Beanspruche Ptoken","go-trade":"Jetzt handeln","approve":"GENEHMIGEN","less-bnb":"Weniger BNB als mindestens erforderlich","use-a-new-address":"Verwenden Sie eine neue Adresse, um teilzunehmen, danke!","already-stamped-today":"Heute bereits gestempelt","claim":"BEANSPRUCHEN","pending":"AUSSTEHEND...","activity-ends":"AKTIVIT\xc4TS ENDS","exceed-participants":"Nur die ersten 5.000 neuen Adressen k\xf6nnen den Ptoken beanspruchen","approve-failed":"Genehmigen fehlgeschlagen","claim-failed":"Beanspruchung fehlgeschlagen","claim-success":"Sie haben Ihr Ptoken erfolgreich beansprucht!","sign-in-failed":"STEMPELN fehlgeschlagen","connect-wallet":"WALLET VERBINDEN","who-are-eligibles":"Detaillierte Regeln","please-switch-to-bsc":"Bitte wechseln Sie zur BSC","rules-two":"- BNB-Mindestguthaben erforderlich: mehr als 0,2 BNB","rules-one":"- Diese Aktion gilt nicht f\xfcr Adressen, die vor dem 14. Juli 2021, 10:00 Uhr, auf Deri Protocol gehandelt haben","rules-three":"- Benutzer, die alle Aufgaben erf\xfcllen, sind berechtigt, einen Anteil des Preispools von $100.000 zu gewinnen","how-to-participate":"Wie Sie teilnehmen","step-one":"Schritt 1: Klicken Sie dreimal auf die Schaltfl\xe4che \'STEMPEL\'. Beachten Sie, dass die Schaltfl\xe4che \'STEMPEL\' nur einmal pro Tag angeklickt werden kann","step-two":"Schritt 2:  Genehmigen Sie Ihre Wallet auf Deri Protocol, sobald Sie das \'STEMPELN\' drei mal durchgef\xfchrt haben","step-three":"Schritt 3: Klicken Sie auf die Schaltfl\xe4che \'BEANSPRUICHEN\', um den Deri Position Token zu erhalten. Nur die ersten 5.000 neuen Adressen k\xf6nnen den Ptoken beanspruchen","step-four":"Schritt 4: Schlie\xdfen Sie mindestens drei Trades auf Deri Protocol","description":"Alle Benutzer, die den Stempel vervollst\xe4ndigen, haben Anspruch auf einen Anteil des 100.000 USDT-Preispools, w\xe4hrend nur die ersten 5.000 Teilnehmer Deri Ptoken . beanspruchen k\xf6nnen"}')},528:function(e){e.exports=JSON.parse('{"bridge":"BR\xdcCKE","asset":"Verm\xf6genswert","deri":"DERI","from":"Von","to":"Zu","bsc":"BSC","bsc-testnet":"BSC-Testnet","heco":"HECO","heco-testnet":"HECO-Testnet","ethereum":"Ethereum","ropsten":"Ropsten","amount":"Betrag","send":"SENDEN","claim":"BEANSPRUCHEN","connect-wallet":"Wallet Verbinden","approve":"FREIGEBEN","connected":"Verbunden","unconnected":"Nicht Verbunden","sending-deri-to-wormhole":"Sende DERI an Wurmloch ...","processing":"Prozessieren...","finished":"abgeschlossen","this-step-do-not-close":"Dieser Schritt dauert mehrere oder \xfcber 10 Minuten. Schlie\xdfen Sie diese Seite nicht...","waiting-for-bridge-to-sign":"Warten auf Signierung der Br\xfccke","bridge-signed":"Br\xfccke signiert.","send-finished-one":"Wechseln Sie Ihr Wallet Netzwerk auf","send-finished-two":"um Ihr DERI zu beanspruchen.","claim-deri-ing":"Beanspruche DERI ...","waiting-for-bridge-to-sync":"Warten auf Synchronisierung der Br\xfccke...","done":"Erledigt!","back":"ZUR\xdcCK","pending":"AUSSTEHEND","bridge-to-polygon":"Br\xfccke zum Polygon","approve-faild":"Genehmigung fehlgeschlagen","claim-faild":"Beanspruche fehlgeschlagen","amount-must-be-greater-than-zero":"Betrag muss gr\xf6\xdfer als Null sein","there-is-not-enough-amount":"Der Betrag ist nicht ausreichend"}')},529:function(e){e.exports=JSON.parse('{"title-one":"Brokerage Mining","title-two":"Freunde einladen, DERI verdienen","rewards":"BELOHNUNGEN","your-rewards":"IHRE BELOHNUNGEN","invute-friends":"Freunde einladen","bind-address":"Adresse binden","earn-deri":"DERI verdienen","become-broker":"Werde Broker","detailed-rules":"Detaillierte Regeln","my-harvest":"MEINE ERTR\xc4GE","claimed-deri":"Beanspruchte DERI","unclaimed-deri":"Unbeanspruchte DERI","my-trading-volume-in-current-hour":"Meine Brokerage-Ertr\xe4ge im aktuellen Zyklus (gesch.)","time-invited":"Zeit Eingeladen","friends-add":"Adre. des Freundes","contract-vol":"Handelsvol","deri-minted":"Belohnung","page":"Seite","your-deri-is-on":"Ihr Deri ist auf dem","connect-to":". Verbinden mit","to-claim":"zu beanspruchen .","no-deri-to-claim":"Es gibt keine DERI zu beanspruchen","claiming-DERI-is-disabled-during-first-30-minutes-of-each-epoch":"Die Beanspruchung von DERI ist w\xe4hrend der ersten 30 Minuten eiens jeden Zyklus nicht m\xf6glich.","claim-failed":"Beanspruchung nicht m\xf6glich","of":"von","bind":"BINDEN","claim":"BEANSPRUCHEN","pending":"AUSSTEHEND","address":"Adresse","bind-faild":"Binden fehlgeschlagen","h":"h","m":"m","s":"s","current-epoch-remaining-time":"Verbleibende Zeit des aktuellen Zyklus","please-enter-a-correct-address":"Bitte geben Sie eine korrekte Adresse ein","brokder-addr-cannot-be-the-same-as-trader":"Die Adresse des Brokers kann nicht mit der des Traders \xfcbereinstimmen","please-enter-address":"Bitte Adresse eingeben","cannot-bind-twice":"Keine doppelte Bindung m\xf6glich","your-total-claimed-deri-title":"Ihre insgesamt beanspruchten DERI = Brokerage Mining + Liquidit\xe4ts-Mining, falls vorhanden","your-total-unclaimed-deri-title":"Ihre insgesamt nicht beanspruchten DERI = Brokerage Mining + Liquidit\xe4ts-Mining, falls vorhanden","brokers-address":"BROKER\'S ADRESSE "}')},530:function(e){e.exports=JSON.parse('{"governance-title":"DIP1: Bitte stimmen Sie f\xfcr eine der folgenden Optionen:","governance-options-one":"Die Mitbeteiligung von DERI-Inhabern an den Transaktionsgeb\xfchren :","governance-options-one-describe":"20 % der Transaktionsgeb\xfchren flie\xdfen in einen Pool, in dem man DERI staken kann, um xDERI zu erhalten. xDERI-Inhaber teilen sich die Einnahmen aus dem Pool der Transaktionsgeb\xfchren.","governance-options-two":"DERI mit Einnahmen aus Transaktionsgeb\xfchren zur\xfcckkaufen","governance-options-two-describe":"20% der Transaktionsgeb\xfchr flie\xdfen in einen DAO Fond, der regelm\xe4\xdfig DERI vom sekund\xe4ren Markt zur\xfcckkauft und anschlie\xdfend diese verbrennt (sie werden recycelt, um wieder gemint zu werden).","governance-options-three":"Status quo beibehalten","vote":"ABSTIMMEN","voting-ended":"Abstimmung beendet","your-vote":"Deine Abstimmung","your-voting-power":"Ihr Stimmrechtsanteil","voting-rules":"Abstimmungsregeln","vote-rules-one":"Ihr Stimmrechtsanteil ist Ihr DERI-Saldo + der entsprechende DERI-Anteil Ihres DERI-USDT SLP-Saldos auf Sushiswap zum Stichtag. Die genaue Formel lautet","vote-rules-two":"Sie k\xf6nnen eine der 3 Blockchains (ETH/BSC/HECO) ausw\xe4hlen, um Ihre Stimmabgabe bis zum Ablauf der Frist zu best\xe4tigen.","vote-rules-three":" Abstimmungsfrist = 2021 March 19th 4:00:00AM UTC","vote-rules-four":"Es wird eine Bestandsaufnahme des Blocks zum Stichtag durchgef\xfchrt und f\xfcr die Berechnung des Wahlergebnisses herangezogen. Das hei\xdft, wenn Sie vor dem Stichtag abstimmen, aber Ihr DERI oder SLP vor dem Stichtag transferiert haben, z\xe4hlt nur der verf\xfcgbare Saldo zum Stichtag."}')},531:function(e){e.exports=JSON.parse('{"app":"App","docs":"Docs","team":"Team","faq":"FAQ","visit-us-on":"Besuche uns auf","deri-protocol":"Deri Protocol","unsupported-chain-id":"Nicht unterst\xfctzte Netzwerk-ID"}')},532:function(e){e.exports=JSON.parse('{"governance-title":"Meme-Coin-Index Inklusions Abstimmung","governance-describe":"Der Deri Protocol Meme Coin Index (iMEME) ist nun handelbar! DERI-Inhabern wird es nun erm\xf6glicht durch eine Abstimmung zu entscheiden, welcher Coin erg\xe4nzend dem iMEME Index hinzugef\xfcgt wird.","opction-title":"Stimmen Sie bitte f\xfcr eine der folgenden Meme-Coins ab:","wallet-balance":"Wallet Guthaben","amount":"Betrag","approve":"GENEHMIGEN","vote":"ABSTIMMEN","vote-rules":"ABSTIMMUNGSREGELN","vote-rules-one":"Jeder DERI stellt eine Wahlstimme dar. Es gibt keine Begrenzung hinsichtlich der Stimmenzahl","vote-rules-two":"Der beliebteste Meme-Coin wird in den Meme-Coin-Index aufgenommen.","vote-rules-three":"Sie k\xf6nnen eine der 3 Blockchains (ETH/BSC/HECO) ausw\xe4hlen, um Ihre Stimmabgabe bis zum Ablauf der Frist zu best\xe4tigen.","vote-rules-four":"Abstimmungszeitraum von 10:00 May 22, 2021 bis 10:00 May 27, 2021 (UTC)","all-the-deri-co-wi-be-re-to-be-min-again":"Alle DERIs werden recycelt und k\xf6nnen wieder gemint werden.","dip-list":"DIP Liste","dip-list-title":"DIP steht f\xfcr Deri Protocol Improvement Proposal (Vorschl\xe4ge zur Verbesserung des Deri Protocols.)","dip-list-dip1":"DIP1","dip":"DIP","detail":"Detail"}')},533:function(e){e.exports=JSON.parse('{"mining":"Minen","trade":"Trade","options":"Options","governance":"Governance","bridge":"Br\xfccke","docs":"Docs","more":"Mehr","broker":"Brokerage Mining","broker-bind":"Broker Binden","signin":"Aktivit\xe4tszentrum","retired-pools":"Inaktive Pools","deri-token":"Zeichen","team":"Team","faq":"FAQ","code-audit":"Auditberichte","github":"Github","guide":"Anleitung","whitepaper":"Whitepaper","use-deri":"BENUTZE DERI","unsupported-chain-id":"Nicht unterst\xfctzte Netzwerk-ID","connect-wallet":"Wallet Verbinden","select-network":"Netzwerk ausw\xe4hlen"}')},534:function(e){e.exports=JSON.parse('{"the":"THE","defi-way":"DEFI ART","the-deri-token":"DAS DERI-TOKEN","add-deri-to-matemask":"DERI zu Metamask hinzuf\xfcgen","buy-deri":"DERI KAUFEN","price":"PREIS","market-cap":"MARKTKAPITALISIERUNG (IM UMLAUF)","circulating-supply":"UMLAUFVERSORGUNG","total-supply":"GESAMTVERSORGUNG","to-trade-derivatives":"UM DERIVATE ZU HANDELN","deri-protocol":"DERI Protocol","deri-describe":"ist ein dezentrales Protokoll zum pr\xe4zisen und kapitaleffizienten Austausch von Risikopositionen.","we-are-on":"Wir sind auf","logo-download":"LOGO-Download","sushi":"SUSHI","and":"und","pancake":"PANCAKE","read-our":"Lies unseren","whitepaper":"Whitepaper","and-peckshield":"und ","audit-report":"Auditbericht","defining-features":"DEFINIERENDE MERKMALE","completely-on-chain":"Vollst\xe4ndig On-Chain","ex-me-fu-im-wi-eth-sm-con":"Der Tauschmechanismus ist vollst\xe4ndig in Ethereum-Smart-Contracts implementiert","real-derivatives":"Echte Derivate","get-ri-ex-pr-and-cap-eff":"Erfassen Sie Risikopositionen pr\xe4zise und kapitaleffizient","composability":"Kompatibilit\xe4t","ri-ex-to-as-nft-to-be-ut-as-le-bl":"Risikopositionen, die als NFTs tokenisiert werden und \xe4hnlich wie Bausteine nutzbar sind","eth-bsc-heco":"ETH + BSC + HECO","three-chains-one-ecosystem":"Drei Blockchains, ein \xd6kosystem","roles-in-deri":"SCHL\xdcSSELAKTEURE IN DERI","liquidity-providers":"Liquidit\xe4tsgeber","liquidity-providers-roles":"Liquidit\xe4tsgeber stellen den Pools Liquidit\xe4t zur Verf\xfcgung, um Transaktionsgeb\xfchren, F\xf6rdergeb\xfchren und DERI-Pr\xe4mien usw. einzunehmen.","traders":"Trader","traders-roles":"Mit Deri Protocol k\xf6nnen Trader die gew\xfcnschte Risikoposition pr\xe4zise und kapitaleffizient akquirieren.","arbitragers":"Arbitrageure","arbitragers-roles":"Arbitrageure sind eine spezielle Gruppe von Tradern, die mittels einer zu verdienen F\xf6rdergeb\xfchr dazu angeregt werden, die beiden Seiten von Long- und Short-Positionen auszugleichen.","position-liquidators":"Position Liquidatoren","position-liquidators-roles":"Positionen, die ihre Liquidationsgrenze \xfcberschreiten, werden von Positionsliquidatoren liquidiert, die die verbleibende Marge der Position als Belohnung teilen.","investors":"INVESTOREN","partners":"PARTNER"}')},535:function(e){e.exports=JSON.parse('{"lite":"LITE","pro":"PRO","trade":"HANDELN","long-buy":"LONG / KAUFEN","long":"LONG","short-sell":"SHORT / VERKAUFEN","call":"Call","put":"Put","short":"SHORT","no-data":"Keine Daten","current-position":"Aktuelle Position","contract-volume":"Kontraktmenge","index-price":"Indexpreis","funding-rate-annual":"Finanzierungsrate T\xe4glich","funding-rate":"Funding Rate","funding-rate-d":"Acc\'d Delta Funding","funding-rate-p":"Acc\'d Premium Funding","delta":"delta","premium":"premium","balance-in-contract":"Saldo im Kontrakt","dynamic-balance":"Dynamischer Saldo","margin":"Margin","available-balance":"Verf\xfcgbares Guthaben","available-balance-title":"Dynamisch effektiver Saldo - Margin Total gehalten","dynamic-effective-balance":"Dynamisch effektiver Saldo","dynamic-effective-balance-title":"Disagio Margin + Unrealisierter PnL","total-held":"Total gehalten","total-held-title":"Margin gehalten in allen Positionen","for-this-pos":"f\xfcr diese Pos","for-this-pos-title":"Margin gehalten in dieser Position","contract-info":"KONTRAKT INFO","base-token":"Basis Token","symbol":"Symbol","multiplier":"Multiplikator","funding-rate-coefficient":"Finanzierungsrate Koeffizient","delta-funding-coefficient":"Delta Funding Coefficient","min-initial-margin-ratio":"Min Ersteinschussquote","initial-margin-ratio":"Ersteinschussquote","min-maintenance-margin-ratio":"Min Erhaltungsmarginquote","maintenance-margin-ratio":"Erhaltungsmarginquote","time-value":"Time Value","underlier":"Underlier","strike":"Strike","option-type":"Option Type","transaction-fee":"Transaktionsgeb\xfchr","enter-volume":"VOLUMEN EINGEBEN","approve":"GENEHMIGEN","approve-failed":"GENEHMIGUNG FEHLGESCHLAGEN","connect-wallet":"WALLET VERBINDEN","pool-liquidity":"Pool-Liquidit\xe4t","liquidity-used":"Genutzte Liquidit\xe4t","eo-mark-price":"Option Mark Price","mark-price":"Mark Price","trade-price":"Trade Price (estimated)","funding-rate-impact":"Auswirkung der Finanzierungsrate","funding-rate-delta-impact":"Delta Funding Daily Impact","no-margin-tip":"Sie haben kein Guthaben im Kontrakt.\xa0Zahlen Sie bitte zuerst ein.","not-enough-margin-tip":"Das Handelsvolumen \xfcbersteigt das Leverage-Limit. Bitte mehr Guthaben einzahlen","the-notional-value-of":"The notional value of one contract is","confirm":"BEST\xc4TIGEN","of-contracts":"von Kontrakten","position-after-execution":"Position nach Ausf\xfchrung","trade-price-estimated":"Handelspreis (gesch\xe4tzt)","leverage-after-execution":"Hebelwirkung nach Ausf\xfchrung","cancel":"ABBRECHEN","ok":"OK","vol":"VOL","deposit":"EINZAHLUNG","balance-in-contract-uppercase":"SALDO IM KONTRAKT","wallet-balance":"Wallet Guthaben","add":"Hinzuf\xfcgen","remove":"Entfernen","deposit-margin":"MARGIN EINZAHLEN","max":"max","max-add":"max","add-all":"ALLES HINZUF\xdcGEN","amount":"Betrag","add-margin":"Margin hinzuf\xfcgen","remove-margin":"Margin entfernen","insufficient-balance-in-wallet":"Unzureichendes Guthaben in der Wallet","deposit-failed":"Einzahlung fehlgeschlagen","withdraw-margin":"MARGIN ABHEBEN","withdraw":"ABHEBEN","remove-all":"ALLES ENTFERNEN","under-margin":"unter margin","it-has-to-be-greater-than-zero-tip":"Der Wert muss gr\xf6\xdfer als Null sein","my-position":"MEINE POSITION","position":"POSITION","close":"Schlie\xdfen","average-entry-price":"Durchschn. Einstiegspreis","detail":"Detail","direction":"Richtung","unrealized-pnl":"Nicht realisierter PnL","liquidation-price":"Liquidationspreis","liquidation-failed":"Liquidation fehlgeschlagen","close-position-failed":"Position schlie\xdfen fehlgeschlagen","history":"HISTORIE","volume-price":"Volumen @ Preis","notional":"Fiktiv","contract-value":"Option Value","liquidation":"LIQUIDATION","time":"Zeit","price":"Preis","volume":"Volumen","pending":"AUSSTEHEND","in-the-money-initial":"In-the-money: Initial Margin Ratio","out-of-money-initial":"Out-of-money: Initial Margin Ratio","in-the-money-maintenance":"In-the-money: Initial Margin Ratio","out-of-money-maintenance":"Out-of-money: Initial Margin Ratio","in-max":"max","otm-ratio-initial":"\u2217(1\u22123\u2217OTM_Ratio), 0.01","otm-ratio-maintenance":"\u2217(1\u22123\u2217OTM_Ratio), 0.005","otm-ratio-max":"OTM_Ratio=max((strike \u2212 spot)/strike, 0), for call options; max((spot \u2212 strike)/strike, 0), for put options","funding-rate-delta-tip":"Delta Funding Fee","funding-rate-premium-tip":"Premium Funding Fee","funding-rate-per-block":"Finanzierungsrate (pro block)","1-long-contract-pays-1-short-contract":"1 long-Kontrakt zahlt 1 Short-Kontrakt","index-price-camelize":"Indexpreis","per-block":"pro block","per-second":"per second","per-day":"per day ","funding-fee":"Anf. Finanz.","funding-fee-tip":"+: Der Pool schuldet Ihnen \\n -: Sie schulden dem Pool","multiplier-tip":"Der Multiplikator ist das effektive Verh\xe4ltnis des als Sicherheit verwendeten Margin-Tokens (umgerechnet in den effektiven Saldo).\\nBeispiel: Wenn Sie 1 B1-Token als Margin buchen und der Multiplikator 0,8 betr\xe4gt, dann ist die effektive Margin 0,8","main-zone":"Main","premium-tip":"The funding fee that a long contract pays a short contract as option premium","delta-tip":"The funding that the majority side pays the minority side due to long/short imbalance","innovation-zone":"Inno"}')},536:function(e){e.exports=JSON.parse('{"pool-liq":"Pool Liq","total":"total","symbol":"Symbol","all":"all","futures":"futures","options":"options","retired-text":"Es gibt keine Mining-Ertr\xe4ge mehr aus diesen Pools. Bitte entfernen Sie Ihre Liquidit\xe4t und \xfcbertragen Sie sie auf die ","new-pools":" neue Pools","premining-pools":"Premining Pools","retired-pools":"Inaktive Pools","apy":"APY","deri-apy":"DERI-APY","sushi-apy":"SUSHI-APY","cake-apy":"CAKE-APY","address":"Adresse","staking":"STAKING","premining-finished":"Die Premining phase ist beendet. Bitte unstaken Sie ihre Liquidit\xe4t aus den Premining-Pools","my-liquidity-providing-harvest-in-current-epoch":"Meine Liquidit\xe4tsertr\xe4ge im aktuellen Zyklus","my-trading-harvest-in-current-epoch":"Meine Tradingertr\xe4ge im aktuellen Zyklus","current-epoch-remaining-time":"Verbleibende Zeit des aktuellen Zyklus","my-harvest-in-current-epoch-estimated":"Meine Ertr\xe4ge im aktuellen Zyklus (gesch\xe4tzt)","my-trading-harvest-in-current-epoch-Est":" Meine Tradingertr\xe4ge im aktuellen Zyklus (gesch.)","deri":"DERI","h":"h","m":"m","s":"s","claimed-deri":"Beanspruchte DERI","unclaimed-deri":"Unbeanspruchte DERI","your-deri-is-on":"Ihr Deri ist auf dem","connect-to":". Verbinden mit","to-claim":"zu beanspruchen .","claim":"BEANSPRUCHEN","no-deri-to-claim":"Es gibt keine DERI zu beanspruchen","no-deri-to-claim-yet":"Sorry, es gibt derzeit keine DERI zu beanspruchen","please-switch-to-BSC-to-claim-deri":"Bitte wechseln Sie zur BSC, um DERI zu beanspruchen","claiming-DERI-is-disabled-during-first-30-minutes-of-each-epoch":"Die Beanspruchung von DERI ist w\xe4hrend der ersten 30 Minuten eiens jeden Zyklus nicht m\xf6glich.","claim-failed":"Beanspruchung nicht m\xf6glich","liquidity-mining":"LIQUIDITY MINING","provide":"Bereitstellen","earn-deri":"Verdiene DERI","pool-total-liquidity":"Pool Gesamtliquidit\xe4t","my-liquidity-pencentage":"Mein Liquidit\xe4tsanteil","my-liquidity":"Meine Liquidit\xe4t","mining-pnl":"Mining Pnl","add-liquidity":"LIQUIDIT\xc4T HINZUF\xdcGEN","remove-liquidity":"LIQUIDIT\xc4T ENTFERNEN","staked-balance":"Gestaktes Guthaben","liquidity-share-value":"Liquidit\xe4t Anteilswert","connect-wallet":"Wallet verbinden","wrong-network":"Falsches Netzwerk","approve":"GENEHMIGEN","approve-failed":"GENEHMIGUNG fehlgeschlagen","trading-mining":"HANDELN MINING","trade-to-earn-deri":"Handel, um DERI zu verdienen","total-trading-volume-in-current-hour":"Gesamtes Handelsvolumen in der aktuellen Stunde","my-trading-volume-in-current-hour":"Mein Handelsvolumen in der aktuellen Stunde","trade":"HANDELN","wallet-balance":"Wallet Guthaben","liquidity":"LIQUIDIT\xc4T","liquidity-available":"Liquidit\xe4t Anteile","max":"MAX","add-all":"ALLES HINZUF\xdcGEN","add":"HINZUF\xdcGEN","not-sufficient-funds":"kein ausreichendes Guthaben","the-input-liquidity-shall-not-be-less-than":"Die eingegebene Liquidit\xe4t darf nicht kleiner sein als","it-has-to-be-greater-than-zero":"Sie muss gr\xf6\xdfer als Null sein","failure-of-transaction":"Transaktionsfehler","shares-available":"Verf\xfcgbare Anteile","liquidity-shares":"LIQUIDIT\xc4TSANTEILE","shares":"Anteile","max-removeable":"MAX ENTFERNBAR","remove-all":"ALLES ENTFERNEN","remove":"ENTFERNEN","pending":"AUSSTEHEND","your-current-max-removable-shares-are":"Ihre aktuellen max entfernbaren Anteile sind","staking-max-limit-tip":"Es ist nicht erlaubt, einen Stakingsaldo von weniger als 1 zu hinterlegen. Bitte klicken Sie auf \\"MAX\\" um alles zu entfernen, wenn Sie Ihre gesamte Liquidit\xe4t abheben m\xf6chten.","invalid-liquidity":"Ung\xfcltige Liquidit\xe4t!","multiplier":"Multiplikator","multiplier-tip":"Der Multiplikator ist das effektive Verh\xe4ltnis f\xfcr die im Liquidit\xe4tsmining bereitgestellte  Liquidit\xe4t.\\nZum Beispiel\uff1aBereitstellung von 1 B1-Token f\xfcr Liquidit\xe4tsmining, wenn der Multiplikator von B1 0,8 ist, dann ist der effektive Wert f\xfcr das Mining 0,8","v2_lite":"Inno","option":"OPT","v2":"Main"}')},537:function(e){e.exports=JSON.parse('{"balance-in-contract":"Saldo im Kontrakt","dynamic-balance":"Dyn Sal","available-balance":"Verf\xfcg. Guth.","dynamic-effective-balance":"Dyn.Eff.Sal","transaction-fee":"Geb\xfchr","my-position":"POSITION","base-token":"B Token","wallet-balance":"Wal. Guth","index":"Index","funding":"Funding"}')},538:function(e){e.exports=JSON.parse('{"total-net-position":"Net Position gesamt","min":"Min","hour":"Std.","day":"Tag","week":"Woche","current-position":"AKTUELLE POSITION","trade-history":"TRADING-HISTORIE","pool-total-liquidity":"Pool Gesamtliquidit\xe4t","funding-rate-delta":"Delta Funding Daily","funding-rate-premium":"Premium Funding Daily","position-info":"POSITION INFO"}')},539:function(e){e.exports=JSON.parse('{"team":"TEAM","deri-protocol":"DERI Protocol","team-describe":"Deri Protocol wird von Defi Factory entwickelt, einem Team von Experten aus den Bereichen Finanzwesen, Mathematik und Informatik. Die Kernmitglieder sind promovierte Wissenschaftler und kommen aus dem Derivatebereich der Wall Street. Das Team verf\xfcgt \xfcber tiefgreifende Erfahrungen im Bereich Preisbildung/Handel/Strukturierung von Derivaten. Die Teammitglieder sind seit mehreren Jahren im Kryptohandel und in der Solidity-Programmierung aktiv.","ceo":"0xAlpha","co-founder-and-ceo":"Mitgr\xfcnder und CEO","ceo-school":"Physik B. Sc. von der Peking Universit\xe4t, Physik PhD von der Rice Universit\xe4t","ceo-worked":"Berufserfahrung an der Wall Street im Bereich Preisgestaltung/Handel/Strukturierung/Risikomanagement von Derivaten bei der Deutschen Bank, HBK Hedgefonds und Goldman Sachs","ceo-worked-one":"Berufserfahrung an der Wall Street im Bereich","ceo-worked-two":"Preisgestaltung/Handel/Strukturierung","ceo-worked-three":"/Risikomanagement von Derivaten bei der Deutschen Bank, HBK Hedgefonds und Goldman Sachs","c-f-a-qu-he-fund-fo-on-tr-and-cr-de":"Mitbegr\xfcnder eines quantitativen Hedgefonds mit Schwerpunkt auf tranditionellen und Krypto-Derivaten","ceo-twitter":"Twitter","cto":"Richard","co-founder-and-cto":"Mitgr\xfcnder und CTO","cto-school":"Physik B. Sc. von der Peking Universit\xe4t, Physik PhD von der CUNY","cto-worked":"Ehemaliger Leiter der Strategieabteilung des quantitativen Handels, verantwortlich f\xfcr die Strategieentwicklung des Hochfrequenzhandels, Momentum-Trading & statistische Arbitrage","cto-good-at-language":"Experte f\xfcr die Entwicklung von Finanzsystemen in C++/Python","cto-ex-of-so-vy-pr-and-sm-con-dev":"Experte f\xfcr Solidity/Vyper-Programmierung und Smart-Contract-Entwicklung","jason":"Jason","jason-school":"Informatik B. Sc. von der Universit\xe4t von Washington","jason-worked":"Ehemaliger Software-Ingenieur bei Amazon, AMD","jason-er-inv":"Fr\xfcher Krypto-Anleger","jason-co-fo-of-a-cr-ma-se-ag":"Mitbegr\xfcnder einer Krypto-Marketing-Service-Agentur","janice":"Janice","janice-school":"Bachelor of Management von der Shanghai Universit\xe4t f\xfcr Finanzen und Wirtschaft","janice-degree":"Master of Management von der Shanghai Universit\xe4t f\xfcr Finanzen und Wirtschaft","janice-worked":"Arbeitete 11 Jahre lang f\xfcr PwC China als Senior Managerin im Bereich Risikomanagement","janice-t-and-ha-ye-ex-at-ve-op":"Zweieinhalb Jahre Berufserfahrung bei VeChain Operation"}')},540:function(e){e.exports=JSON.parse('{"title-one":"Reward Pool:\xa0","title-num":" $100,000","title-two":" in DERI ","title-three":"Stamp & Win  ","title-five":"In celebration of adding WBNB and CAKE as Deri\'s base tokens on Binance Smart Chain (BSC), Deri Protocol rolls out this promotional event with rewards worth $100,000 in DERI ","title-frou":"Time: From July 14th, 10:00 AM to July 31st, 10:00 AM UTC","header":"STEPS","sign-in":"STAMP","trade":"TRADE","claim-ptoken":"Claim Ptoken","go-trade":"Go Trade","approve":"APPROVE","less-bnb":"Less BNB than the minimum requirement","use-a-new-address":"Use a new address to participate, thanks!","already-stamped-today":"Already stamped today","claim":"CLAIM","pending":"PENDING...","activity-ends":"ACTIVITY ENDS","exceed-participants":"More than 5000 addresses completed all three \'STAMP\'","approve-failed":"Approve failed","claim-failed":"Claim failed","claim-success":"You have successfully claimed your Ptoken!","sign-in-failed":"Stamp failed","connect-wallet":"CONNECT WALLET","who-are-eligibles":"Detailed Rules","please-switch-to-bsc":"Please switch to BSC","rules-two":"- Minimum BNB balance requirement: more than 0.2 BNB","rules-one":"- This promotion does not apply to any addresses interacted with Deri Protocol before July 14th, 10:00 AM, 2021","rules-three":"- Users who complete all the tasks will be eligible to win a share of the $100,000 prize pool","how-to-participate":"How to Participate","step-one":"Step 1: Click the \'STAMP\' button three times. Notably, the \'STAMP\' button can only be clicked once a day","step-two":"Step 2: Approve your wallet on Deri Protocol when you have completed all three \'STAMP\'","step-three":"Step 3:Click the \'CLAIM\' button to get Deri Position token. Only the first 5,000 new addresses can claim the Ptoken.","step-four":"Step 4: Complete at least three trades on Deri Protocol","description":"All users who complete the stamp will be eligible to win a share of the 100,000 USDT prize pool, while only the first 5,000 participants can claim Deri Ptoken"}')},541:function(e){e.exports=JSON.parse('{"bridge":"BRIDGE","asset":"Asset","deri":"DERI","from":"From","to":"To","bsc":"BSC","bsc-testnet":"BSC-Testnet","heco":"HECO","heco-testnet":"HECO-Testnet","ethereum":"Ethereum","ropsten":"Ropsten","amount":"Amount","send":"SEND","claim":"CLAIM","connect-wallet":"Connect Wallet","approve":"APPROVE","connected":"Connected","unconnected":"Unconnected","sending-deri-to-wormhole":"Sending DERI to wormhole ...","processing":"processing...","finished":"finished","this-step-do-not-close":"This step takes several or over 10 minutes. Do not close this page...","waiting-for-bridge-to-sign":"Waiting for bridge to sign ...","bridge-signed":"Bridge signed.","send-finished-one":"Please switch your wallet network to","send-finished-two":"to claim your DERI.","claim-deri-ing":"Claiming DERI ...","waiting-for-bridge-to-sync":"Waiting for Bridge to sync ..","done":"Done!","back":"BACK","pending":"PENDING","approve-faild":"Approve faild","claim-faild":"Claim faild","bridge-to-polygon":"Bridge to Polygon","amount-must-be-greater-than-zero":"Amount must be greater than zero","there-is-not-enough-amount":"There is not enough Amount"}')},542:function(e){e.exports=JSON.parse('{"title-one":"Brokerage Mining","title-two":"Invite Friends, Earn DERI","rewards":"REWARDS","your-rewards":"YOUR RANKING","invute-friends":"Invite Friends","bind-address":"Bind Address","earn-deri":"Earn DERI","become-broker":"Become Broker","detailed-rules":"Detailed Rules","my-harvest":"MY HARVEST","claimed-deri":"Claimed DERI ","unclaimed-deri":"Unclaimed DERI","my-trading-volume-in-current-hour":"My Brokerage Harvest in Current Epoch (Est)","time-invited":"Invitation Time","friends-add":"Friend\u2019s Addr","contract-vol":"Trading Vol","deri-minted":"Reward","page":"Page","your-deri-is-on":"Your DERI is on ","connect-to":". Connect to","to-claim":"to claim .","no-deri-to-claim":"No DERI to claim","claiming-DERI-is-disabled-during-first-30-minutes-of-each-epoch":"Claiming DERI is disabled during first 30 minutes of each epoch","claim-failed":"Claim failed","of":"of","bind":"BIND","claim":"CLAIM","pending":"PENDING","address":"Address","bind-faild":"Bind faild","h":"h","m":"m","s":"s","current-epoch-remaining-time":"Current Epoch Remaining Time","please-enter-a-correct-address":"Please enter a correct address","brokder-addr-cannot-be-the-same-as-trader":"Brokder address cannot be the same as trader\'s","please-enter-address":"Please enter address","cannot-bind-twice":"Cannot bind twice","your-total-claimed-deri-title":"Your total claimed DERI = brokerage mining + liquidity mining, if any","your-total-unclaimed-deri-title":"Your total unclaimed DERI = brokerage mining + liquidity mining, if any","brokers-address":"BROKER\u2019S ADDRESS "}')},543:function(e){e.exports=JSON.parse('{"governance-title":"DIP1: Please vote for one of the following options:","governance-options-one":"Share transaction fee with the DERI holders:","governance-options-one-describe":"20% of the transaction fee will be put into a pool, in which one can stake DERI to get xDERI. xDERI holders will share the transaction fee income of the pool.","governance-options-two":"Buy back DERI with transaction fee income:","governance-options-two-describe":"20% of the transaction fee will be put into a DAO fund, which is to regularly buy back DERI from secondary market and burned (i.e. recycled to be mined again).","governance-options-three":"Keep the status quo","vote":"VOTE","voting-ended":"Voting ended","your-vote":"Your vote","your-voting-power":"Your voting power","voting-rules":"Voting rules","vote-rules-one":"Your voting power is your DERI balance + the corresponding DERI amount of your DERI-USDT SLP balance on Sushiswap as of the deadline. The precise formula is","vote-rules-one-describe":"Voting Power = balanceOf(DERI) + balanceOf(DERI-USDT SLP) * totalDERIonSushi / totalSupply(DERI-USDT SLP)","vote-rules-two":"You can choose any of the 3 chains (ETH/BSC/HECO) to sign your vote by the deadline","vote-rules-three":" Voting Deadline = 2021 March 19th 4:00:00AM UTC","vote-rules-four":"A snapshot will be taken at the block at deadline and used to calculate the result. That is, if you vote before the deadline but have transferred your DERI or SLP before deadline, it is the balance at the deadline that counts."}')},544:function(e){e.exports=JSON.parse('{"app":"App","docs":"Docs","team":"Team","faq":"FAQ","visit-us-on":"Visit us on","deri-protocol":"Deri Protocol","unsupported-chain-id":"Unsupported Chain ID","connect-wallet":"Connect Wallet"}')},545:function(e){e.exports=JSON.parse('{"governance-title":"Meme Coin Index Inclusion Voting","governance-describe":"As the DERI PROTOCOL Meme Coin Index (iMEME) is now live, Meme coin index inclusion voting which allows DERI holders to vote on new additions of the iMEME has kicked off based on feedback from the whole community.","opction-title":"For this kick off round, Please vote for one for the following Meme coins:","wallet-balance":"Wallet Balance","amount":"Amount","approve":"APPROVE","vote":"VOTE","vote-rules":"Voting rules","vote-rules-one":"One DERI one vote, you can input the vote number as you want.","vote-rules-two":"The most popular meme coin will be added to the Meme Coin Index.","vote-rules-three":"You can choose any of the 3 chains (ETH/BSC/HECO) to sign your vote by the deadline","vote-rules-four":"Voting Period from 10:00 May 22, 2021 to 10:00:00 May 27, 2021 (UTC)","all-the-deri-co-wi-be-re-to-be-min-again":"All the DERI collected will be recycled to be mined again.","dip-list":"DIP List","dip-list-title":"DIP stands for Deri Protocol Improvement Proposal.","dip-list-dip1":"DIP1","dip":"DIP","detail":"Detail"}')},546:function(e){e.exports=JSON.parse('{"mining":"Pools","trade":"Futures","options":"Options","governance":"Governance","bridge":"Bridge","docs":"Docs","more":"More","broker":" Brokerage Mining","broker-bind":"Bind Broker","signin":"Promotional Events","retired-pools":"Retired Pools","deri-token":"Token","team":"Team","faq":"FAQ","code-audit":"Code Audit","github":"Github","guide":"Guide","whitepaper":"Whitepaper","use-deri":"USE DERI","unsupported-chain-id":"Unsupported Chain ID","connect-wallet":"Connect Wallet","select-network":"Select Network"}')},547:function(e){e.exports=JSON.parse('{"the":"THE","defi-way":"DEFI WAY","the-deri-token":"THE DERI TOKEN","add-deri-to-matemask":"Add DERI To Metamask","buy-deri":"BUY DERI","price":"PRICE","market-cap":"MARKET CAP (CIRCULATING)","circulating-supply":"CIRCULATING SUPPLY","total-supply":"TOTAL SUPPLY","to-trade-derivatives":"TO TRADE DERIVATIVES","deri-protocol":"DERI Protocol","logo-download":"LOGO Download","deri-describe":"is a decentralized protocol to exchange risk exposures precisely and capital-efficiently.","we-are-on":"We are on","sushi":"SUSHI","and":"and","pancake":"PANCAKE","read-our":"Read our","whitepaper":"Whitepaper","and-peckshield":"and ","audit-report":"Audit Reports","defining-features":"DEFINING FEATURES","completely-on-chain":"Completely On-Chain","ex-me-fu-im-wi-eth-sm-con":"Exchanging mechanism fully implemented within Ethereum smart contracts","real-derivatives":"Real Derivatives","get-ri-ex-pr-and-cap-eff":"Get risk exposures precisely and capital-efficiently","composability":"Composability","ri-ex-to-as-nft-to-be-ut-as-le-bl":"Risk exposures tokenized as NFTs to be utilized as lego blocks","eth-bsc-heco":"ETH + BSC + HECO","three-chains-one-ecosystem":"Three chains, one ecosystem","roles-in-deri":"ROLES IN DERI","liquidity-providers":"Liquidity Providers","liquidity-providers-roles":"Liquidity providers provide liquidity to the pools to gain transaction fee, funding fee and DERI award etc.","traders":"Traders","traders-roles":"With Deri Protocol, traders are able to acquire the targeted risk exposures precisely and capital-efficiently.","arbitragers":"Arbitragers","arbitragers-roles":"Arbitragers are a special type of traders induced by funding fee arbitrage to balance the two sides of long and short positions.","position-liquidators":"Position Liquidators","position-liquidators-roles":"Positions touching their liquidation lines are liquidated by Position Liquidators, who share the positions\' remaining margin as reward.","investors":"INVESTORS","partners":"PARTNERS"}')},548:function(e){e.exports=JSON.parse('{"lite":"LITE","pro":"PRO","trade":"TRADE","long-buy":"LONG / BUY","long":"LONG","short-sell":"SHORT / SELL","call":"Call","put":"Put","short":"SHORT","no-data":"No Data","current-position":"Current Position","contract-volume":"Contract Volume","option-input":"Quantity","index-price":"Index Price","min-trade-volume":"Min Trade Volume","funding-rate-annual":"Funding Rate Daily","funding-rate":"Funding Fee Daily","funding-rate-d":"Acc\'d Delta Funding","funding-rate-p":"Acc\'d Premium Funding","delta":"delta","premium":"premium","balance-in-contract":"Balance in Contract","dynamic-balance":"Dynamic Balance","margin":"Margin Held","available-balance":"Available Balance","available-balance-title":"Dynamic Effective Bal - Margin Total Held","dynamic-effective-balance":"Dyn Effective Bal","dynamic-effective-balance-title":"Total Discounted Margin + Unrealized PnL","total-held":"total held","total-held-title":"Margin held by all positions","for-this-pos":"for this pos","for-this-pos-title":"Margin held by this position","contract-info":"CONTRACT INFO","base-token":"Base Token","symbol":"Symbol","multiplier":"Multiplier","funding-rate-coefficient":"Funding Rate Coefficient","delta-funding-coefficient":"Delta Funding Coefficient","min-initial-margin-ratio":"Min Initial Margin Ratio","initial-margin-ratio":"Initial Margin Ratio","min-maintenance-margin-ratio":"Min Maintenance Margin Ratio","maintenance-margin-ratio":"Maintenance Margin Ratio","time-value":"Time Value","underlier":"Underlier","strike":"Strike","option-type":"Option Type","transaction-fee":"Transaction Fee","enter-volume":"ENTER VOLUME","approve":"APPROVE","approve-failed":"Approve failed","connect-wallet":"CONNECT WALLET","pool-liquidity":"Pool Liquidity","liquidity-used":"Liquidity Used","eo-mark-price":"Option Mark Price","mark-price":"Mark Price","trade-price":"Trade Price (estimated)","funding-rate-impact":"Funding Rate Impact","funding-rate-delta-impact":"Delta Funding Daily Impact","no-margin-tip":"You\xa0have\xa0no\xa0fund\xa0in\xa0contract.\xa0Please\xa0deposit\xa0first.","not-enough-margin-tip":"Trading volume exceeds leverage limit. Please deposit more fund.","the-notional-value-of":"The notional value of one contract is","confirm":"CONFIRM","of-contracts":"of Contracts","position-after-execution":"Position after execution","trade-price-estimated":"Trade Price (estimated)","leverage-after-execution":"Leverage after execution","cancel":"CANCEL","ok":"OK","vol":"VOL","deposit":"DEPOSIT","balance-in-contract-uppercase":"BALANCE IN CONTRACT","wallet-balance":"Wallet Balance","add":"Add","remove":"Remove","deposit-margin":"DEPOSIT MARGIN","max":"MAX","max-add":"MAX","add-all":"ADD ALL","amount":"Amount","add-margin":"add margin","remove-margin":"remove margin","insufficient-balance-in-wallet":"Insufficient balance in wallet","deposit-failed":"Deposit failed","withdraw-margin":"WITHDRAW MARGIN","withdraw":"WITHDRAW","remove-all":"REMOVE ALL","under-margin":"under margin","it-has-to-be-greater-than-zero-tip":"It has to be greater than zero","my-position":"MY POSITION","position":"Position","close":"close","average-entry-price":"Avg Entry Price","detail":"Detail","direction":"Direction","unrealized-pnl":"Unrealized Pnl","liquidation-price":"Liq Price","liquidation-failed":"Liquidation failed","close-position-failed":"Close position failed","history":"HISTORY","volume-price":"Volume @ Price","volume-notional-price":"Volume ( Notional ) @ Price","notional":"Notional","contract-value":"Option Value","liquidation":"LIQUIDATION","time":"Time","price":"Price","volume":"Volume","pending":"PENDING","in-the-money-initial":"In-the-money: Initial Margin Ratio","out-of-money-initial":"Out-of-money: Initial Margin Ratio","in-the-money-maintenance":"In-the-money: Maintenance Margin Ratio","out-of-money-maintenance":"Out-of-money: Maintenance Margin Ratio","in-max":"max","otm-ratio-initial":"\u2217(1\u22123\u2217OTM_Ratio),","otm-ratio-maintenance":"\u2217(1\u22123\u2217OTM_Ratio),","otm-ratio-max":"OTM_Ratio=max((strike \u2212 spot)/strike, 0), for call options; max((spot \u2212 strike)/strike, 0), for put options","funding-rate-delta-tip":"Delta Funding Fee","funding-rate-premium-tip":"Premium Funding Fee","funding-rate-per-block":"Funding Rate (per block)","1-long-contract-pays-1-short-contract":"1 long contract pays 1 short contract","index-price-camelize":"IndexPrice","per-block":"per block","per-second":"per second","per-day":"per day","funding-fee":"Acc\'d Funding","funding-fee-tip":"+: the pool owes you\\n-: you owe the pool","multiplier-tip":"The multiplier is the effective ratio of the margin token used as collateral (converted into effective balance).\\nFor example: posting 1 B1 token as margin, if the multiplier is 0.8, then the effective margin is 0.8","main-zone":"Main","premium-tip":"The funding fee that a long contract pays a short contract as option premium","delta-tip":"The funding that the majority side pays the minority side due to long/short imbalance","innovation-zone":"Inno"}')},549:function(e){e.exports=JSON.parse('{"pool-liq":"Pool Liq","total":"total","symbol":"Symbol","all":"all","futures":"futures","options":"options","retired-text":"There is no longer mining harvest from these pools. Please unstake your liquidity and stake into ","new-pools":" new pools.","retired-pools":"Retired Pools","premining-pools":"Premining Pools","apy":"APY","deri-apy":"DERI-APY","sushi-apy":"SUSHI-APY","cake-apy":"CAKE-APY","address":"Address","staking":"STAKING","premining-finished":"Premining is finished. Please unstake from premining pools.","my-liquidity-providing-harvest-in-current-epoch":"My Liquidity-Providing Harvest in Current Epoch","my-trading-harvest-in-current-epoch":"My Trading Harvest in Current Epoch","current-epoch-remaining-time":"Current Epoch Remaining Time","my-harvest-in-current-epoch-estimated":"My Harvest in Current Epoch (estimated)","my-trading-harvest-in-current-epoch-Est":" My Trading Harvest in Current Epoch (Est)","deri":"DERI","h":"h","m":"m","s":"s","claimed-deri":"Claimed DERI","unclaimed-deri":"Unclaimed DERI","your-deri-is-on":"Your DERI is on ","connect-to":". Connect to","to-claim":"to claim .","claim":"CLAIM","no-deri-to-claim":"No DERI to claim","no-deri-to-claim-yet":"Sorry,no DERI to claim yet","please-switch-to-BSC-to-claim-deri":"Please switch to BSC to claim DERI","claiming-DERI-is-disabled-during-first-30-minutes-of-each-epoch":"Claiming DERI is disabled during first 30 minutes of each epoch","claim-failed":"Claim failed","liquidity-mining":"LIQUIDITY MINING","provide":"Provide","earn-deri":"Earn DERI","pool-total-liquidity":"Pool Total Liquidity","my-liquidity-pencentage":"My Liquidity Pencentage","my-liquidity":"My Liquidity","mining-pnl":"Mining Pnl","add-liquidity":"ADD LIQUIDITY","remove-liquidity":"REMOVE LIQUIDITY","staked-balance":"Staked Balance","liquidity-share-value":"Liquidity Share Value","connect-wallet":"Connect Wallet","wrong-network":"Wrong Network","approve":"APPROVE","approve-failed":"Approve Failed","trading-mining":"TRADING MINING","trade-to-earn-deri":"Trade to Earn DERI","total-trading-volume-in-current-hour":"Total Trading Volume in Current Hour","my-trading-volume-in-current-hour":"My Trading Volume in Current Hour","trade":"TRADE","wallet-balance":"Wallet Balance","liquidity":"LIQUIDITY","liquidity-available":"Liquidity Available","max":"MAX","add-all":"ADD ALL","add":"ADD","not-sufficient-funds":"not sufficient funds","the-input-liquidity-shall-not-be-less-than":"The input liquidity shall not be less than","it-has-to-be-greater-than-zero":"It has to be greater than zero","failure-of-transaction":"failure of transaction","shares-available":"Shares Available","liquidity-shares":"LIQUIDITY SHARES","shares":"shares","max-removeable":"MAX REMOVEABLE","remove-all":"REMOVE ALL","remove":"REMOVE","pending":"PENDING","your-current-max-removable-shares-are":"Your current max removable shares are","staking-max-limit-tip":"Leaving staking balance of smaller than 1 is not allowed. Please click \\"MAX\\" to remove all if you are to withdraw all of your liquidity.","invalid-liquidity":"Invalid Liquidity!","multiplier":"Multiplier","multiplier-tip":"The multiplier is the effective ratio of the liquidity provided for mining.\\nFor example\uff1aproviding 1 B1 token for liquidity mining, if the multiplier of B1 is 0.8, then the effective value for mining is 0.8","v2_lite":"FUT-Inno","option":"OPT","v2":"FUT-Main"}')},550:function(e){e.exports=JSON.parse('{"balance-in-contract":"Balance in Contract","dynamic-balance":"Dyn. Bal","available-balance":"Avail. Bal","dynamic-effective-balance":"Dyn. Eff. Bal","transaction-fee":"Fee","my-position":"POSITION","index":"Index","funding":"Funding(D)","base-token":"B Token","wallet-balance":"Wal. Bal"}')},551:function(e){e.exports=JSON.parse('{"total-net-position":"Total Net Position","min":"min","hour":"hour","day":"day","week":"week","current-position":"CURRENT POSITION","trade-history":"TRADE HISTORY","pool-total-liquidity":"Pool Total Liquidity","funding-rate-delta":"Delta Funding Daily","funding-rate-premium":"Premium Funding Daily","position-info":"POSITION INFO"}')},552:function(e){e.exports=JSON.parse('{"team":"TEAM","deri-protocol":"DERI Protocol","team-describe":"Deri Protocol is designed and developed by Defi Factory, a team of experts of lfinance, math and computer science. The core members have PhD degrees in science and come from the derivative business of Wall Street. The team has in-depth experiences of derivative pricing/trading/structuring. The team members have been in the crypto trading and solidity programming for several years.","ceo":"0xAlpha","co-founder-and-ceo":"Co-founder and CEO","ceo-school":"Physics BS from Peking University, Physics PhD from Rice University","ceo-worked":"Worked in Wall Street on derivative pricing/trading/structuring/risk management in Deutsche Bank, HBK hedge fund , Goldman Sachs","ceo-worked-one":"Worked in Wall Street on derivative","ceo-worked-two":"pricing/trading/structuring/risk","ceo-worked-three":"management in Deutsche Bank, HBK hedge fund , Goldman Sachs","c-f-a-qu-he-fund-fo-on-tr-and-cr-de":"Co-founded a quantitative hedge fund focused on tranditional and crypto derivatives","ceo-twitter":"Twitter","cto":"Richard","co-founder-and-cto":"Co-founder and CTO","cto-school":"Physics BS from Peking University, Physics PhD from CUNY","cto-worked":"Former Director of Strategy of quantitative trading, in charge of strategy development of high-frequency trading, momentum trading, statistical arbitrage","cto-good-at-language":"Expert of financial system development in C++/Python","cto-ex-of-so-vy-pr-and-sm-con-dev":"Expert of solidity/vyper programming and smart contract development","jason":"Jason","jason-school":"Computer Science BS from University of Washington","jason-worked":"Former Software Engineer at Amazon, AMD","jason-er-inv":"Early crypto investor","jason-co-fo-of-a-cr-ma-se-ag":"Co-founder of a crypto marketing service agency","janice":"Janice","janice-school":"Bachelor of Management from Shanghai University of Finance and Economics","janice-degree":"Master of Management from Shanghai University of Finance and Economics","janice-worked":"Worked for PwC China as a senior manager in risk management for 11 years","janice-t-and-ha-ye-ex-at-ve-op":"Two and half year experiences at VeChain Operation"}')},553:function(e){e.exports=JSON.parse('{"title-one":"\u603b\u5956\u6c60\uff1a\u4ef7\u503c","title-num":" $100,000","title-two":" \u7684 DERI  ","title-three":"\u7b7e\u5230\u74dc\u5206\u5927\u5956\uff01","title-five":"\u4e3a\u5e86\u795d\u5728\u5e01\u5b89\u667a\u80fd\u94fe\uff08BSC\uff09\u4e0a\u6dfb\u52a0 WBNB \u548c CAKE \u4f5c\u4e3a Deri \u7684\u57fa\u7840\u4ee3\u5e01\uff0cDeri Protocol \u63a8\u51fa\u4e86\u6b64\u4fc3\u9500\u6d3b\u52a8\uff0c\u5e76\u63d0\u4f9b\u4ef7\u503c 100,000 \u7f8e\u5143\u7684 DERI","title-frou":"\u65f6\u95f4\uff1a\u5317\u4eac\u65f6\u95f42021\u5e747\u670814\u65e5\u4e0b\u53486\u70b9\u81f37\u670831\u65e5\u4e0b\u53486\u70b9","header":"\u53c2\u4e0e\u6b65\u9aa4","sign-in":"\u7b7e\u5230","trade":"\u4ea4\u6613","claim-ptoken":"\u9886\u53d6 Ptoken","approve":"\u6388\u6743","less-bnb":"BNB \u4f4e\u4e8e\u6700\u4f4e\u8981\u6c42","use-a-new-address":"\u4f7f\u7528\u65b0\u5730\u5740\u53c2\u4e0e\uff0c\u8c22\u8c22\uff01","already-stamped-today":"\u4eca\u65e5\u5df2\u7b7e\u5230","claim":"\u9886\u53d6","pending":"\u8fdb\u884c\u4e2d...","activity-ends":"\u6d3b\u52a8\u7ed3\u675f","approve-failed":"\u6388\u6743\u5931\u8d25","claim-failed":"\u9886\u53d6\u5931\u8d25","sign-in-failed":"\u7b7e\u5230\u5931\u8d25","claim-success":"\u9886\u53d6\u6210\u529f!","connect-wallet":"\u8fde\u63a5\u94b1\u5305","who-are-eligibles":"\u8be6\u7ec6\u89c4\u5219","exceed-participants":"\u5df2\u8d85\u8fc75000\u4e2a\u5730\u5740\u5b8c\u6210\u7b7e\u5230","please-switch-to-bsc":"\u8bf7\u5207\u6362\u5230BSC","rules-two":"- \u6700\u4f4e\u94b1\u5305\u4f59\u989d\u8981\u6c42\uff1a\u94b1\u5305\u5185\u6709\u8d85\u8fc70.2\u4e2aBNB","rules-one":"- \u6b64\u6d3b\u52a8\u4e0d\u9002\u7528\u4e8e\u5317\u4eac\u65f6\u95f4 2021 \u5e74 7 \u6708 14 \u65e5 \u4e0b\u53486\u70b9\u4e4b\u524d\u4e0e Deri Protocol\u53d1\u751f\u4ea4\u4e92\u7684\u4efb\u4f55\u5730\u5740","rules-three":"- \u5b8c\u6210\u6240\u6709\u4efb\u52a1\u7684\u7528\u6237\u5c06\u6709\u8d44\u683c\u5206\u4eab$100,000\u5956\u6c60 ","how-to-participate":"\u5982\u4f55\u53c2\u4e0e","step-one":"\u6b65\u9aa4 1\uff1a\u5355\u51fb\u201c\u7b7e\u5230\u201d\u6309\u94ae\u4e09\u6b21\u3002 \u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u7b7e\u5230\u6309\u94ae\u6bcf\u5929\u53ea\u80fd\u70b9\u51fb\u4e00\u6b21\u3002","step-two":"\u6b65\u9aa4 2\uff1a\u5b8c\u6210\u4e09\u6b21\u201c\u7b7e\u5230\u201d\u540e\uff0c\u5728 Deri Protocol \u4e0a\u6388\u6743\u60a8\u7684\u94b1\u5305","step-three":"\u6b65\u9aa4 3\uff1a\u70b9\u51fb\u201c\u9886\u53d6\u201d\u6309\u94ae\u83b7\u53d6 Deri Ptoken\u3002\u53ea\u6709\u524d 5,000 \u4e2a\u65b0\u5730\u5740\u53ef\u4ee5\u9886\u53d6 Ptoken","step-four":"\u6b65\u9aa4 4\uff1a\u5728 Deri \u534f\u8bae\u4e0a\u5b8c\u6210\u81f3\u5c11\u4e09\u7b14\u4ea4\u6613","description":"\u6240\u6709\u53c2\u4e0e\u5e76\u5b8c\u6210\u4e09\u6b21\u7b7e\u5230\u7684\u65b0\u7528\u6237\u90fd\u80fd\u53c2\u4e0e\u74dc\u520610\u4e07USD\u5956\u6c60\uff0c\u4f46\u53ea\u6709\u524d5000\u540d\u53c2\u4e0e\u8005\u53ef\u4ee5\u9886\u53d6Deri Ptoken"}')},554:function(e){e.exports=JSON.parse('{"bridge":"\u8de8\u94fe","asset":"\u8d44\u4ea7","deri":"DERI","from":"\u4ece","to":"\u5230","bsc":"BSC","bsc-testnet":"BSC-Testnet","heco":"HECO","heco-testnet":"HECO-Testnet","ethereum":"Ethereum","ropsten":"Ropsten","amount":"\u6570\u91cf","send":"\u53d1\u9001","claim":"\u9886\u53d6","connect-wallet":"\u8fde\u63a5\u94b1\u5305","approve":"\u6388\u6743","connected":"\u5df2\u8fde\u63a5","unconnected":"\u672a\u8fde\u63a5","sending-deri-to-wormhole":"\u5411\u866b\u6d1e\u53d1\u9001DERI ...","processing":"\u52a0\u8f7d\u4e2d...","finished":"\u5b8c\u6210","this-step-do-not-close":"\u6b64\u8fc7\u7a0b\u9700\u8981\u51e0\u5206\u949f\u6216\u8d85\u8fc710\u5206\u949f\uff0c\u8bf7\u4e0d\u8981\u5173\u95ed\u7f51\u9875...","waiting-for-bridge-to-sign":"\u7b49\u5f85\u7b7e\u540d ...","bridge-signed":"\u5df2\u7b7e\u540d.","send-finished-one":"\u8bf7\u5c06\u94b1\u5305\u7f51\u7edc\u5207\u6362\u5230","send-finished-two":"\u9886\u53d6deri.","claim-deri-ing":"\u6b63\u5728\u9886\u53d6deri...","waiting-for-bridge-to-sync":"\u7b49\u5f85\u540c\u6b65 ..","done":"\u5b8c\u6210!","back":"\u8fd4\u56de","pending":"\u8fdb\u884c\u4e2d","approve-faild":"\u6388\u6743\u5931\u8d25","claim-faild":"\u9886\u53d6\u5931\u8d25","bridge-to-polygon":"\u6865\u63a5\u5230Polygon","amount-must-be-greater-than-zero":"\u6570\u91cf\u5fc5\u987b\u5927\u4e8e0","there-is-not-enough-amount":"\u6570\u91cf\u4e0d\u8db3"}')},555:function(e){e.exports=JSON.parse('{"title-one":"\u7ecf\u7eaa\u4eba\u6316\u77ff","title-two":"\u9080\u8bf7\u4ea4\u6613 \u8d5a\u53d6DERI","rewards":"\u5956\u52b1","your-rewards":"\u4f60\u7684\u6392\u540d","invute-friends":"\u9080\u8bf7\u670b\u53cb","bind-address":"\u7ed1\u5b9a\u5730\u5740","earn-deri":"\u8d5a\u53d6DERI","become-broker":"\u6210\u4e3a\u7ecf\u7eaa\u4eba","detailed-rules":"\u5177\u4f53\u89c4\u5219","my-harvest":"\u6211\u7684\u6536\u76ca","claimed-deri":"\u5df2\u9886\u53d6 DERI","unclaimed-deri":"\u5f85\u9886\u53d6 DERI","my-trading-volume-in-current-hour":"\u7ecf\u7eaa\u4eba\u6316\u77ff\u5f53\u524d\u5468\u671f\u6536\u76ca (\u4f30\u7b97)","time-invited":"\u9080\u8bf7\u65f6\u95f4","friends-add":"\u4ea4\u6613\u5730\u5740","contract-vol":"\u5408\u7ea6\u4ea4\u6613\u91cf","deri-minted":"DERI\u5956\u52b1","page":"Page","your-deri-is-on":"\u4f60\u7684DERI\u5728 ","connect-to":"\u3002 \u8fde\u63a5\u94b1\u5305\u5230","to-claim":"\u9886\u53d6 \u3002","no-deri-to-claim":"\u6ca1\u6709\u53ef\u9886\u53d6\u7684DERI","claiming-DERI-is-disabled-during-first-30-minutes-of-each-epoch":"\u6bcf\u671f\u5f00\u59cb\u524d30\u5206\u949f\u65e0\u6cd5\u9886\u53d6DERI","claim-failed":"\u9886\u53d6\u5931\u8d25","of":"of","bind":"\u7ed1\u5b9a","claim":"\u9886\u53d6","pending":"\u8fdb\u884c\u4e2d","address":"\u5730\u5740","bind-faild":"\u7ed1\u5b9a\u5931\u8d25","h":"h","m":"m","s":"s","current-epoch-remaining-time":"\u5f53\u524d\u6316\u77ff\u5468\u671f\u5269\u4f59\u65f6\u95f4","please-enter-a-correct-address":"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u5730\u5740","brokder-addr-cannot-be-the-same-as-trader":"\u4e0d\u80fd\u4e0e\u4ea4\u6613\u5730\u5740\u4e3a\u540c\u4e00\u5730\u5740","cannot-bind-twice":"\u4e0d\u80fd\u91cd\u590d\u7ed1\u5b9a","please-enter-address":"\u8bf7\u8f93\u5165\u5730\u5740","your-total-claimed-deri-title":"\u5df2\u9886\u53d6DERI\u603b\u91cf(\u5305\u542b\u7ecf\u7eaa\u4eba\u6316\u77ff+\u6d41\u52a8\u6027\u6316\u77ff)","your-total-unclaimed-deri-title":"\u672a\u9886\u53d6DERI\u603b\u91cf(\u5305\u542b\u7ecf\u7eaa\u4eba\u6316\u77ff+\u6d41\u52a8\u6027\u6316\u77ff)","brokers-address":"\u7ecf\u7eaa\u4eba\u5730\u5740"}')},556:function(e){e.exports=JSON.parse('{"governance-title":"DIP1\uff1a\u8bf7\u5bf9\u4ee5\u4e0b\u9009\u9879\u8fdb\u884c\u6295\u7968\uff1a","governance-options-one":"\u4e0eDERI\u6301\u6709\u8005\u5171\u4eab\u4ea4\u6613\u8d39","governance-options-one-describe":"20%\u7684\u4ea4\u6613\u8d39\u7528\u5c06\u88ab\u653e\u5165\u4e00\u4e2a\u6c60\u4e2d\uff0c\u5728\u6b64\u6c60\u4e2d\u7528\u6237\u53ef\u4ee5\u8d28\u62bcDERI\u83b7\u5f97xDERI\u3002xDERI\u6301\u6709\u8005\u5c06\u5206\u4eab\u6c60\u7684\u4ea4\u6613\u8d39\u7528\u6536\u5165\u3002","governance-options-two":"\u4ee5\u4ea4\u6613\u8d39\u6536\u5165\u56de\u8d2dDERI","governance-options-two-describe":"20%\u7684\u4ea4\u6613\u8d39\u7528\u5c06\u6295\u5165\u5230DAO\u57fa\u91d1\u4e2d\uff0c\u7528\u4e8e\u5b9a\u671f\u4ece\u4e8c\u7ea7\u5e02\u573a\u56de\u8d2d\u5e76\u9500\u6bc1DERI\uff08\u5373\u56de\u6536\u518d\u5f00\u91c7\uff09\u3002","governance-options-three":"\u6295\u7968\u60c5\u51b5","vote":"\u6295\u7968","voting-ended":"\u6295\u7968\u7ed3\u675f","your-vote":"\u4f60\u7684\u6295\u7968","your-voting-power":"\u4f60\u7684\u6295\u7968\u529b","voting-rules":"\u6295\u7968\u89c4\u5219","vote-rules-one":"\u6295\u7968\u529b\u662fDERI\u4f59\u989d+\u622a\u6b62\u65e5\u671fSushiswap\u4e0aDERI-USDT SLP\u4f59\u989d\u7684\u76f8\u5e94DERI\u91d1\u989d\u3002\u7cbe\u786e\u516c\u5f0f\u4e3a\uff1a","vote-rules-one-describe":"\u6295\u7968\u529b=\u4f59\u989d\uff08DERI\uff09+\u4f59\u989d\uff08DERI-USDT SLP\uff09*Sushi\u603bDERI/\u603b\u4f9b\u5e94\uff08DERI-USDT SLP\uff09","vote-rules-two":"\u5728\u622a\u6b62\u65e5\u671f\u524d\uff0c\u53ef\u4efb\u9009\u4e09\u4e2a\u94fe\uff08ETH/BSC/HECO\uff09\u4e2d\u7684\u4e00\u4e2a\u6765\u7b7e\u7f72\u6295\u7968\u3002","vote-rules-three":" \u6295\u7968\u622a\u6b62\u65f6\u95f4\uff1a\u5317\u4eac\u65f6\u95f42021\u5e743\u670819\u65e512:00:00","vote-rules-four":"\u5c4a\u65f6\u5c06\u5728\u5757\u4e0a\u53d6\u7167\u5e76\u7528\u4e8e\u8ba1\u7b97\u7ed3\u679c\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u4f60\u5728\u622a\u6b62\u65e5\u671f\u4e4b\u524d\u6295\u7968\uff0c\u4f46\u662f\u5728\u622a\u6b62\u65e5\u671f\u4e4b\u524d\u8f6c\u79fb\u4e86\u4f60\u7684DERI\u6216SLP\uff0c\u90a3\u4e48\u622a\u6b62\u65e5\u671f\u7684\u4f59\u989d\u624d\u7b97\u7ed3\u679c\u3002"}')},557:function(e){e.exports=JSON.parse('{"app":"\u5e94\u7528","docs":"\u6587\u6863","team":"\u56e2\u961f","faq":"FAQ","visit-us-on":"\u8054\u7cfb\u6211\u4eec","deri-protocol":"Deri Protocol","unsupported-chain-id":"\u4e0d\u652f\u6301\u7f51\u7edcID"}')},558:function(e){e.exports=JSON.parse('{"governance-title":"MemeCoin\u6307\u6570\u521b\u5efa\u5e01\u79cd\u6536\u5f55\u6295\u7968","governance-describe":"\u968f\u7740DERI\u534f\u8baeMemeCoin\u6307\u6570 (iMEME)\u7684\u4e0a\u7ebf, \u6839\u636e\u6574\u4e2a\u793e\u533a\u7684\u53cd\u9988,MemeCoin\u6307\u6570\u521b\u5efa\u5e01\u79cd\u6536\u5f55\u6295\u7968\u5df2\u542f\u52a8.DERI\u6301\u6709\u8005\u53ef\u5bf9iMEME\u65b0\u6dfb\u52a0\u7684\u5e01\u79cd\u8fdb\u884c\u6295\u7968.","opction-title":"\u8bf7\u4e3a\u4ee5\u4e0bMeme\u5e01\u6295\u4e00\u7968:","wallet-balance":"\u94b1\u5305\u4f59\u989d","amount":"\u6570\u91cf","approve":"\u6388\u6743","vote":"\u6295\u7968","vote-rules":"\u6295\u7968\u89c4\u5219","vote-rules-one":"\u4e00\u4e2aDERI\u4e00\u7968\uff0c\u8f93\u5165\u60f3\u6295\u7968\u7684\u53f7\u7801\u3002","vote-rules-two":"\u6295\u7968\u6700\u591a\u7684meme\u5e01\u5c06\u7eb3\u5165Meme\u8d27\u5e01\u6307\u6570\u3002","vote-rules-three":"\u5728\u622a\u6b62\u65e5\u671f\u524d\uff0c\u53ef\u4efb\u9009\u4e09\u4e2a\u94fe\uff08ETH/BSC/HECO\uff09\u4e2d\u7684\u4e00\u4e2a\u6765\u7b7e\u7f72\u6295\u7968\u3002","vote-rules-four":"\u6295\u7968\u65f6\u95f4\uff1a2021\u5e745\u670822\u65e518:00\u81f32021\u5e745\u670827\u65e518:00:00\uff08\u5317\u4eac\u65f6\u95f4\uff09","all-the-deri-co-wi-be-re-to-be-min-again":"\u6240\u6709\u6295\u7968\u6240\u7528DERI\u5c06\u88ab\u56de\u6536\u518d\u5f00\u91c7\u3002","dip-list":"DIP\u5217\u8868","dip-list-title":"DIP\u8868\u793aDeri\u534f\u8bae\u6539\u8fdb\u63d0\u6848","dip-list-dip1":"DIP1","dip":"DIP","detail":"\u8be6\u60c5"}')},559:function(e){e.exports=JSON.parse('{"mining":"\u77ff\u6c60","trade":"\u671f\u8d27","options":"\u671f\u6743","governance":"\u6cbb\u7406","bridge":"\u8de8\u94fe","docs":"\u6587\u6863","more":"\u66f4\u591a","broker":"\u7ecf\u7eaa\u4eba\u6316\u77ff","broker-bind":"\u7ed1\u5b9a\u7ecf\u7eaa\u4eba","signin":"\u6d3b\u52a8\u4e2d\u5fc3","retired-pools":"\u9000\u5f79\u77ff\u6c60","deri-token":"\u901a\u8bc1","team":"\u56e2\u961f","faq":"FAQ","code-audit":"\u5ba1\u8ba1\u62a5\u544a","github":"Github","guide":"\u6307\u5357","whitepaper":"\u767d\u76ae\u4e66","use-deri":"\u4f7f\u7528 DERI","unsupported-chain-id":"\u4e0d\u652f\u6301\u7f51\u7edcID","connect-wallet":"\u8fde\u63a5\u94b1\u5305","select-network":"\u9009\u62e9\u7f51\u7edc"}')},560:function(e){e.exports=JSON.parse('{"the":"","defi-way":"\u7528DEFI\u7684\u65b9\u5f0f","the-deri-token":"THE DERI TOKEN","add-deri-to-matemask":"\u6dfb\u52a0 DERI \u5230 Metamask","buy-deri":"\u8d2d\u4e70 DERI","price":"\u4ef7\u683c","market-cap":"\u6d41\u901a\u5e02\u503c","circulating-supply":"\u6d41\u901a\u4f9b\u5e94\u91cf","total-supply":"\u603b\u4f9b\u5e94\u91cf","to-trade-derivatives":"\u4ea4\u6613\u884d\u751f\u54c1","deri-protocol":"DERI \u534f\u8bae","deri-describe":"\u662f\u4e00\u4e2a\u7cbe\u786e\u9ad8\u6548\u4ea4\u6613\u98ce\u9669\u66b4\u9732\u7684\u53bb\u4e2d\u5fc3\u5316\u534f\u8bae","logo-download":"\u4e0b\u8f7dLOGO","we-are-on":"Deri\u4ea4\u6613","sushi":"SUSHI","and":"\u4e0e","pancake":"PANCAKE","read-our":"\u70b9\u6b64\u9605\u8bfb","whitepaper":"\u767d\u76ae\u4e66","and-peckshield":"\u4e0e ","audit-report":"\u5ba1\u8ba1\u62a5\u544a","defining-features":"\u6838\u5fc3\u7279\u5f81","completely-on-chain":"\u771f\u6b63\u7684DEFI","ex-me-fu-im-wi-eth-sm-con":"\u6240\u6709\u64cd\u4f5c\u7531\u533a\u5757\u94fe\u4e0a\u7684\u667a\u80fd\u5408\u7ea6\u5b8c\u6210","real-derivatives":"\u771f\u6b63\u7684\u884d\u751f\u54c1","get-ri-ex-pr-and-cap-eff":"\u7cbe\u786e\u9ad8\u6548\u5730\u83b7\u53d6\u98ce\u9669\u66b4\u9732","composability":"\u53ef\u7ec4\u5408\u6027","ri-ex-to-as-nft-to-be-ut-as-le-bl":"\u98ce\u9669\u66b4\u9732\u4ee3\u5e01\u5316\u4e3aNFTs\uff0c\u5b9e\u73b0DEFI\u4e50\u9ad8\u79ef\u6728","eth-bsc-heco":"ETH + BSC + HECO","three-chains-one-ecosystem":"\u4e09\u94fe\u4e00\u4f53","roles-in-deri":"DERI\u7684\u53c2\u4e0e\u8005","liquidity-providers":"\u6d41\u52a8\u6027\u63d0\u4f9b\u8005","liquidity-providers-roles":"\u6d41\u52a8\u6027\u63d0\u4f9b\u8005\u5411\u6d41\u52a8\u6027\u6c60\u63d0\u4f9b\u6d41\u52a8\u6027\uff0c\u53ef\u83b7\u5f97\u4ea4\u6613\u8d39\uff0c\u8d44\u91d1\u8d39\u548cDERI\u5956\u52b1\u7b49","traders":"\u4ea4\u6613\u8005","traders-roles":"\u5728Deri \u534f\u8bae, \u4ea4\u6613\u8005\u80fd\u591f\u7cbe\u786e\u9ad8\u6548\u5730\u83b7\u53d6\u76ee\u6807\u98ce\u9669\u66b4\u9732","arbitragers":"\u5957\u5229\u8005","arbitragers-roles":"\u5957\u5229\u8005\u662f\u4e00\u79cd\u7279\u6b8a\u7c7b\u578b\u7684\u4ea4\u6613\u8005\uff0c\u88ab\u8d44\u91d1\u8d39\u7387\u5438\u5f15\u8fdb\u884c\u5957\u5229,\u8fdb\u800c\u5e73\u8861\u591a\u7a7a\u53cc\u65b9\u7684\u5934\u5bf8\u3002","position-liquidators":"\u4ed3\u4f4d\u6e05\u7b97\u4eba","position-liquidators-roles":"\u4ed3\u4f4d\u6e05\u7b97\u4eba\u5bf9\u5230\u8fbe\u6e05\u7b97\u7ebf\u7684\u4ed3\u4f4d\u8fdb\u884c\u6e05\u7b97\uff0c\u4ed3\u4f4d\u5269\u4f59\u7684\u4fdd\u8bc1\u91d1\u4f5c\u4e3a\u5956\u52b1\u5206\u914d\u7ed9\u6e05\u7b97\u4eba\u3002","investors":"\u6295\u8d44\u4eba","partners":"\u5408\u4f5c\u4f19\u4f34"}')},561:function(e){e.exports=JSON.parse('{"lite":"\u7b80\u6613\u7248","pro":"\u4e13\u4e1a\u7248","trade":"\u4ea4\u6613","long-buy":"\u505a\u591a / \u4e70\u5165","long":"\u505a\u591a","short-sell":"\u505a\u7a7a / \u5356\u51fa","call":"\u770b\u6da8","put":"\u770b\u8dcc","short":"\u505a\u7a7a","no-data":"\u65e0\u6570\u636e","current-position":"\u5f53\u524d\u4ed3\u4f4d","contract-volume":"\u5408\u7ea6\u91cf","index-price":"\u6307\u6570\u4ef7\u683c","funding-rate-annual":"\u65e5\u8d44\u91d1\u8d39\u7387","funding-rate":"Funding Fee Daily","funding-rate-d":"Acc\'d Delta Funding","funding-rate-p":"Acc\'d Premium Funding","delta":"delta","premium":"premium","balance-in-contract":"\u5408\u7ea6\u4f59\u989d","dynamic-balance":"\u52a8\u6001\u4f59\u989d","margin":"\u4fdd\u8bc1\u91d1","available-balance":"\u53ef\u7528\u4f59\u989d","available-balance-title":"\u52a8\u6001\u6709\u6548\u4f59\u989d-\u6301\u6709\u7684\u603b\u4fdd\u8bc1\u91d1","dynamic-effective-balance":"\u52a8\u6001\u6709\u6548\u4f59\u989d","dynamic-effective-balance-title":"\u603b\u6298\u7b97\u4fdd\u8bc1\u91d1+\u672a\u5151\u73b0\u76c8\u4e8f","total-held":"\u603b\u6301\u4ed3","total-held-title":"\u5168\u90e8\u6301\u4ed3\u51bb\u7ed3\u7684\u4fdd\u8bc1\u91d1","for-this-pos":"\u672c\u4ed3\u4f4d","for-this-pos-title":"\u6301\u6709\u672c\u4ed3\u4f4d\u51bb\u7ed3\u7684\u4fdd\u8bc1\u91d1","contract-info":"\u5408\u7ea6\u4fe1\u606f","base-token":"\u672c\u4f4d\u5e01","symbol":"\u6807\u7684","multiplier":"\u5408\u7ea6\u4e58\u6570","funding-rate-coefficient":"\u8d44\u91d1\u8d39\u7387\u7cfb\u6570","delta-funding-coefficient":"Delta Funding Coefficient","min-initial-margin-ratio":"\u6700\u5c0f\u521d\u59cb\u4fdd\u8bc1\u91d1\u7387","initial-margin-ratio":"Initial Margin Ratio","min-maintenance-margin-ratio":"\u6700\u5c0f\u7ef4\u6301\u4fdd\u8bc1\u91d1\u7387","maintenance-margin-ratio":"Maintenance Margin Ratio","time-value":"Time Value","underlier":"Underlier","strike":"Strike","option-type":"Option Type","transaction-fee":"\u4ea4\u6613\u624b\u7eed\u8d39","enter-volume":"\u8f93\u5165\u5f00\u4ed3\u6570\u91cf","approve":"\u6388\u6743","approve-failed":"\u6388\u6743\u5931\u8d25","connect-wallet":"\u8fde\u63a5\u94b1\u5305","pool-liquidity":"\u6d41\u52a8\u6027\u6c60","liquidity-used":"\u6d41\u52a8\u6027\u4f7f\u7528\u7387","eo-mark-price":"Option Mark Price","mark-price":"Mark Price","trade-price":"Trade Price (estimated)","funding-rate-impact":"\u8d44\u91d1\u8d39\u7387\u7684\u5f71\u54cd","funding-rate-delta-impact":"Delta Funding Daily Impact","no-margin-tip":"\u8d26\u6237\u91cc\u8fd8\u6ca1\u6709\u8d44\u91d1\uff0c\u8bf7\u5148\u5b58\u5165\u3002","not-enough-margin-tip":"\u8d26\u6237\u8d44\u91d1\u4e0d\u8db3\uff0c\u8bf7\u5b58\u5165\u66f4\u591a\u7684\u8d44\u91d1","the-notional-value-of":"The notional value of one contract is","confirm":"\u786e\u8ba4","of-contracts":"\u5408\u7ea6\u6570\u91cf","position-after-execution":"\u4ea4\u6613\u540e\u4ed3\u4f4d","trade-price-estimated":"\u4ea4\u6613\u4ef7\u683c (\u4f30\u7b97)","leverage-after-execution":"\u4ea4\u6613\u540e\u6301\u4ed3\u6760\u6746","cancel":"\u53d6\u6d88","ok":"\u786e\u8ba4","vol":"VOL","deposit":"\u5b58\u6b3e","balance-in-contract-uppercase":"\u8d26\u6237\u4fdd\u8bc1\u91d1","wallet-balance":"\u94b1\u5305\u4f59\u989d","add":"\u6dfb\u52a0","remove":"\u79fb\u9664","deposit-margin":"\u5b58\u5165\u4fdd\u8bc1\u91d1","max":"\u6700\u5927\u53ef\u79fb\u9664","max-add":"\u6700\u5927\u53ef\u5b58\u5165","add-all":"\u6dfb\u52a0\u6240\u6709","amount":"\u6570\u91cf","add-margin":"\u6dfb\u52a0\u4fdd\u8bc1\u91d1","remove-margin":"\u79fb\u9664\u4fdd\u8bc1\u91d1","insufficient-balance-in-wallet":"\u94b1\u5305\u4f59\u989d\u4e0d\u8db3","deposit-failed":"\u5b58\u5165\u5931\u8d25","withdraw-margin":"\u63d0\u53d6\u4fdd\u8bc1\u91d1","withdraw":"\u63d0\u53d6","remove-all":"\u79fb\u9664\u6240\u6709","under-margin":"\u4fdd\u8bc1\u91d1\u4e0d\u8db3","it-has-to-be-greater-than-zero-tip":"\u5fc5\u987b\u5927\u4e8e0","my-position":"\u6211\u7684\u4ed3\u4f4d","position":"\u4ed3\u4f4d","close":"\u5e73\u4ed3","average-entry-price":"\u5f00\u4ed3\u5747\u4ef7","detail":"\u66f4\u591a","direction":"\u65b9\u5411","unrealized-pnl":"\u672a\u5151\u73b0\u76c8\u4e8f","liquidation-price":"\u6e05\u7b97\u4ef7\u683c","liquidation-failed":"\u6e05\u7b97\u5931\u8d25","close-position-failed":"\u5e73\u4ed3\u5931\u8d25","history":"\u5386\u53f2\u8bb0\u5f55","volume-price":"\u4ea4\u6613\u91cf@\u4ef7\u683c","notional":"\u5408\u7ea6\u4ef7\u503c","contract-value":"Option Value","liquidation":"\u6e05\u7b97","time":"\u65e5\u671f","price":"\u4ef7\u683c","volume":"\u4ea4\u6613\u91cf","pending":"\u8fdb\u884c\u4e2d","in-the-money-initial":"In-the-money: Initial Margin Ratio","out-of-money-initial":"Out-of-money: Initial Margin Ratio","in-the-money-maintenance":"In-the-money: Initial Margin Ratio","out-of-money-maintenance":"Out-of-money: Initial Margin Ratio","otm-ratio-initial":"\u2217(1\u22123\u2217OTM_Ratio), 0.01","otm-ratio-maintenance":"\u2217(1\u22123\u2217OTM_Ratio), 0.005","otm-ratio-max":"OTM_Ratio=max((strike \u2212 spot)/strike, 0), for call options; max((spot \u2212 strike)/strike, 0), for put options","funding-rate-delta-tip":"Delta Funding Fee","funding-rate-premium-tip":"Premium Funding Fee","funding-rate-per-block":"\u8d44\u91d1\u8d39\u7387 (\u6bcf\u4e00\u4e2a\u533a\u5757)","1-long-contract-pays-1-short-contract":"\u4e00\u624b\u505a\u591a\u7684\u5408\u7ea6\u4ed8\u7ed9\u4e00\u624b\u505a\u7a7a\u7684\u5408\u7ea6","index-price-camelize":"\u6307\u6570\u4ef7\u683c","per-block":"\u6bcf\u4e00\u4e2a\u533a\u5757","per-second":"per second","per-day":"per day","funding-fee":"\u5e94\u6536\u8d44\u91d1\u8d39","funding-fee-tip":"+: \u6d41\u52a8\u6027\u6c60\u9700\u8981\u652f\u4ed8\u7ed9\u4f60\\n-: \u4f60\u9700\u8981\u652f\u4ed8\u7ed9\u6d41\u52a8\u6027\u6c60","multiplier-tip":"\u4e58\u6570\u4ee3\u8868\u6bcf\u4e2atoken\u7528\u4f5c\u4fdd\u8bc1\u91d1\u65f6\u7684\u6298\u7b97\u6bd4\u4f8b\uff08\u7528\u4e8e\u8ba1\u7b97\u6709\u6548\u4fdd\u8bc1\u91d1\uff09\\n\u5982\uff1a\u6dfb\u52a01\u4e2aB1 toekn\u4f5c\u4e3a\u4fdd\u8bc1\u91d1\uff0c\u4e58\u6570\u4e3a0.8\uff0c\u6709\u6548\u4fdd\u8bc1\u91d1\u4e3a0.8","main-zone":"\u4e3b\u533a","premium-tip":"The funding fee that a long contract pays a short contract as option premium","delta-tip":"The funding that the majority side pays the minority side due to long/short imbalance","innovation-zone":"\u521b\u65b0\u533a"}')},562:function(e){e.exports=JSON.parse('{"pool-liq":"\u6d41\u52a8\u6027","total":"\u603b\u91cf","symbol":"\u6807\u7684","all":"all","futures":"futures","options":"options","retired-text":"\u4ee5\u4e0b\u77ff\u6c60\u5df2\u9000\u5f79\uff0c\u4e0d\u518d\u4ea7\u751f\u6316\u77ff\u6536\u76ca\u3002\u8bf7\u79fb\u9664\u60a8\u7684\u6d41\u52a8\u6027\u5e76\u5c06\u5176\u6dfb\u52a0\u81f3","new-pools":"\u65b0\u6d41\u52a8\u6027\u6c60","premining-pools":"\u9884\u6316\u77ff","retired-pools":"\u9000\u5f79\u77ff\u6c60","apy":"\u5e74\u5316\u6536\u76ca\u7387","deri-apy":"DERI-\u5e74\u5316\u6536\u76ca\u7387","sushi-apy":"SUSHI-\u5e74\u5316\u6536\u76ca\u7387","cake-apy":"CAKE-\u5e74\u5316\u6536\u76ca\u7387","address":"\u5730\u5740","staking":"\u8d28\u62bc","premining-finished":"\u9884\u6316\u77ff\u9636\u6bb5\u5df2\u7ed3\u675f\u3002\u8bf7\u53ca\u65f6\u79fb\u9664\u60a8\u7684\u6d41\u52a8\u6027","my-liquidity-providing-harvest-in-current-epoch":"\u5f53\u524d\u6d41\u52a8\u6027\u6536\u76ca","my-trading-harvest-in-current-epoch":"\u5f53\u524d\u4ea4\u6613\u6316\u77ff\u6536\u76ca","current-epoch-remaining-time":"\u5f53\u524d\u6316\u77ff\u5468\u671f\u5269\u4f59\u65f6\u95f4","my-harvest-in-current-epoch-estimated":"\u5f53\u524d\u6316\u77ff\u5468\u671f\u6536\u76ca (\u4f30\u7b97)","my-trading-harvest-in-current-epoch-Est":" \u5f53\u524d\u4ea4\u6613\u6316\u77ff\u5468\u671f\u6536\u76ca (\u4f30\u7b97)","deri":"DERI","h":"h","m":"m","s":"s","claimed-deri":"\u5df2\u9886\u53d6DERI","unclaimed-deri":"\u5f85\u9886\u53d6DERI","your-deri-is-on":"\u4f60\u7684DERI\u5728","connect-to":"\u3002 \u8fde\u63a5\u94b1\u5305\u5230","to-claim":"\u9886\u53d6 \u3002","claim":"\u9886\u53d6","no-deri-to-claim":"\u6ca1\u6709\u53ef\u9886\u53d6\u7684DERI","no-deri-to-claim-yet":"\u62b1\u6b49\uff0c\u5c1a\u65e0\u53ef\u9886\u53d6\u7684DERI","please-switch-to-BSC-to-claim-deri":"\u8bf7\u5207\u6362\u5230BSC\u9886\u53d6DERI","claiming-DERI-is-disabled-during-first-30-minutes-of-each-epoch":"\u6bcf\u671f\u5f00\u59cb\u524d30\u5206\u949f\u65e0\u6cd5\u9886\u53d6DERI","claim-failed":"\u9886\u53d6\u5931\u8d25","liquidity-mining":"\u6d41\u52a8\u6027\u6316\u77ff","provide":"\u63d0\u4f9b","earn-deri":"\u8d5a\u53d6 DERI","pool-total-liquidity":"\u6d41\u52a8\u6027\u6c60\u603b\u91cf","my-liquidity-pencentage":"\u6d41\u52a8\u6027\u5360\u6bd4","my-liquidity":"\u6211\u7684\u6d41\u52a8\u6027","mining-pnl":"\u6316\u77ff\u76c8\u4e8f","add-liquidity":"\u6dfb\u52a0\u6d41\u52a8\u6027","remove-liquidity":"\u79fb\u9664\u6d41\u52a8\u6027","staked-balance":"\u5df2\u8d28\u62bc\u4f59\u989d","liquidity-share-value":"\u6d41\u52a8\u6027\u4efd\u989d\u4ef7\u503c","connect-wallet":"\u8fde\u63a5\u94b1\u5305","wrong-network":"\u7f51\u7edc\u9519\u8bef","approve":"\u6388\u6743","approve-failed":"\u6388\u6743\u5931\u8d25","trading-mining":"\u4ea4\u6613\u6316\u77ff","trade-to-earn-deri":"\u4ea4\u6613\u8d5a\u53d6 DERI","total-trading-volume-in-current-hour":"\u5f53\u524d\u4ea4\u6613\u6316\u77ff\u5468\u671f\u7684\u603b\u4ea4\u6613\u91cf","my-trading-volume-in-current-hour":"\u5f53\u524d\u6316\u77ff\u5468\u671f\u5185\u6211\u7684\u4ea4\u6613\u91cf","trade":"\u4ea4\u6613","wallet-balance":"\u94b1\u5305\u4f59\u989d","liquidity":"\u6d41\u52a8\u6027","max":"\u6700\u5927\u503c","add-all":"\u6dfb\u52a0\u5168\u90e8","add":"\u6dfb\u52a0","not-sufficient-funds":"\u8d44\u91d1\u4e0d\u8db3","the-input-liquidity-shall-not-be-less-than":"\u6295\u5165\u6d41\u52a8\u6027\u4e0d\u5f97\u4f4e\u4e8e","it-has-to-be-greater-than-zero":"\u5fc5\u987b\u5927\u4e8e0","failure-of-transaction":"\u4ea4\u6613\u5931\u8d25","shares-available":"\u53ef\u7528\u4efd\u989d","liquidity-shares":"\u6d41\u52a8\u6027\u4efd\u989d","shares":"\u4efd\u989d","max-removeable":"\u6700\u5927\u53ef\u79fb\u9664","remove-all":"\u79fb\u9664\u5168\u90e8","remove":"\u79fb\u9664","pending":"\u8fdb\u884c\u4e2d","your-current-max-removable-shares-are":"\u4f60\u76ee\u524d\u6700\u5927\u53ef\u79fb\u9664\u4efd\u989d\u4e3a","staking-max-limit-tip":"\u8d28\u62bc\u4f59\u989d\u4e0d\u80fd\u5c0f\u4e8e1\u3002\u5982\u679c\u60a8\u8981\u63d0\u53d6\u6240\u6709\u6d41\u52a8\u8d44\u91d1\uff0c\u8bf7\u5355\u51fb \\"MAX\\"\u79fb\u9664\u6240\u6709\u3002","invalid-liquidity":"\u65e0\u6548\u6d41\u52a8\u6027!","multiplier":"\u4e58\u6570","multiplier-tip":"\u4e58\u6570\u4ee3\u8868\u6bcf\u4e2atoken\u7528\u4f5c\u4fdd\u8bc1\u91d1\u65f6\u7684\u6298\u7b97\u6bd4\u4f8b\uff08\u7528\u4e8e\u8ba1\u7b97\u6709\u6548\u4fdd\u8bc1\u91d1\uff09\\n\u5982\uff1a\u6dfb\u52a01\u4e2aB1 toekn\u4f5c\u4e3a\u4fdd\u8bc1\u91d1\uff0c\u4e58\u6570\u4e3a0.8\uff0c\u6709\u6548\u4fdd\u8bc1\u91d1\u4e3a0.8","v2_lite":"\u521b\u65b0\u533a","option":"OPT","v2":"\u4e3b\u533a"}')},563:function(e){e.exports=JSON.parse('{"balance-in-contract":"\u5408\u7ea6\u4f59\u989d","dynamic-balance":"\u52a8\u6001\u4f59\u989d","available-balance":"\u53ef\u7528\u4f59\u989d","dynamic-effective-balance":"\u52a8\u6001\u6709\u6548\u4f59\u989d","transaction-fee":"\u4ea4\u6613\u8d39","my-position":"\u4ed3\u4f4d","index":"\u6307\u6570\u4ef7\u683c","funding":"\u65e5\u8d44\u91d1\u8d39\u7387"}')},564:function(e){e.exports=JSON.parse('{"total-net-position":"\u603b\u51c0\u4ed3\u4f4d","min":"\u5206\u949f","hour":"\u5c0f\u65f6","day":"\u5929","week":"\u5468","current-position":"\u5f53\u524d\u4ed3\u4f4d","trade-history":"\u4ea4\u6613\u8bb0\u5f55","pool-total-liquidity":"\u6c60\u603b\u6d41\u52a8\u6027","funding-rate-delta":"Delta Funding Daily","funding-rate-premium":"Premium Funding Daily","position-info":"\u4ed3\u4f4d\u4fe1\u606f"}')},565:function(e){e.exports=JSON.parse('{"team":"\u56e2\u961f","deri-protocol":"DERI \u534f\u8bae","team-describe":"Deri\u534f\u8bae\u7531Defi Factory\u8bbe\u8ba1\u5f00\u53d1\uff0cDefi Factory\u56e2\u961f\u7531\u91d1\u878d\u3001\u6570\u5b66\u548c\u8ba1\u7b97\u673a\u79d1\u5b66\u4e13\u5bb6\u7ec4\u6210\u3002\u6838\u5fc3\u6210\u5458\u62e5\u6709\u79d1\u5b66\u535a\u58eb\u5b66\u4f4d\uff0c\u5e76\u4e14\u4ece\u4e8b\u534e\u5c14\u8857\u7684\u884d\u751f\u54c1\u4e1a\u52a1\u3002\u56e2\u961f\u5728\u884d\u751f\u54c1\u5b9a\u4ef7/\u4ea4\u6613/\u6784\u5efa\u65b9\u9762\u6709\u7740\u8d44\u6df1\u7684\u7ecf\u9a8c\u3002\u56e2\u961f\u6210\u5458\u4ece\u4e8b\u52a0\u5bc6\u4ea4\u6613\u548csolidity\u7f16\u7a0b\u5df2\u6709\u6570\u5e74\u3002","ceo":"0xAlpha","co-founder-and-ceo":"\u8054\u5408\u521b\u59cb\u4eba\u517c\u9996\u5e2d\u6267\u884c\u5b98","ceo-school":"\u5317\u4eac\u5927\u5b66\u7269\u7406\u5b66\u58eb\uff0c\u83b1\u65af\u5927\u5b66\u7269\u7406\u535a\u58eb","ceo-worked":"\u66fe\u5728\u534e\u5c14\u8857\u5fb7\u610f\u5fd7\u94f6\u884c\u3001HBK\u5bf9\u51b2\u57fa\u91d1\u3001\u9ad8\u76db\u4ece\u4e8b\u884d\u751f\u54c1\u5b9a\u4ef7/\u4ea4\u6613/\u7ed3\u6784/\u98ce\u9669\u7ba1\u7406\u5de5\u4f5c","ceo-worked-one":"\u66fe\u5728\u534e\u5c14\u8857\u5fb7\u610f\u5fd7\u94f6\u884c\u3001HBK\u5bf9\u51b2\u57fa","ceo-worked-two":"\u91d1\u3001\u9ad8\u76db\u4ece\u4e8b\u884d\u751f\u54c1\u5b9a\u4ef7/\u4ea4\u6613/\u7ed3\u6784/","ceo-worked-three":"\u98ce\u9669\u7ba1\u7406\u5de5\u4f5c","c-f-a-qu-he-fund-fo-on-tr-and-cr-de":"\u8054\u5408\u521b\u7acb\u4e86\u4e13\u6ce8\u4e8e\u4f20\u7edf\u548c\u52a0\u5bc6\u884d\u751f\u54c1\u7684\u91cf\u5316\u5bf9\u51b2\u57fa\u91d1","ceo-twitter":"\u63a8\u7279","cto":"Richard","co-founder-and-cto":"\u8054\u5408\u521b\u59cb\u4eba\u517c\u9996\u5e2d\u6280\u672f\u5b98","cto-school":"\u5317\u4eac\u5927\u5b66\u7269\u7406\u5b66\u58eb\uff0c\u7ebd\u7ea6\u5e02\u7acb\u5927\u5b66\u7269\u7406\u535a\u58eb","cto-worked":"\u66fe\u4efb\u91cf\u5316\u4ea4\u6613\u7b56\u7565\u603b\u76d1\uff0c\u8d1f\u8d23\u9ad8\u9891\u4ea4\u6613\u3001\u52a8\u91cf\u4ea4\u6613\u3001\u7edf\u8ba1\u5957\u5229\u7684\u7b56\u7565\u5236\u5b9a","cto-good-at-language":"C++ /Python\u91d1\u878d\u7cfb\u7edf\u5f00\u53d1\u4e13\u5bb6","cto-ex-of-so-vy-pr-and-sm-con-dev":"solidity/vyper\u7f16\u7a0b\u548c\u667a\u80fd\u5408\u7ea6\u5f00\u53d1\u4e13\u5bb6","jason":"Jason","jason-school":"\u534e\u76db\u987f\u5927\u5b66\u8ba1\u7b97\u673a\u79d1\u5b66\u5b66\u58eb","jason-worked":"AMD\u4e9a\u9a6c\u900a\u524d\u8f6f\u4ef6\u5de5\u7a0b\u5e08","jason-er-inv":"\u65e9\u671f\u52a0\u5bc6\u6295\u8d44\u8005","jason-co-fo-of-a-cr-ma-se-ag":"\u52a0\u5bc6\u5e02\u573a\u670d\u52a1\u673a\u6784\u8054\u5408\u521b\u59cb\u4eba","janice":"Janice","janice-school":"\u4e0a\u6d77\u8d22\u7ecf\u5927\u5b66\u7ba1\u7406\u5b66\u5b66\u58eb","janice-degree":"\u4e0a\u6d77\u8d22\u7ecf\u5927\u5b66\u7ba1\u7406\u5b66\u7855\u58eb","janice-worked":"\u5728\u666e\u534e\u6c38\u9053\u4e2d\u56fd\u62c5\u4efb\u98ce\u9669\u7ba1\u7406\u9ad8\u7ea7\u7ecf\u740611\u5e74","janice-t-and-ha-ye-ex-at-ve-op":"\u4e24\u5e74\u534a\u7684\u552f\u94fe\u8fd0\u8425\u7ecf\u9a8c"}')},566:function(e,t,n){"use strict";n.r(t);var i=n(2),a=n.n(i),r=n(61),s=n.n(r),o=n(90),l=n(92),p=n(93),u=n(37),d=n(133),y=n(17),c=n(25),m=n(13);const b=Object(p.a)((()=>Promise.all([n.e(3),n.e(11)]).then(n.bind(null,742)))),T=Object(p.a)((()=>Promise.all([n.e(3),n.e(13)]).then(n.bind(null,741))));function g({loading:e}){const[t,n]=Object(i.useState)(!1);return Object(i.useEffect)((()=>(n(e.isShowMask),()=>{})),[e.isShowMask]),Object(m.jsx)(d.a,{modalIsOpen:t,overlay:{background:"none"}})}const f=Object(u.b)("loading")(Object(u.c)(g));var h=Object(u.b)("intl","loading")(Object(u.c)((function({intl:e,loading:t}){const n=!!Object(y.useRouteMatch)("/options/lite"),i=!!Object(y.useRouteMatch)("/options/pro"),a=n||i?"option":"future";return c.a.setCurrent(a),l.isBrowser?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(f,{}),Object(m.jsx)(b,{locale:e.locale})]}):l.isMobile?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(f,{}),Object(m.jsx)(T,{locale:e.locale,children:Object(m.jsx)(g,{loading:t})})]}):void 0}))),v=(n(262),n(11)),w=n(76),S=n(29),M=n(1);var k=class{constructor(){this.detail={},this.supportWeb3=()=>!!window.ethereum,this.isConnected=()=>!!this.detail.account,this.approve=async(e,t)=>{if(this.detail.chainId){return await Object(v.Z)(this.detail.chainId,e,this.detail.account,t)}},this.connect=async()=>{const e=await Object(v.g)();return new Promise((async(t,n)=>{if(e.success){const{chainId:n,account:i}=e;t(await this.loadWalletBalance(n,i))}else n(null)}))},this.switchNetwork=async e=>{this.isConnected()||this.connect();const t=w[v.a.get()].chainInfo,n=`0x${parseInt(e.id).toString(16)}`;e=t[parseInt(e.id)];try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]})}catch(i){if(4902===i.code)try{await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:n,...e.metamask}]})}catch(a){console.error("err",a)}}},this.loadWalletBalance=async(e,t)=>{const n=await Object(v.J)(e,t).catch((e=>console.log("wallet account is not exist"))),i={chainId:e,account:t,balance:n,formatBalance:Object(S.e)(n)},a=v.a.get(),{chainInfo:r}=w[a];return r[e]&&(Object.assign(i,{...r[e],supported:!0}),Object(S.n)(r[e])),this.setDetail(i),i},this.get=()=>this.detail,Object(M.n)(this,{detail:M.p,setDetail:M.f,supportV2:M.g,supportV1:M.g,supportAllVersion:M.g,supportChain:M.g,supportInnocation:M.g})}async isApproved(e,t){if(this.detail.chainId&&this.supportChain){const n=await Object(v.O)(this.detail.chainId,e,this.detail.account,t).catch((e=>console.error("load approve error")));return this.detail.isApproved=n,this.setDetail(this.detail),n}}setDetail(e){this.detail=e}refresh(){this.loadWalletBalance(this.detail.chainId,this.detail.account)}isSupportChain(e){const t=this.detail.chainId,n=v.a.get(),{chainInfo:i}=w[n];return e?i[t]&&i[t].supportOptions:this.supportChain}get supportV2(){return this.detail.supportV2}get supportV1(){return this.detail.supportV1}get supportAllVersion(){return this.detail.supportV1&&this.detail.supportV2}get supportChain(){return this.detail.supported}get supportInnovation(){return this.detail.supportInnovation}},I=n(87),A=n.n(I);var O=class{constructor(){this.symbol="BTCUSD",this.timeType="min",this.index=0,this.kData=[],this.ws=null,this.paused=!1,this.listeners={},this.already=!1,Object(M.n)(this,{index:M.p,kData:M.p,setIndex:M.f})}initWebSocket(){null===this.ws&&(this.ws=new A.a("wss://oracle2.deri.finance",{transports:["websocket"],withCredentials:!0}),this.ws.on("connect",(()=>{this.already&&(this.ws.emit("get_kline_update",{symbol:this.symbol,time_type:this.timeType}),console.log("ws is reconnected already")),console.log("ws is already connected")})))}load(e,t="min"){this.initWebSocket(),this.ws.on("kline_update",(e=>{const t={};let n=e.time;if(e.symbol.toUpperCase()===this.symbol.toUpperCase()&&(t.time=n,t.low=Number(e.low),t.high=Number(e.high),t.open=Number(e.open),t.close=Number(e.close),t.volume=Number(e.volume),t.time_type=e.time_type,t.symbol=e.symbol,!this.paused)){this.setIndex(t.close);for(const e of Object.keys(this.listeners))"function"===typeof this.listeners[e]&&this.listeners[e](t)}})),e!==this.symbol&&this.unsubscribeBars(this.symbol),this.setSymbol(e),this.setTimeType(t),this.ws.emit("get_kline_update",{symbol:this.symbol,time_type:this.timeType}),this.already=!0}addListener(e,t){this.listeners[e]||(this.listeners[e]=t)}unsubscribeBars(e){this.ws&&this.ws.emit("un_get_kline_update",{symbol:e,time_type:"min"})}loadHistory(e,t,n){this.ws.on("kline_history",(e=>{const t=e.map((e=>({time:e.time,low:Number(e.low),high:Number(e.high),open:Number(e.open),close:Number(e.close),volume:Number(e.volume)})));n&&(console.log("history ->",t[t.length-1].time),n(t))})),this.ws.emit("get_kline",{symbol:e,time_type:t,bars:1e3})}resume(){this.setPause(!1)}pause(){this.setPause(!0)}setIndex(e){this.paused||(this.index=e)}setSymbol(e){this.symbol=e}setTimeType(e){this.timeType=e}setPause(e){this.paused=e}};class P{constructor(){this.callback=()=>{},this.wallet=null,this.spec=null,this.isOptions=null,this.mockPositionInfo={averageEntryPrice:"",liquidationPrice:"",margin:"20000",marginHeld:"10068.26538",marginHeldBySymbol:"293.16152",unrealizedPnl:"3.1311",volume:"800",premiumFundingAccrued:"",deltaFundingAccrued:"",strikePrice:0,timePrice:0,volatility:0,isCall:!1}}async load(e,t,n,i){if(this.isOptions=i,e&&e.isConnected()&&e.isSupportChain(i)&&t&&t.pool){const i=await Object(v.C)(e.detail.chainId,t.pool,e.detail.account,t.symbolId);return i&&n&&n(i),this.start(e,t,n),i}}start(e,t,n){null!==this.interval&&clearInterval(this.interval),this.interval=window.setInterval((()=>this.load(e,t,n,this.isOptions)),3e3),e&&(this.wallet=e),t&&(this.spec=t),n&&(this.callback=n)}pause(){clearInterval(this.interval),this.interval=null}resume(e,t,n){this.start(e,t,n||this.callback)}}var E=n(7),C=n(28);class R{constructor(){this.info={bTokenSymbol:"BUSD",symbol:"BTCUSD",multiplier:"0.0001",fundingRateCoefficient:"0.0000025",deltaFundingCoefficient:"0.2",minInitialMarginRatio:.1,initialMarginRatio:.1,minMaintenanceMarginRatio:.05,maintenanceMarginRatio:.05,feeRatio:5e-4,underlier:"",strike:0,optionType:"C",bTokenSymbolDisplay:["BUSD"]}}async load(e,t){if(e&&e.supportChain&&t&&t.pool!==this.info.pool){const n=await Object(v.E)(e.detail.chainId,t.pool,t.symbolId);n.bTokenSymbolDisplay=this.bTokenSymbolDisplay(n),c.a.isOption&&(n.underlier=n.symbol.split("-")[0],n.strike=n.symbol.split("-")[1],n.optionType=n.symbol.split("-")[2]),this.setInfo(n)}return this.info}setInfo(e){this.info=e}bTokenSymbolDisplay(e){if(C.a.isV1||C.a.isV2Lite||c.a.isOption)return[e.bTokenSymbol];const{bTokenSymbol:t=[],bTokenMultiplier:n=[]}=e;return t instanceof Array&&t.map(((e,t)=>`<span class='btoken-symbol'>${e}(<span class='multiplier' title='${E.a.get("lite","multiplier-tip")}'>${n[t]}x</span>)</span>`))}}class D{async load(e,t,n){if(e&&e.isSupportChain(n)&&e.detail.chainId&&t&&t.pool){return await Object(v.F)(e.detail.chainId,t.pool,e.detail.account,t.symbolId)}return[]}}var x=n(233);var F=new class{constructor(){this.isLoading=!1,Object(M.o)(this,{isLoading:M.p,setIsLoading:M.f,loading:M.f,isShowMask:M.g})}setIsLoading(e){this.isLoading=e}loading(){this.setIsLoading(!0)}loaded(){this.setIsLoading(!1)}get isShowMask(){return!0===this.isLoading}};const B=new k,j=new class{constructor(){this.version=null,this.wallet=null,this.type=null,this.configs=[],this.config=null,this.index="",this.volume="",this.paused=!1,this.slideIncrementMargin=0,this.position={},this.contract={},this.fundingRate={},this.history=[],this.userSelectedDirection="long",this.supportChain=!0,Object(M.o)(this,{index:M.p,volume:M.p,slideIncrementMargin:M.p,fundingRate:M.p,position:M.p,history:M.p,contract:M.p,userSelectedDirection:M.p,supportChain:M.p,setWallet:M.f,setConfigs:M.f,setConfig:M.f,setIndex:M.f,setContract:M.f,setPosition:M.f,setVolume:M.f,setUserSelectedDirection:M.f,setFundingRate:M.f,setHistory:M.f,setSlideMargin:M.f,amount:M.g,fundingRateTip:M.g,fundingRateDeltaTip:M.g,fundingRatePremiumTip:M.g,initialMarginRatioTip:M.g,maintenanceMarginRatioTip:M.g,multiplierTip:M.g,direction:M.g,volumeDisplay:M.g,isNegative:M.g,isPositive:M.g}),this.configInfo=new x.a,this.oracle=new O,this.positionInfo=new P,this.contractInfo=new R,this.historyInfo=new D}async init(e,t,n,i){const a=await this.configInfo.load(t,n);if(e.isConnected()){this.setWallet(e),this.setConfigs(a.filter((t=>Object(S.c)(e.detail.chainId,t.chainId))));let t=this.getDefaultConfig(this.configs,e);t||(t=a.length>0?a[0]:{}),this.setConfig(t)}else if(!e.isConnected()||!e.supportWeb3()){t.setCurrent("v2");const e=(await this.configInfo.load(t,n)).find((e=>"BTCUSD"===e.symbol));this.setConfig(e)}this.loadByConfig(this.wallet,this.config,!0,i,n),this.setVolume("")}async onSymbolChange(e,t,n){const i=this.configs.find((t=>t.pool===e.pool&&t.symbolId===e.symbolId)),a=C.a.isV1?e.pool!==this.config.pool:e.symbolId!==this.config.symbolId;this.onChange(i,a,t,n)}async onChange(e,t,n,i){e&&(this.pause(),this.setConfig(e),this.loadByConfig(this.wallet,e,t,n,i),t&&this.store(e),this.resume(),this.setVolume(""))}async loadByConfig(e,t,n,i,a){if(n&&t){const e=Object(S.g)(t.symbol);this.oracle.unsubscribeBars(e),this.oracle.addListener("trading",(e=>{this.setIndex(e.close)})),this.oracle.load(e)}e&&e.isConnected&&t?Promise.all([this.positionInfo.load(e,t,(e=>this.setPosition(e)),a),this.contractInfo.load(e,t,a),this.loadFundingRate(e,t,a),this.historyInfo.load(e,t,a)]).then((e=>{4===e.length&&(e[0]&&this.setIndex(e[0].price)&&this.setPosition(e[0]),e[1]&&this.setContract(e[1]),e[2]&&this.setFundingRate(e[2]),e[3]&&this.setHistory(e[3]))})).finally((e=>{i&&i()})):i&&i()}getDefaultConfig(e=[],t){let n=null;if(e.length>0){const i=this.getFromStore();if(i&&Object(S.c)(t.detail.chainId,i.chainId)&&(n=i),n){-1===e.findIndex((e=>e.pool===n.pool))&&(n=e[0])}else n=e[0]}return n}store(e){Object(S.o)(C.a.current,e)}getFromStore(){return Object(S.f)(C.a.current)}async syncFundingRate(){const e=await this.loadFundingRate(this.wallet,this.config);e&&this.setFundingRate(e)}async refresh(){this.pause();const e=await this.positionInfo.load(this.wallet,this.config,(async e=>{this.setPosition(e),this.syncFundingRate()}));e&&this.setPosition(e),this.syncFundingRate(),this.wallet.loadWalletBalance(this.wallet.detail.chainId,this.wallet.detail.account);const t=await this.historyInfo.load(this.wallet,this.config);t&&this.setHistory(t),this.setVolume(""),this.resume()}pause(){this.setPaused(!0),this.oracle.pause(),this.positionInfo.pause()}resume(){this.setPaused(!1),this.oracle.resume(),this.positionInfo.resume(this.wallet,this.config)}setWallet(e){this.wallet=e}setConfigs(e){this.configs=e}setConfig(e){this.config=e}setIndex(e){this.index=e}setPosition(e){e&&(this.position=e)}setContract(e){this.contract=e}setHistory(e){this.history=e}setFundingRate(e){this.fundingRate=e}setVolume(e){this.volume=e}setPaused(e){this.paused=e}setUserSelectedDirection(e){this.userSelectedDirection=e}setSlideMargin(e){if(""!==e){this.slideIncrementMargin=e;const t=this.position,n=t.price||this.index,i=e-t.marginHeld;let a=c.a.isOption?this.contract.initialMarginRatio:this.contract.minInitialMarginRatio,r=i/(n*this.contract.multiplier*a);if(c.a.isOption){r=+r*+this.contract.multiplier;let e=this.contract.multiplier.indexOf("."),t=this.contract.multiplier.slice(e).length,n=r.toString();"-1"!=n.indexOf(".")&&(n=n.substring(0,n.indexOf(".")+t)),this.setVolume(n)}else this.setVolume(r.toFixed(0))}}get volumeDisplay(){return c.a.isFuture&&0===Math.abs(this.volume)&&isNaN(this.volume)||""===this.volume||"-"===this.volume||"e"===this.volume?"":Math.abs(this.volume)}get amount(){const e=this.position,t=this.contract;let n=""===this.volume||isNaN(this.volume)?0:Math.abs(this.volume);const i=c.a.isOption?+n/+this.contract.multiplier:n;let{margin:a,marginHeldBySymbol:r,marginHeld:s,unrealizedPnl:o}=e;const l=e.price||this.index;let p=Object(v.e)(s).minus(r);p=p.isNaN()?Object(v.e)(0):p;const u=i*l*t.multiplier,d=c.a.isOption?u*t.initialMarginRatio:u*t.minInitialMarginRatio;let y=Object(v.e)(s);this.isPositive&&"short"===this.userSelectedDirection||this.isNegative&&"long"===this.userSelectedDirection?(y=y.minus(d),y.lt(p)&&(y=p.plus(p.minus(y).abs())),r=Object(v.e)(r).minus(d).abs().toFixed(2)):(y=Object(v.e)(s).plus(d),r&&(r=Object(v.e)(r).plus(d).toFixed(2)));const m=a&&Object(v.e)(a).plus(o).toFixed(2);y=y.gt(m)?m:y.toFixed(2),r&&(r=+r>+m?m:(+r).toFixed(2));let b=Object(v.e)(m).minus(y).toFixed(2);const T=Object(v.e)(i).multipliedBy(t.multiplier).toFixed(4),g=("short"===this.userSelectedDirection?-this.volumeDisplay+ +e.volume:+this.volumeDisplay+ +e.volume)*l*t.multiplier,f=Math.abs(g/+m).toFixed(1);return b=+b<0?0:b,{volume:this.volume,dynBalance:m,margin:y,available:b,exchanged:T,currentSymbolMarginHeld:r,leverage:f}}get direction(){if(""!==this.margin){if(+this.position.volume>0)return Math.abs(this.volume)>Math.abs(this.position.volume)?"long":"short";if(+this.position.volume<0)return+this.volume>Math.abs(+this.position.volume)?"short":"long"}return 0}get isPositive(){return Object(v.e)(this.position.volume).gt(0)}get isNegative(){return Object(v.e)(this.position.volume).isNegative()}async loadFundingRate(e,t){if(t){const n=e&&e.isConnected()&&e.supportChain?e.detail.chainId:t.chainId;if(t){return await Object(v.r)(n,t.pool,t.symbolId).catch((e=>console.error("getFundingRate was error,maybe network is wrong")))}}}get fundingRateTip(){if(C.a&&C.a.isV2){if(this.fundingRate&&this.fundingRate.fundingRatePerBlock&&this.config)return"zh"===E.a.locale?`${E.a.get("lite","funding-rate-per-block")} = ${this.fundingRate.fundingRatePerBlock}\n ${E.a.get("lite","per-block")} ${E.a.get("lite","1-long-contract-pays-1-short-contract")} (${this.fundingRate.fundingRatePerBlock} * ${E.a.get("lite","index-price-camelize")} * ${this.contract.multiplier} ) ${this.config.bTokenSymbol}`:`${E.a.get("lite","funding-rate-per-block")} = ${this.fundingRate.fundingRatePerBlock}\n${E.a.get("lite","1-long-contract-pays-1-short-contract")} (${this.fundingRate.fundingRatePerBlock} * ${E.a.get("lite","index-price-camelize")} * ${this.contract.multiplier} ) ${this.config.bTokenSymbol} ${E.a.get("lite","per-block")}`}else if(this.fundingRate&&this.fundingRate.fundingRatePerBlock&&this.config)return"zh"===E.a.locale?`${E.a.get("lite","funding-rate-per-block")} = ${this.fundingRate.fundingRatePerBlock}\n${E.a.get("lite","per-block")} ${E.a.get("lite","1-long-contract-pays-1-short-contract")} ${this.fundingRate.fundingRatePerBlock} ${this.config.bTokenSymbol} `:`${E.a.get("lite","funding-rate-per-block")} = ${this.fundingRate.fundingRatePerBlock}\n${E.a.get("lite","1-long-contract-pays-1-short-contract")} ${this.fundingRate.fundingRatePerBlock} ${this.config.bTokenSymbol} ${E.a.get("lite","per-block")})`;return""}get fundingRateDeltaTip(){return this.fundingRate&&this.fundingRate.deltaFundingPerSecond&&this.config&&this.contract?"zh"===E.a.locale?`${E.a.get("lite","funding-rate-delta-tip")} = ${this.fundingRate.deltaFundingPerSecond} ${this.config.bTokenSymbol} ${E.a.get("lite","per-second")}\n${E.a.get("lite","per-day")} ${E.a.get("lite","1-long-contract-pays-1-short-contract")} (${this.fundingRate.fundingRatePerBlock} } * ${this.contract.multiplier} ) ${this.config.bTokenSymbol}`:`${E.a.get("lite","funding-rate-delta-tip")} = ${this.fundingRate.deltaFundingPerSecond} ${this.config.bTokenSymbol} ${E.a.get("lite","per-second")}\n${E.a.get("lite","1-long-contract-pays-1-short-contract")} ${this.fundingRate.deltaFunding0} ${this.config.bTokenSymbol} ${E.a.get("lite","per-day")}`:""}get fundingRatePremiumTip(){return this.fundingRate&&this.fundingRate.premiumFundingPerSecond&&this.config&&this.contract?"zh"===E.a.locale?`${E.a.get("lite","funding-rate-premium-tip")} = ${this.fundingRate.premiumFundingPerSecond} ${this.config.bTokenSymbol} ${E.a.get("lite","per-second")}\n${E.a.get("lite","per-day")} ${E.a.get("lite","1-long-contract-pays-1-short-contract")} (${this.fundingRate.fundingPerBlock} ) ${this.config.bTokenSymbol}`:`${E.a.get("lite","funding-rate-premium-tip")} = ${this.fundingRate.premiumFundingPerSecond} ${this.config.bTokenSymbol} ${E.a.get("lite","per-second")}\n${E.a.get("lite","1-long-contract-pays-1-short-contract")} ${this.fundingRate.premiumFunding0} ${this.config.bTokenSymbol} ${E.a.get("lite","per-day")}`:""}get initialMarginRatioTip(){return this.contract&&this.contract.initialMarginRatioOrigin?`${E.a.get("lite","in-the-money-initial")} = ${this.contract.initialMarginRatioOrigin}\n${E.a.get("lite","out-of-money-initial")} = ${E.a.get("lite","in-max")}(${this.contract.initialMarginRatioOrigin}${E.a.get("lite","otm-ratio-initial")} ${this.contract.initialMarginRatioOrigin/10})\n\n${E.a.get("lite","otm-ratio-max")}`:""}get maintenanceMarginRatioTip(){return this.contract&&this.contract.maintenanceMarginRatioOrigin?`${E.a.get("lite","in-the-money-maintenance")} = ${this.contract.maintenanceMarginRatioOrigin}\n${E.a.get("lite","out-of-money-maintenance")} = ${E.a.get("lite","in-max")}(${this.contract.maintenanceMarginRatioOrigin}${E.a.get("lite","otm-ratio-maintenance")} ${this.contract.maintenanceMarginRatioOrigin/10})\n\n${E.a.get("lite","otm-ratio-max")}`:""}get multiplierTip(){return this.contract&&this.config?`${E.a.get("lite","the-notional-value-of")} ${this.contract.multiplier}${this.config.unit}`:""}};s.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(o.a,{children:Object(m.jsx)(u.a,{wallet:B,type:c.a,trading:j,version:C.a,intl:E.a,loading:F,children:Object(m.jsx)(h,{})})})}),document.getElementById("root"))},7:function(e,t,n){"use strict";var i=n(1),a=n(29),r=n(75);const s={};var o;(o=n(526)).keys().forEach((e=>{const t=e.split("/"),n=t[1],i=t[2].split(".")[0].toLowerCase();if(s[n]||(s[n]={}),/mobile-/.test(i)){const t=i.split("-")[1];s[n][t]||(s[n][t]={}),s[n][t].mobile=o(e)}else s[n][i]=o(e)}));t.a=new class{constructor(){this.locale="en",Object(i.o)(this,{locale:i.p,setLocale:i.f,dict:i.g,localeLabel:i.g});const e=navigator.language,t=e&&e.split("-")[0],n=Object(a.m)();n&&Object.keys(r).includes(n)?this.locale=n:t&&Object.keys(r).includes(t)&&(this.locale=t)}setLocale(e){e&&r[e]&&(this.locale=e,Object(a.p)(e))}get(e,t){return s[this.locale][e][t]}get dict(){return s[this.locale]}get localeLabel(){const e=r[this.locale];return e?e.substr(0,2).toUpperCase():"EN"}}},75:function(e){e.exports=JSON.parse('{"en":"English","zh":"\u4e2d\u6587(\u7b80\u4f53)","de":"Deutsch"}')},76:function(e){e.exports=JSON.parse('{"prod":{"chainInfo":{"1":{"code":"ETHEREUM","name":"ETH","symbol":"ETH","viewUrl":"https://etherscan.io/","supportV1":true,"metamask":{"chainName":"ETHEREUM-Mainnet","nativeCurrency":{"name":"Ethereum","symbol":"ETH","decimals":18},"rpcUrls":["https://mainnet.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],"blockExplorerUrls":["https://etherscan.io"]}},"56":{"code":"BSC","name":"BSC","symbol":"BNB","viewUrl":"https://bscscan.com/","supportV2":true,"supportV1":true,"supportInnovation":true,"supportOptions":true,"metamask":{"chainName":"BSC-Mainnet","nativeCurrency":{"name":"BSC","symbol":"BNB","decimals":18},"rpcUrls":["https://bsc-dataseed.binance.org/"],"blockExplorerUrls":["https://bscscan.com/"]}},"128":{"code":"HECO","name":"HECO","symbol":"HT","viewUrl":"https://hecoscan.xyz/","supportV1":true,"metamask":{"chainName":"HECO-Mainnet","nativeCurrency":{"name":"HECO","symbol":"HT","decimals":18},"rpcUrls":["https://http-mainnet.hecochain.com"],"blockExplorerUrls":["https://hecoscan.xyz/"]}},"137":{"code":"POLYGON","name":"POLYGON","symbol":"MATIC","viewUrl":"https://polygonscan.com/","supportV2":true,"supportInnovation":true,"metamask":{"chainName":"POLYGON-Mainnet","nativeCurrency":{"name":"POLYGON","symbol":"MATIC","decimals":18},"rpcUrls":["https://matic-mainnet.chainstacklabs.com"],"blockExplorerUrls":["https://polygonscan.com/"]}}}},"dev":{"chainInfo":{"3":{"code":"ROPSTEN","name":"ROPSTEN","symbol":"ETH","viewUrl":"https://ropsten.etherscan.io","supportV1":true,"metamask":{"chainName":"ROPSTEN","nativeCurrency":{"name":"Repsten","symbol":"ETH","decimals":18},"rpcUrls":["https://ropsten.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],"blockExplorerUrls":["https://ropsten.etherscan.io"]}},"97":{"code":"BSC","name":"BSC-Testnet","symbol":"BNB","viewUrl":"https://testnet.bscscan.com/","supportV1":true,"supportV2":true,"supportInnovation":true,"supportOptions":true,"metamask":{"chainName":"BSC-Testnet","nativeCurrency":{"name":"BSC","symbol":"BNB","decimals":18},"rpcUrls":["https://data-seed-prebsc-2-s1.binance.org:8545/"],"blockExplorerUrls":["https://testnet.bscscan.com/"]}},"256":{"code":"HECO","name":"HECO-Testnet","symbol":"HT","viewUrl":"https://scan-testnet.hecochain.com","supportV1":true,"metamask":{"chainName":"HECO-Testnet","nativeCurrency":{"name":"HECO","symbol":"HT","decimals":18},"rpcUrls":["https://http-testnet.hecochain.com"],"blockExplorerUrls":["https://scan-testnet.hecochain.com"]}},"80001":{"code":"POLYGON","name":"MUMBAI","symbol":"MATIC","viewUrl":"https://explorer-mumbai.maticvigil.com/","supportV2":true,"supportInnovation":true,"metamask":{"chainName":"POLYGON-Testnet","nativeCurrency":{"name":"MUMBAI","symbol":"MATIC","decimals":18},"rpcUrls":["https://rpc-mumbai.matic.today"],"blockExplorerUrls":["https://explorer-mumbai.maticvigil.com/"]}}}}}')},89:function(e){e.exports=JSON.parse('{"v2":{"prod":{"pools":[{"pool":"0x19c2655A0e1639B189FB0CF06e02DC0254419D92","pToken":"0x2AA5865BF556ab3f6Cd9405e565099f70234dF05","lToken":"0x6f8F1C2781b555B63F1A1BE85BF99aEe27d87cB2","router":"0xC9C234243f48Fa05A993c29B4F5f93048f5b07E4","initialBlock":"7884650","bTokens":[{"bTokenId":"0","bTokenSymbol":"BUSD","bToken":"0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56"},{"bTokenId":"1","bTokenSymbol":"WBNB","bToken":"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c"},{"bTokenId":"2","bTokenSymbol":"CAKE","bToken":"0x0E09FaBB73Bd3Ade0a17ECC321fD13a19e81cE82"}],"symbols":[{"symbolId":"0","symbol":"BTCUSD","unit":"BTC"},{"symbolId":"1","symbol":"ETHUSD","unit":"ETH"},{"symbolId":"2","symbol":"BNBUSD","unit":"BNB"}],"chainId":"56","version":"v2"},{"pool":"0x43b4dfb998b4D17705EEBfFCc0380c6b98699252","pToken":"0x0757bC621A32b1134eCf2843955B0bBc8CA13BA1","lToken":"0xADeA18DA0aF0Ab14900A5634EdDf5A83513cdcE0","router":"0x7e412350a64bd454C800d1273CEA59c78D708EAB","initialBlock":"16247773","bTokens":[{"bTokenId":"0","bTokenSymbol":"USDT","bToken":"0xc2132D05D31c914a87C6611C10748AEb04B58e8F"},{"bTokenId":"1","bTokenSymbol":"WMATIC","bToken":"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270"},{"bTokenId":"2","bTokenSymbol":"AMUSDC","bToken":"0x1a13F4Ca1d028320A707D99520AbFefca3998b7F"}],"symbols":[{"symbolId":"0","symbol":"BTCUSD","unit":"BTC"},{"symbolId":"1","symbol":"ETHUSD","unit":"ETH"}],"chainId":"137","version":"v2"}],"oracle":[{"chainId":"56","symbol":"BTCUSD","address":"0xe5709F0a23aEA3A61B0db91E92458fb6a0a55857","decimal":"18"},{"chainId":"56","symbol":"ETHUSD","address":"0xA0F51e28Ec15fcC9816FaB40684f1D1C675Bd39b","decimal":"18"},{"chainId":"56","symbol":"BNBUSD","address":"0xa356c0559e0DdFF9281bF8f061035E7097a84Fa4","decimal":"18"},{"chainId":"137","symbol":"BTCUSD","address":"0xe079ed411716d71fc746C403fa56fb38243Ab34F","decimal":"18"},{"chainId":"137","symbol":"ETHUSD","address":"0xea830185A2a1719967386E17C479f2539B0F915E","decimal":"18"}],"brokerManager":[{"chainId":"56","address":"0xE9e9B83aE47b109bA21e16B1b5Ba382F83A81650"},{"chainId":"137","address":"0x2d3Aa0E1aAECe2e3a8b90b042821f02e9D94a86f"}]},"dev":{"pools":[{"pool":"0x54a71Cad29C314eA081b2B0b1Ac25a7cE3b7f7A5","pToken":"0x270128C2d7E8713c8c25F7800738C29214eAFeBA","lToken":"0x904262d92B21e5214278632d01405738d841d82a","router":"0x07fb21FE50A31dFaf312dFa9f5BA5CF14DC7E1e6","initialBlock":"9516935","bTokens":[{"bTokenId":"0","bTokenSymbol":"BUSD","bToken":"0x4038191eFb39Fe1d21a48E061F8F14cF4981A0aF"},{"bTokenId":"1","bTokenSymbol":"AUTO","bToken":"0xd2F37BADdB702FF778aA038C63b7068054d93508"},{"bTokenId":"2","bTokenSymbol":"CAKE","bToken":"0x5b403E0f6686725171c2Baa7A0b7cD4253B0bc57"}],"symbols":[{"symbolId":"0","symbol":"BTCUSD","unit":"BTC"},{"symbolId":"1","symbol":"ETHUSD","unit":"ETH"}],"chainId":"97","version":"v2"},{"pool":"0x35a85396e7A8a9E85170fbb589ce085abcAd8266","pToken":"0x3495f770eC0dc8701d2b89454047A8521306E070","lToken":"0xeFCbBF65100FC2C2b96E92c9AbFfeC384177943e","router":"0x4861a9958B65eA8146B89Af929a80c352c905270","initialBlock":"14917984","bTokens":[{"bToken":"0x1BD7B233B054AD4D1FBb767eEa628f28fdE314c6","bTokenSymbol":"USDT","bTokenId":"0"}],"symbols":[{"symbol":"ETHUSD","symbolId":"0","unit":"ETH"},{"symbol":"MATICUSD","symbolId":"1","unit":"MATIC"}],"chainId":"80001","version":"v2"}],"oracle":[{"chainId":"97","symbol":"BTCUSD","address":"0x713a13df8985EF58FB50b21929f2cdBa38A1aFC7","decimal":"18"},{"chainId":"97","symbol":"ETHUSD","address":"0x2322608418C22E9d0751334E4Bc9b3865bad9937","decimal":"18"},{"chainId":"80001","symbol":"ETHUSD","address":"0xc0797C024e79E6e4D9473aE00c7fFCD4cce84Cc8","decimal":"18"},{"chainId":"80001","symbol":"MATICUSD","address":"0x002685d9aD90bE8DECf61544EA48a37A0D7c4710","decimal":"18"}],"brokerManager":[{"chainId":"97","address":"0xe4101EC5F4EF144e97DdE7542A605c8813a975Fc"}]}},"v2_lite":{"prod":{"pools":[{"pool":"0x3465A2a1D7523DAF811B1abE63bD9aE36D2753e0","pToken":"0x6c4907a76628574C14C6292DEA5B4A5cD81D9Ee0","lToken":"0x992974FF499979cDd295214f8883D83a93855fA7","router":"0x0000000000000000000000000000000000000000","bToken":"0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56","bTokenSymbol":"BUSD","initialBlock":"9514401","symbols":[{"symbolId":"0","symbol":"AXSUSDT","unit":"AXS"},{"symbolId":"1","symbol":"MBOXUSDT","unit":"MBOX"},{"symbolId":"2","symbol":"IBSCDEFI","unit":"iBSCDEFI"},{"symbolId":"3","symbol":"IGAME","unit":"iGAME"},{"symbolId":"4","symbol":"ALICEUSDT","unit":"ALICE"}],"chainId":"56","version":"v2_lite"},{"pool":"0x1a9b1B83C4592B9F315E933dF042F53D3e7E4819","pToken":"0xef4c81c76ED66d9B02e0d5de2eD352f840Eb497C","lToken":"0xC246d0aD04a9029A82862BE2fbd16ab1445b1602","router":"0x0000000000000000000000000000000000000000","bToken":"0xe60eaf5A997DFAe83739e035b005A33AfdCc6df5","bTokenSymbol":"DERI","initialBlock":"9514895","symbols":[{"symbolId":"0","symbol":"AXSUSDT","unit":"AXS"},{"symbolId":"1","symbol":"MBOXUSDT","unit":"MBOX"},{"symbolId":"2","symbol":"IBSCDEFI","unit":"iBSCDEFI"},{"symbolId":"3","symbol":"IGAME","unit":"iGAME"},{"symbolId":"4","symbol":"ALICEUSDT","unit":"ALICE"}],"chainId":"56","version":"v2_lite"},{"pool":"0xb144cCe7992f792a7C41C2a341878B28b8A11984","pToken":"0xDC3ED843f0c411Eea1B84C0277CDFC5B71E22059","lToken":"0x35C8b3bb6CE67d9bf6b14a5FfC121A79d6247d07","router":"0x0000000000000000000000000000000000000000","bToken":"0xc2132D05D31c914a87C6611C10748AEb04B58e8F","bTokenSymbol":"USDT","initialBlock":"17129838","symbols":[{"symbolId":"0","symbol":"AXSUSDT","unit":"AXS"},{"symbolId":"1","symbol":"ALICEUSDT","unit":"ALICE"}],"chainId":"137","version":"v2_lite"},{"pool":"0xa4eDe2C4CB210CD07DaFbCe56dA8d36b7d688cd0","pToken":"0x074f37Be1c9818b192aCdB3B268baA52d052ea28","lToken":"0x7B0a54d667F2665438DDf66349C30d75Dc4c590A","router":"0x0000000000000000000000000000000000000000","bToken":"0x3D1D2aFd191b165D140e3E8329E634665fFB0E5e","bTokenSymbol":"DERI","initialBlock":"17131129","symbols":[{"symbolId":"0","symbol":"AXSUSDT","unit":"AXS"},{"symbolId":"1","symbol":"ALICEUSDT","unit":"ALICE"}],"chainId":"137","version":"v2_lite"}],"oracle":[{"chainId":"137","symbol":"AXSUSDT","address":"0x6E0faAD5DE9e7FdBedA9A9e3fBCD01E1e7a1F4Db","decimal":"18"},{"chainId":"137","symbol":"ALICEUSDT","address":"0x0000000000000000000000000000000000000000","decimal":"18"},{"chainId":"56","symbol":"AXSUSDT","address":"0xB08D439016AC9223307A73c43Ac959d096bB64De","decimal":"18"},{"chainId":"56","symbol":"MBOXUSDT","address":"0xDD677a1B0591206F932b946983643638DE814Bcb","decimal":"18"},{"chainId":"56","symbol":"IBSCDEFI","address":"0x8E31136F6f9247Ef93743bDEbC74dbD48a08E3be","decimal":"18"},{"chainId":"56","symbol":"IGAME","address":"0x27CF22Dd313723781d3C28664363187e6EB654fE","decimal":"18"},{"chainId":"56","symbol":"ALICEUSDT","address":"0x0000000000000000000000000000000000000000","decimal":"18"}],"poolViewer":[{"chainId":"56","address":"0xC157B7bf1aA08Eb36338EFd7bD0a33abF04f1Dd2"},{"chainId":"137","address":"0x7587353B1B8071dB7e81F9AC6A9D2419A04c2D86"}],"brokerManager":[]},"dev":{"pools":[{"pool":"0x3422DcB21c32d91aDC8b7E89017e9BFC13ee2d42","pToken":"0x1aD33A66Bc950E05E10f56a472D818AFEe72012C","lToken":"0x5443bB7B9920b41Da027f8Aab41c90702ACD7d8a","router":"0x0000000000000000000000000000000000000000","bToken":"0x4038191eFb39Fe1d21a48E061F8F14cF4981A0aF","bTokenSymbol":"BUSD","initialBlock":"10522328","symbols":[{"symbolId":"0","symbol":"BTCUSD","unit":"BTC"},{"symbolId":"1","symbol":"ETHUSD","unit":"ETH"},{"symbolId":"2","symbol":"AXSUSDT","unit":"AXS"},{"symbolId":"3","symbol":"MANAUSDT","unit":"MANA"},{"symbolId":"4","symbol":"MBOXUSDT","unit":"MBOX"},{"symbolId":"5","symbol":"IBSCDEFI","unit":"iBSCDEFI"},{"symbolId":"6","symbol":"IGAME","unit":"iGAME"}],"chainId":"97","version":"v2_lite"}],"oracle":[{"chainId":"97","symbol":"BTCUSD","address":"0x78Db6d02EE87260a5D825B31616B5C29f927E430","decimal":"18"},{"chainId":"97","symbol":"ETHUSD","address":"0xdF0050D6A07C19C6F6505d3e66B68c29F41edA09","decimal":"18"},{"chainId":"97","symbol":"AXSUSDT","address":"0x63F73b157Ee52dE3c3f9248753a05Aa5649B6f87","decimal":"18"},{"chainId":"97","symbol":"MANAUSDT","address":"0x386BcDB9De6ce9df9232B7239073b0A931B7f39c","decimal":"18"},{"chainId":"97","symbol":"MBOXUSDT","address":"0xB6cce9FAf4bB63bD4060aaDB311Cfb216aF91C36","decimal":"18"},{"chainId":"97","symbol":"IBSCDEFI","address":"0x38e84505697A25ad0c279E6D0b85EBc9712118BA","decimal":"18"},{"chainId":"97","symbol":"IGAME","address":"0xa08e8B5a0dec49D4E8371a61C0CF7d729642d4c0","decimal":"18"}],"poolViewer":[{"chainId":"97","address":"0xaBeB6F87ab3810655a5702C00d4D646dC85d7a0C"}],"brokerManager":[{"chainId":"97","address":"0xe4101EC5F4EF144e97DdE7542A605c8813a975Fc"}]}},"option":{"prod":{"pools":[],"oracle":[]},"dev":{"pools":[{"pool":"0x98EfC36182eEC80eC20F600533E87f82AeDbb2e6","pToken":"0x7484e22022C971e314A00e0dfbfCDe8E223c80aC","lToken":"0xCeBF39aF5e8D9736985ddCb6E45c016Fd146218C","bToken":"0x2ebE70929bC7D930248040f54135dA12f458690C","bTokenSymbol":"BUSD","initialBlock":"11404887","symbols":[{"symbolId":"0","symbol":"BTCUSD-20000-C","unit":"BTC"},{"symbolId":"1","symbol":"BTCUSD-30000-C","unit":"BTC"},{"symbolId":"2","symbol":"BTCUSD-40000-C","unit":"BTC"},{"symbolId":"3","symbol":"BTCUSD-20000-P","unit":"BTC"},{"symbolId":"4","symbol":"BTCUSD-30000-P","unit":"BTC"},{"symbolId":"5","symbol":"BTCUSD-40000-P","unit":"BTC"},{"symbolId":"6","symbol":"ETHUSD-1500-C","unit":"ETH"},{"symbolId":"7","symbol":"ETHUSD-2000-C","unit":"ETH"},{"symbolId":"8","symbol":"ETHUSD-2500-C","unit":"ETH"},{"symbolId":"9","symbol":"ETHUSD-1500-P","unit":"ETH"},{"symbolId":"10","symbol":"ETHUSD-2000-P","unit":"ETH"},{"symbolId":"11","symbol":"ETHUSD-2500-P","unit":"ETH"},{"symbolId":"12","symbol":"BTCUSD-50000-C","unit":"BTC"},{"symbolId":"13","symbol":"BTCUSD-60000-C","unit":"BTC"},{"symbolId":"14","symbol":"ETHUSD-3500-C","unit":"ETH"},{"symbolId":"15","symbol":"ETHUSD-4000-C","unit":"ETH"}],"chainId":"97","version":"option"}],"oracle":[{"chainId":"97","symbol":"BTCUSD","address":"0x18C036Ee25E205c224bD78f10aaf78715a2B6Ff1","decimal":"18"},{"chainId":"97","symbol":"ETHUSD","address":"0x073C99954e1cf5eb6f4Ef6f1B7FF21ACf735Ee6A","decimal":"18"}],"poolViewer":[{"chainId":"97","address":"0x508707350F1e0e5146459fDf03aC19a347CecdaA"}]}}}')},93:function(e,t,n){"use strict";var i=n(2),a=n.n(i),r=n(235),s=n.n(r),o=n(128),l=n.n(o),p=(n(250),n(13));class u extends a.a.Component{componentWillMount(){l.a.start()}componentWillUnmount(){l.a.done()}render(){return Object(p.jsx)("div",{})}}t.a=e=>s()({loader:e,loading:()=>Object(p.jsx)(u,{})})},95:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));const i=(t="dev")=>"prod"===t||"production"===t?e&&Object({NODE_ENV:"development",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_WSS_URL:"wss://oracle2.deri.finance",REACT_APP_HTTP_URL:"https://oracle2.deri.finance",REACT_APP_REST_SERVER_URL:"https://testnetapi.deri.finance"})?"https://testnetapi.deri.finance":"https://api.deri.finance":"https://testnetapi.deri.finance"}).call(this,n(14))}},[[566,8,9]]]);
//# sourceMappingURL=main.6d27a69c.chunk.js.map