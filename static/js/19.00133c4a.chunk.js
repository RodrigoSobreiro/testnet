(this["webpackJsonpapp.deri.finance"]=this["webpackJsonpapp.deri.finance"]||[]).push([[19,9],{1034:function(e){e.exports=JSON.parse('{"container_id":"tv-container","library_path":"/charting_library/","custom_css_url":"/style/tradingview-overide.css","disabled_features":["header_widget","timeframes_toolbar","go_to_date"],"fullscreen":false,"autosize":true,"overrides":{"paneProperties.background":"#212327","paneProperties.vertGridProperties.color":"#212327","paneProperties.horzGridProperties.color":"#212327","scalesProperties.textColor":"#aaa","mainSeriesProperties.candleStyle.upColor":"#4bffb5","mainSeriesProperties.candleStyle.downColor":"#d75442","mainSeriesProperties.candleStyle.borderColor":"#378658","mainSeriesProperties.candleStyle.borderUpColor":"#4bffb5","mainSeriesProperties.candleStyle.borderDownColor":"#ff4976","mainSeriesProperties.candleStyle.wickUpColor":"#4bffb5","mainSeriesProperties.candleStyle.wickDownColor":"#ff4976","mainSeriesProperties.haStyle.upColor":"#6ba583","mainSeriesProperties.haStyle.downColor":"#d75442","mainSeriesProperties.haStyle.drawWick":true,"mainSeriesProperties.haStyle.drawBorder":true,"mainSeriesProperties.haStyle.borderColor":"#378658","mainSeriesProperties.haStyle.borderUpColor":"#225437","mainSeriesProperties.haStyle.borderDownColor":"#5b1a13","mainSeriesProperties.haStyle.wickColor":"#737375","mainSeriesProperties.haStyle.barColorsOnPrevClose":false},"studies_overrides":{"Overlay.lineStyle.color":"#569bda"},"toolbar_bg":"#212327","session":"24x7"}')},1035:function(e,t,i){},1036:function(e,t,i){},1037:function(e,t,i){},1391:function(e,t,i){"use strict";i.r(t);var s=i(2),n=i(607),c=i.n(n),a=i(37),r=i(16),l=i(642),o=i.n(l),d=i(997),j=i(629),b=i.n(j),u=i(22),p=i(126),m=i(13);var h=Object(a.b)("intl","trading")(Object(a.c)((function({interval:e="1",displayCandleData:t,mixedChart:i,lang:n,showLoad:a,preload:r,trading:l}){const j=Object(s.useRef)(null),h=Object(s.useRef)(null),O=Object(s.useRef)(null),g=Object(s.useRef)(null),x=Object(s.useRef)(null),A=Object(s.useRef)(null),f=Object(s.useRef)([]),v=Object(s.useRef)([]),[y,N]=Object(s.useState)(!1),w=c()("scroll-mask",{show:y}),C=async(t,i,s,n)=>{const c=i&&s?[i,s]:Object(u.b)(e),r=`https://oracle2.deri.finance/get_kline?symbol=${t}&time_type=${u.o[e]}&from=${c[0]}&to=${c[1]}`;!n&&a(!0);const l=await b.a.get(r);return a(!1),l.data&&Array.isArray(l.data.data)?l.data.data:[]},S=async(i,s,n)=>{if(s&&i){const c=x.current=i.addCandlestickSeries({priceScaleId:n,upColor:"#4bffb5",downColor:"#ff4976",borderDownColor:"#ff4976",borderUpColor:"#4bffb5",wickDownColor:"#ff4976",wickUpColor:"#4bffb5",priceFormat:{}}),a=await C(s);a&&Array.isArray(a)&&a.length>0&&(c.setData(a),O.current=a[0],v.current=a),t({data:a[a.length-1]}),p.a.subscribe("get_kline_update",{symbol:s,time_type:u.o[e]},(e=>{c.update(e)}))}},k=e=>{e.point&&"function"===typeof t&&e.seriesPrices.forEach((i=>{if(i&&i.open&&i.close&&i.high&&i.low){const s={time:e.time,data:i};t(s)}}))},I=(e,t)=>{if(e.applyOptions({visible:!e.options().visible}),j.current){const e=j.current;e.applyOptions({[`${t}PriceScale`]:{visible:!e.options()[`${t}PriceScale`].visible}})}};return Object(s.useEffect)((()=>{const t=[];let s;if(l.config&&r){const{symbol:n}=l.config;s=j.current=(t=>{if(h.current&&t&&e){const t=Object(d.b)(h.current,{localization:{timeFormatter:e=>o()(e,"yyyy-mm-dd HH:MM")},width:"1198",height:478,timezone:Intl?Intl.DateTimeFormat().resolvedOptions().timeZone:"Etc/UTC",timeScale:{rightOffset:3,timeVisible:!0,borderColor:"#fff",tickMarkFormatter:(t,i,s)=>{const n="1W"===e||"1D"===e?"yyyy-mm-dd":"HH:MM";return o()(t,n)}},priceScale:{borderColor:"#fff",mode:1},crosshair:{mode:d.a.Normal,vertLine:{color:"#fff",labelBackgroundColor:"#569bda"},horzLine:{color:"#fff",labelBackgroundColor:"#569bda"}},grid:{vertLines:{visible:!1},horzLines:{visible:!1}},layout:{backgroundColor:"#212327",textColor:"#aaa",fontSize:12}});return t.subscribeCrosshairMove(k),t}})(n),i?((async(t,i,s)=>{if(t&&i){t.applyOptions({leftPriceScale:{title:i,visible:!0,borderColor:"rgba(197, 203, 206, 1)"}});const n=A.current=t.addLineSeries({priceScaleId:s,topColor:"#569bda",bottomColor:"#569bda",lineColor:"#569bda",lineWidth:2}),c=(await C(i)).map((e=>({time:e.time,value:e.close})));n.setData(c),f.current=c,p.a.subscribe("get_kline_update",{symbol:i,time_type:u.o[e]},(e=>{const t={time:e.time,value:e.close};n.update(t)}))}})(s,Object(u.j)(n),"left"),t.push(Object(u.j)(n)),S(s,Object(u.j)(`${n}-MARKPRICE`),"right"),t.push(Object(u.j)(`${n}-MARKPRICE`))):(S(s,Object(u.j)(`${n}-MARKPRICE`),"right"),t.push(Object(u.j)(`${n}-MARKPRICE`))),g.current=t}let n=null;return s&&s.timeScale().subscribeVisibleLogicalRangeChange((()=>{null!=n||y||(n=setTimeout((async()=>{const t=s.timeScale().getVisibleLogicalRange(),c=x.current&&x.current.barsInLogicalRange(t);if(null!==c&&c.barsBefore<-10){N(!0);const t=Math.floor((v.current[0].time-1*u.u[e])/1e3,0),s=t-(Math.abs(Math.floor(c.barsBefore,0))-1)*u.u[e],n=Object(u.j)(`${l.config.symbol}-MARKPRICE`),a=await C(n,s,t,!0);let r;if(v.current&&x.current&&a.length>0&&(r=[...a,...v.current],x.current.setData(r),v.current=r),i&&a.length>0){const e=await C(Object(u.j)(`${l.config.symbol}`),s,t,!0);if(f.current&&A.current&&e.length>0){r=[...e.map((e=>({time:e.time,value:e.close}))),...f.current],A.current.setData(r),f.current=r}}N(!1)}n=null}),500))})),()=>{g.current&&g.current.forEach((t=>p.a.unsubscribe("un_get_kline",{symbol:t,time_type:u.o[e]}))),s&&(x.current&&s.removeSeries(x.current),A.current&&s.removeSeries(A.current),s.remove()),x.current=null,A.current=null}}),[e,r,l.config]),Object(m.jsxs)("div",{className:"ligth-chart-container",id:"ligth-chart-container",ref:h,children:[Object(m.jsx)("div",{className:w}),i&&Object(m.jsxs)("div",{className:"legend",children:[Object(m.jsxs)("div",{onClick:()=>I(x.current,"right"),children:[Object(m.jsx)("span",{className:"legend-option-left",children:" "}),Object(m.jsx)("span",{className:"legend-option-right",children:" "}),n.option]}),Object(m.jsxs)("div",{onClick:()=>I(A.current,"left"),children:[Object(m.jsx)("span",{className:"legend-index"}),l.config&&Object(u.y)(`${l.config.symbol}`)]})]})]})}))),O=function(){return(O=Object.assign||function(e){for(var t,i=arguments,s=1,n=arguments.length;s<n;s++)for(var c in t=i[s])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e}).apply(this,arguments)};function g(e,t){var i=O({},e);for(var s in t)"object"!=typeof e[s]||null===e[s]||Array.isArray(e[s])?void 0!==t[s]&&(i[s]=t[s]):i[s]=g(e[s],t[s]);return i}var x={mobile:{disabled_features:["left_toolbar","header_widget","timeframes_toolbar","edit_buttons_in_legend","context_menus","control_bar","border_around_the_chart"],enabled_features:[]}},A={width:800,height:500,interval:"1D",timezone:"Etc/UTC",container_id:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},trading_customization:{position:{},order:{}},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"1W"},{text:"1y",resolution:"1W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",favorites:{intervals:[],chartTypes:[]}};var f=function(){function e(e){if(this._id="tradingview_"+(1048576*(1+Math.random())|0).toString(16).substring(1),this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!e.datafeed)throw new Error("Datafeed is not defined");if(this._options=g(A,e),e.preset){var t=x[e.preset];t?(void 0!==this._options.disabled_features?this._options.disabled_features=this._options.disabled_features.concat(t.disabled_features):this._options.disabled_features=t.disabled_features,void 0!==this._options.enabled_features?this._options.enabled_features=this._options.enabled_features.concat(t.enabled_features):this._options.enabled_features=t.enabled_features):console.warn("Unknown preset: `"+e.preset+"`")}"Dark"===this._options.theme&&void 0===this._options.loading_screen&&(this._options.loading_screen={backgroundColor:"#131722"}),this._create()}return e.prototype.onChartReady=function(e){this._ready?e.call(this):this._readyHandlers.push(e)},e.prototype.headerReady=function(){var e=this;return this._innerWindowLoaded.then((function(){return e._innerWindow().headerReady()}))},e.prototype.onGrayedObjectClicked=function(e){this._innerAPI().onGrayedObjectClicked(e)},e.prototype.onShortcut=function(e,t){this._innerWindow().createShortcutAction(e,t)},e.prototype.subscribe=function(e,t){this._innerAPI().subscribe(e,t)},e.prototype.unsubscribe=function(e,t){this._innerAPI().unsubscribe(e,t)},e.prototype.chart=function(e){return this._innerAPI().chart(e)},e.prototype.getLanguage=function(){return this._options.locale},e.prototype.setSymbol=function(e,t,i){this._innerAPI().changeSymbol(e,t,i)},e.prototype.remove=function(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id],this._iFrame.parentNode&&this._iFrame.parentNode.removeChild(this._iFrame)},e.prototype.closePopupsAndDialogs=function(){this._innerAPI().closePopupsAndDialogs()},e.prototype.selectLineTool=function(e){this._innerAPI().selectLineTool(e)},e.prototype.selectedLineTool=function(){return this._innerAPI().selectedLineTool()},e.prototype.save=function(e){this._innerAPI().saveChart(e)},e.prototype.load=function(e,t){this._innerAPI().loadChart({json:e,extendedData:t})},e.prototype.getSavedCharts=function(e){this._innerAPI().getSavedCharts(e)},e.prototype.loadChartFromServer=function(e){this._innerAPI().loadChartFromServer(e)},e.prototype.saveChartToServer=function(e,t,i){this._innerAPI().saveChartToServer(e,t,i)},e.prototype.removeChartFromServer=function(e,t){this._innerAPI().removeChartFromServer(e,t)},e.prototype.onContextMenu=function(e){this._innerAPI().onContextMenu(e)},e.prototype.createButton=function(e){return this._innerWindow().createButton(e)},e.prototype.showNoticeDialog=function(e){this._innerAPI().showNoticeDialog(e)},e.prototype.showConfirmDialog=function(e){this._innerAPI().showConfirmDialog(e)},e.prototype.showLoadChartDialog=function(){this._innerAPI().showLoadChartDialog()},e.prototype.showSaveAsChartDialog=function(){this._innerAPI().showSaveAsChartDialog()},e.prototype.symbolInterval=function(){return this._innerAPI().getSymbolInterval()},e.prototype.mainSeriesPriceFormatter=function(){return this._innerAPI().mainSeriesPriceFormatter()},e.prototype.getIntervals=function(){return this._innerAPI().getIntervals()},e.prototype.getStudiesList=function(){return this._innerAPI().getStudiesList()},e.prototype.addCustomCSSFile=function(e){this._innerWindow().addCustomCSSFile(e)},e.prototype.applyOverrides=function(e){this._options=g(this._options,{overrides:e}),this._innerWindow().applyOverrides(e)},e.prototype.applyStudiesOverrides=function(e){this._innerWindow().applyStudiesOverrides(e)},e.prototype.watchList=function(){return this._innerAPI().watchlist()},e.prototype.activeChart=function(){return this._innerAPI().activeChart()},e.prototype.chartsCount=function(){return this._innerAPI().chartsCount()},e.prototype.layout=function(){return this._innerAPI().layout()},e.prototype.setLayout=function(e){this._innerAPI().setLayout(e)},e.prototype.layoutName=function(){return this._innerAPI().layoutName()},e.prototype.changeTheme=function(e,t){this._innerWindow().changeTheme(e,t)},e.prototype.getTheme=function(){return this._innerWindow().getTheme()},e.prototype.takeScreenshot=function(){this._innerAPI().takeScreenshot()},e.prototype.lockAllDrawingTools=function(){return this._innerAPI().lockAllDrawingTools()},e.prototype.hideAllDrawingTools=function(){return this._innerAPI().hideAllDrawingTools()},e.prototype.drawOnAllCharts=function(e){this._innerAPI().drawOnAllCharts(e)},e.prototype.magnetEnabled=function(){return this._innerAPI().magnetEnabled()},e.prototype.magnetMode=function(){return this._innerAPI().magnetMode()},e.prototype.undoRedoState=function(){return this._innerAPI().undoRedoState()},e.prototype.setIntervalLinkingEnabled=function(e){this._innerAPI().setIntervalLinkingEnabled(e)},e.prototype.setTimeFrame=function(e){this._innerAPI().setTimeFrame(e)},e.prototype.symbolSync=function(){return this._innerAPI().symbolSync()},e.prototype.intervalSync=function(){return this._innerAPI().intervalSync()},e.prototype.crosshairSync=function(){return this._innerAPI().crosshairSync()},e.prototype.timeSync=function(){return this._innerAPI().timeSync()},e.prototype.getAllFeatures=function(){return this._innerWindow().getAllFeatures()},e.prototype.clearUndoHistory=function(){return this._innerAPI().clearUndoHistory()},e.prototype.undo=function(){return this._innerAPI().undo()},e.prototype.redo=function(){return this._innerAPI().redo()},e.prototype.startFullscreen=function(){this._innerAPI().startFullscreen()},e.prototype.exitFullscreen=function(){this._innerAPI().exitFullscreen()},e.prototype.takeClientScreenshot=function(e){return this._innerAPI().takeClientScreenshot(e)},e.prototype._innerAPI=function(){return this._innerWindow().tradingViewApi},e.prototype._innerWindow=function(){return this._iFrame.contentWindow},e.prototype._autoResizeChart=function(){this._options.fullscreen&&(this._iFrame.style.height=window.innerHeight+"px")},e.prototype._create=function(){var e=this,t=this._render(),i=document.getElementById(this._options.container_id);if(null===i)throw new Error("There is no such element - #"+this._options.container_id);i.innerHTML=t,this._iFrame=i.querySelector("#"+this._id);var s=this._iFrame;(this._options.autosize||this._options.fullscreen)&&(s.style.width="100%",this._options.fullscreen||(s.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize(),this._innerWindowLoaded=new Promise((function(e){var t=function(){s.removeEventListener("load",t,!1),e()};s.addEventListener("load",t,!1)})),this._innerWindowLoaded.then((function(){e._innerWindow().widgetReady((function(){e._ready=!0;for(var t=0,i=e._readyHandlers;t<i.length;t++){var s=i[t];try{s.call(e)}catch(n){console.error(n)}}e._innerWindow().initializationFinished()}))}))},e.prototype._render=function(){var e=window;if(e[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.custom_formatters||this._options.customFormatters,brokerFactory:this._options.broker_factory||this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,tradingCustomization:this._options.trading_customization,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.broker_config||this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,getCustomIndicators:this._options.custom_indicators_getter},this._options.saved_data)e[this._id].chartContent={json:this._options.saved_data},this._options.saved_data_meta_info&&(e[this._id].chartContentExtendedData=this._options.saved_data_meta_info);else if(!this._options.load_last_chart&&!this._options.symbol)throw new Error("Symbol is not defined: either 'symbol' or 'load_last_chart' option must be set");var t=(this._options.library_path||"")+(encodeURIComponent(this._options.locale)+"-tv-chart.b555c6a4.html#symbol=")+encodeURIComponent(this._options.symbol||"")+"&interval="+encodeURIComponent(this._options.interval)+(this._options.timeframe?"&timeframe="+encodeURIComponent(this._options.timeframe):"")+(this._options.toolbar_bg?"&toolbarbg="+encodeURIComponent(this._options.toolbar_bg.replace("#","")):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+encodeURIComponent(String(this._options.debug))+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"")+(this._options.compare_symbols?"&compareSymbols="+encodeURIComponent(JSON.stringify(this._options.compare_symbols)):"")+(this._options.theme?"&theme="+encodeURIComponent(String(this._options.theme)):"");return'<iframe id="'+this._id+'" name="'+this._id+'"  src="'+t+'"'+(this._options.autosize||this._options.fullscreen?"":' width="'+this._options.width+'" height="'+this._options.height+'"')+' frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="display:block;"></iframe>'},e}();window.TradingView=window.TradingView||{},window.TradingView.version=function(){return"CL v18.043 (internal id b555c6a4 @ 2021-02-18T09:41:15.150Z)"};var v=i(1034),y=i(17);const N=["1","5","15","30","60","240","1D","5D","1W","1M"];let w;var C=Object(a.b)("intl")(Object(a.c)((function({interval:e,showLoad:t,intl:i,preload:n,config:c}){const a=Object(s.useRef)(null),l=Object(s.useRef)(null),o=Object(s.useRef)({onReady:e=>{setTimeout((()=>e({supported_resolutions:N})),0)},getBars:(e,t,i,s,n,a,r)=>d(e,t,i,s,n,a,r,c),resolveSymbol:(e,t)=>O(e,t),subscribeBars:(e,t,i,s,n)=>j(e,t,i,s,n),unsubscribeBars:e=>h(e)}),d=async(e,i,s,n,c,a,r,o)=>{const d=await b.a.get("https://oracle2.deri.finance/get_kline",{params:{symbol:3===e.name.length?Object(u.j)(`${e.name}USD`):e.config.markpriceSymbolFormat,time_type:u.o[i],from:s,to:n}});if(d&&200===d.status&&Array.isArray(d.data.data)&&d.data.data.length>0){const e=d.data.data;t(!1),c(e),l.current=e[e.length-1]}else c([],{noData:!0})},j=(e,t,i,s,n)=>{p.a.subscribe("get_kline_update",{symbol:Object(u.j)(e.name),time_type:u.o[t]},(e=>{e&&l.current&&e.time>=l.current.time&&(i(e),l.current=e)}))},h=t=>{c&&c.symbol&&p.a.unsubscribe("un_get_kline",{symbol:Object(u.j)(c.symbol),time_type:u.o[e]})},O=(e,t)=>{setTimeout((()=>t({name:e,ticker:e,full_name:e,pricescale:100,config:w,type:"index",minmov:1,has_intraday:!0,intraday_multipliers:["1","2","5","15","30","60","240","1D","7D","1W","1M"],has_weekly_and_monthly:!0,has_no_volume:!0,has_daily:!0,timezone:"UTC",session:"24x7",supported_resolutions:N})),0)};return Object(s.useEffect)((()=>(c&&c.symbol&&e&&n&&(w=c,(()=>{const s=Intl?Intl.DateTimeFormat().resolvedOptions().timeZone:"Etc/UTC",n={symbol:c.symbol,datafeed:o.current,interval:e,locale:i.locale,timezone:s,...v};a.current=new f(n),a.current.onChartReady((()=>{if(t&&t(!1),r.a.isFuture&&!y.a.isOpen&&!y.a.isV1){const e=c.symbol.indexOf("USD");a.current.chart().createStudy("Overlay",!0,!1,[c.symbol.substr(0,e)],null,{priceScale:"as-series",color:"#aaa"})}}))})()),()=>{a.current&&a.current.remove(),h()})),[e,n,c]),Object(m.jsx)("div",{id:"tv-container"})})));var S=Object(a.b)("intl","trading")(Object(a.c)((function({symbol:e,lang:t,trading:i}){const[n,a]=Object(s.useState)(!0),[l,o]=Object(s.useState)("one"),[d,j]=Object(s.useState)(""),[b,p]=Object(s.useState)("1"),[O,g]=Object(s.useState)(""),x=c()("btn",l),A=c()("switcher",d),f=(e,t)=>{o(t),p(e)},v=e=>{j(e)},y=e=>{if(e&&e.data){const{data:i}=e,s=i.close-i.open>0?"rise":"down";i.open&&i.close&&i.high&&i.low&&g(Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("span",{children:t.open}),Object(m.jsx)("span",{className:s,children:i.open.toFixed(2)}),Object(m.jsx)("span",{children:t.high})," ",Object(m.jsxs)("span",{className:s,children:[" ",i.high.toFixed(2)]}),Object(m.jsx)("span",{children:t.low}),Object(m.jsx)("span",{className:s,children:i.low.toFixed(2)}),Object(m.jsx)("span",{children:t.closed}),Object(m.jsx)("span",{className:s,children:i.close.toFixed(2)})]}))}};return Object(s.useEffect)((()=>(r.a.isOption?j("mark-price"):j("index-price"),()=>{})),[]),Object(m.jsxs)("div",{id:"tradingview",children:[r.a.isOption&&Object(m.jsxs)("div",{className:A,children:[Object(m.jsx)("span",{className:"mark-price-c",onClick:()=>v("mark-price"),children:t["option-mark-price"]}),Object(m.jsx)("span",{className:"index-price-c",onClick:()=>v("index-price"),children:Object(u.y)(e)||t.index}),Object(m.jsx)("span",{className:"option-index-c",onClick:()=>v("option-index"),children:`${t.option} + ${Object(u.y)(e)||t.index}`})]}),Object(m.jsxs)("div",{className:x,children:[Object(m.jsxs)("span",{className:"candle-data-area",children:[Object(m.jsx)("span",{className:"symbol-value",style:{display:"mark-price"===d||"option-index"===d?"inline-block":"none"},children:O&&e}),Object(m.jsx)("span",{className:"candle-data",style:{display:"mark-price"===d||"option-index"===d?"inline-block":"none"},children:O})]}),Object(m.jsxs)("span",{className:"interval",children:[Object(m.jsxs)("span",{className:"tab-btn one",onClick:()=>f("1","one"),children:["1",t.min]}),Object(m.jsxs)("span",{className:"tab-btn five",onClick:()=>f("5","five"),children:["5",t.min]}),Object(m.jsxs)("span",{className:"tab-btn fifteen",onClick:()=>f("15","fifteen"),children:["15",t.min]}),Object(m.jsxs)("span",{className:"tab-btn thirty",onClick:()=>f("30","thirty"),children:["30",t.min]}),Object(m.jsxs)("span",{className:"tab-btn sixty",onClick:()=>f("60","sixty"),children:["1",t.hour]}),Object(m.jsxs)("span",{className:"tab-btn one-day",onClick:()=>f("1D","one-day"),children:["1",t.day]}),Object(m.jsxs)("span",{className:"tab-btn one-week",onClick:()=>f("1W","one-week"),children:["1",t.week]})]})]}),Object(m.jsx)("div",{className:"loading",style:{display:n?"block":"none"},children:Object(m.jsx)("div",{className:"spinner-border",role:"status",children:Object(m.jsx)("span",{className:"sr-only"})})}),Object(m.jsx)("div",{style:{display:"index-price"===d?"block":"none"},children:Object(m.jsx)(C,{symbol:e,config:i.config,interval:b,showLoad:e=>a(e),preload:"index-price"===d})}),r.a.isOption&&Object(m.jsx)("div",{id:"lightweight-chart",style:{display:"mark-price"===d?"block":"none"},children:Object(m.jsx)(h,{symbol:e,interval:b,displayCandleData:y,showLoad:e=>a(e),lang:t,preload:"mark-price"===d})}),r.a.isOption&&Object(m.jsx)("div",{id:"lightweight-chart",style:{display:"option-index"===d?"block":"none"},children:Object(m.jsx)(h,{symbol:e,interval:b,displayCandleData:y,showLoad:e=>a(e),lang:t,mixedChart:!0,preload:"option-index"===d})})]})}))),k=i(610),I=i(7),D=i(618);var B=Object(a.b)("trading","version","type")(Object(a.c)((function({version:e,trading:t,lang:i,type:n}){const[c,a]=Object(s.useState)("rise"),[r,l]=Object(s.useState)("rise"),[o,d]=Object(s.useState)(),[j,b]=Object(s.useState)(""),u=Object(s.useRef)(),p=Object(s.useRef)();return Object(s.useEffect)((()=>(u.current&&(u.current>t.index?a("fall"):a("rise")),u.current=t.index,()=>{})),[t.index]),Object(s.useEffect)((()=>{let e=t.position.markPrice;p.current>e?l("fall trade-dashboard-value"):l("rise trade-dashboard-value"),p.current=e,d(e)}),[t.index,t.position]),Object(s.useEffect)((()=>{if(t.fundingRate.funding0&&t.position.markPrice){let e=Object(I.g)(t.fundingRate.funding0).div(Object(I.g)(t.position.markPrice)).times(Object(I.g)(100)).toString();b(e)}}),[t.fundingRate,t.position]),Object(m.jsxs)("div",{id:"trading-view",children:[Object(m.jsxs)("div",{className:"right-top",children:[Object(m.jsx)("div",{className:"symbol-basetoken-text",children:n.isOption?`${t.config?t.config.symbol:""}`:e.isV1||e.isV2Lite||e.isOpen?`${t.config?t.config.symbol:"BTCUSD"} / ${t.config?t.config.bTokenSymbol:""}  (10X)`:`${t.config?t.config.symbol:"BTCUSD"} (10X)`}),n.isFuture&&Object(m.jsxs)(m.Fragment,{children:[!e.isOpen&&Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(m.jsx)("div",{className:"trade-dashboard-title",children:i["mark-price"]}),Object(m.jsx)("div",{className:r,children:Object(m.jsx)(k.a,{value:o,decimalScale:2})})]})}),Object(m.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(m.jsx)("div",{className:"trade-dashboard-title",children:i["index-price"]}),Object(m.jsx)("div",{className:c,children:Object(m.jsx)(k.a,{value:t.index,decimalScale:2})})]}),Object(m.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[(e.isOpen||e.isV1)&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"trade-dashboard-title",children:[Object(m.jsx)("span",{children:i["funding-rate-annual"]}),"  "]}),Object(m.jsx)("div",{className:"trade-dashboard-value",children:Object(m.jsx)(D.a,{block:!1,children:Object(m.jsx)("span",{className:"funding-per",tip:t.fundingRateTip||"",children:Object(m.jsx)(k.a,{value:t.fundingRate.fundingRate0,decimalScale:4,suffix:"%"})})})})]}),!e.isOpen&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"trade-dashboard-title",children:[Object(m.jsx)("span",{children:i["funding-rate"]}),"  "]}),Object(m.jsxs)("div",{className:"trade-dashboard-value",children:[Object(m.jsx)(D.a,{block:!1,children:Object(m.jsx)("span",{className:"funding-per",tip:t.dpmmFundingRateTip||"",children:Object(m.jsx)(k.a,{value:t.fundingRate.funding0,decimalScale:4})})}),Object(m.jsxs)(D.a,{block:!1,children:["\xa0  ",Object(m.jsxs)("span",{className:"funding-per",tip:t.rateTip||"",children:["(",Object(m.jsx)(k.a,{value:j,decimalScale:4,suffix:"%"}),")"]})]})]})]})]}),Object(m.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(m.jsx)("div",{className:"trade-dashboard-title",children:i["total-net-position"]}),Object(m.jsx)("div",{className:"trade-dashboard-value",children:Object(m.jsx)(D.a,{block:!1,children:Object(m.jsx)("span",{className:"funding-per",tip:t.TotalNetPositionTip||"",children:Object(m.jsx)(k.a,{value:t.fundingRate.tradersNetVolume})})})})]})]}),n.isOption&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"trade-dashboard-item latest-price option-price-weight",children:[Object(m.jsx)("div",{className:"trade-dashboard-title",children:i["eo-mark-price"]}),Object(m.jsx)("div",{className:r,children:Object(m.jsx)(k.a,{value:o,decimalScale:4})})]}),Object(m.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(m.jsx)("div",{className:"trade-dashboard-title option-symbol",children:t.config&&n.isOption?t.config.symbol.split("-")[0]:""}),Object(m.jsxs)("div",{className:"trade-dashboard-value",children:[Object(m.jsxs)("span",{children:[" ",Object(m.jsx)(k.a,{value:t.index,decimalScale:2})," "]}),Object(m.jsx)("span",{className:"vol",children:" | "}),i.vol," : ",Object(m.jsx)(k.a,{value:t.position.volatility,decimalScale:2,suffix:"%"})]})]}),Object(m.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(m.jsxs)("div",{className:"trade-dashboard-title",children:[Object(m.jsx)("span",{children:i["funding-rate"]}),"  "]}),Object(m.jsx)("div",{className:"trade-dashboard-value",children:Object(m.jsx)(D.a,{block:!1,children:Object(m.jsx)("span",{className:"funding-per",tip:t.optionFundingRateTip||"",children:Object(m.jsx)(k.a,{value:t.fundingRate.premiumFunding0,decimalScale:4})})})})]}),Object(m.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(m.jsx)("div",{className:"trade-dashboard-title",children:i["total-net-position"]}),Object(m.jsx)("div",{className:"trade-dashboard-value",children:Object(m.jsx)(k.a,{value:Object(I.g)(t.fundingRate.tradersNetVolume).times(t.contract.multiplier).toString(),decimalScale:4})})]})]}),Object(m.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(m.jsx)("div",{className:"trade-dashboard-title",children:i["pool-total-liquidity"]}),Object(m.jsxs)("div",{className:"trade-dashboard-value",children:[" ",Object(m.jsx)(k.a,{allowLeadingZeros:!0,thousandSeparator:!0,value:t.fundingRate.liquidity,decimalScale:2})," ",t.config&&t.config.bTokenSymbol]})]})]}),Object(m.jsx)("div",{className:"tradingview",children:Object(m.jsx)(S,{symbol:t.config&&t.config.symbol,lang:i,version:e})})]})}))),M=i(131),Q=i(649),E=i(650),R=i(737),F=i(738),_=(i(735),i(683));i(736);const P=Object(M.a)(Q.a),L=Object(M.a)(E.a),J=Object(M.a)(_.a);function T({wallet:e,trading:t,lang:i}){const[n,c]=Object(s.useState)(Object(m.jsx)("span",{}));return Object(s.useEffect)((()=>{if(e.isConnected()&&t.positions)if(t.positions.length&&t.positions.length>0){if(t.positions[0].liquidationPrice&&t.positions[0].liquidationPrice.length){let e=t.positions[0].liquidationPrice.map(((e,t)=>((e,t)=>{let s=Object(m.jsx)("span",{children:"--"},t);return e.numPositions>1?(e.price1&&e.price2?s=Object(m.jsxs)("span",{children:[Object(m.jsxs)("span",{children:[e.underlier,": "]}),Object(m.jsxs)("span",{children:[Object(m.jsx)(k.a,{decimalScale:2,value:e.price1}),Object(m.jsx)("span",{children:" / "}),Object(m.jsx)(k.a,{decimalScale:2,value:e.price2})]}),"\xa0"]},t):e.price1||e.price2?!e.price1&&e.price2?s=Object(m.jsxs)("span",{children:[Object(m.jsxs)("span",{children:[e.underlier,": "]}),Object(m.jsxs)("span",{children:[Object(m.jsxs)(D.a,{block:!1,children:[" ",Object(m.jsx)("span",{className:"funding-fee",tip:i["liq-price-hover-three"],children:" ? "}),"  "]}),Object(m.jsx)("span",{children:" / "}),Object(m.jsxs)("span",{children:[" ",Object(m.jsx)(k.a,{decimalScale:2,value:e.price2})," "]})]}),"\xa0"]},t):e.price1&&!e.price2&&(s=Object(m.jsxs)("span",{children:[Object(m.jsxs)("span",{children:[e.underlier,": "]}),Object(m.jsxs)("span",{children:[Object(m.jsxs)("span",{children:[" ",Object(m.jsx)(k.a,{decimalScale:2,value:e.price1})," "]}),Object(m.jsx)("span",{children:" / "}),Object(m.jsxs)(D.a,{block:!1,children:[" ",Object(m.jsx)("span",{className:"funding-fee",tip:i["liq-price-hover-three"],children:" ? "})]})]}),"\xa0"]},t)):s=Object(m.jsxs)("span",{children:[Object(m.jsxs)("span",{children:[e.underlier,": "]}),Object(m.jsxs)("span",{children:[Object(m.jsxs)(D.a,{block:!1,children:[" ",Object(m.jsx)("span",{className:"funding-fee",tip:i["liq-price-hover-three"],children:" ? "})]}),Object(m.jsx)("span",{children:" / "}),Object(m.jsxs)(D.a,{block:!1,children:["   ",Object(m.jsx)("span",{className:"funding-fee",tip:i["liq-price-hover-three"],children:" ? "})]})]}),"\xa0"]},t),s):(e.price1&&e.price2?s=Object(m.jsxs)("span",{children:[Object(m.jsxs)("span",{children:[e.underlier,": "]}),Object(m.jsxs)("span",{children:[Object(m.jsx)(k.a,{decimalScale:2,value:e.price1}),Object(m.jsx)("span",{children:" / "}),Object(m.jsx)(k.a,{decimalScale:2,value:e.price2})]}),"\xa0"]},t):e.price1||e.price2?!e.price1&&e.price2?s=Object(m.jsxs)("span",{children:[Object(m.jsxs)("span",{children:[e.underlier,": "]}),Object(m.jsxs)("span",{children:[Object(m.jsxs)(D.a,{block:!1,children:[" ",Object(m.jsx)("span",{className:"funding-fee",tip:i["liq-price-hover-two"],children:" -- "})]}),Object(m.jsx)("span",{children:" / "}),Object(m.jsxs)("span",{children:[" ",Object(m.jsx)(k.a,{decimalScale:2,value:e.price2})," "]})]}),"\xa0"]},t):e.price1&&!e.price2&&(s=Object(m.jsxs)("span",{children:[Object(m.jsxs)("span",{children:[e.underlier,": "]}),Object(m.jsxs)("span",{children:[Object(m.jsxs)("span",{children:[" ",Object(m.jsx)(k.a,{decimalScale:2,value:e.price1})," "]}),Object(m.jsx)("span",{children:" / "}),Object(m.jsxs)(D.a,{block:!1,children:[" ",Object(m.jsx)("span",{className:"funding-fee",tip:i["liq-price-hover-two"],children:" -- "})]})]}),"\xa0"]},t)):s=Object(m.jsxs)("span",{children:[Object(m.jsxs)("span",{children:[e.underlier,": "]}),Object(m.jsxs)("span",{children:[Object(m.jsxs)(D.a,{block:!1,children:[" ",Object(m.jsx)("span",{className:"funding-fee",tip:i["liq-price-hover-two"],children:" -- "})]}),Object(m.jsx)("span",{children:" / "}),Object(m.jsxs)(D.a,{block:!1,children:[" ",Object(m.jsx)("span",{className:"funding-fee",tip:i["liq-price-hover-two"],children:" -- "})]})]}),"\xa0"]},t),s)})(e,t)));c(e)}}else c("")}),[e,t.positions]),Object(m.jsx)("span",{children:n})}var H=Object(a.b)("wallet","trading","version","type","loading")(Object(a.c)((function({wallet:e,trading:t,version:i,lang:n,type:c,loading:a}){const[r,l]=Object(s.useState)("LONG"),[o,d]=Object(s.useState)(!1),[j,b]=Object(s.useState)(null),[p,h]=Object(s.useState)(!1),[O,g]=Object(s.useState)(!1),[x,A]=Object(s.useState)(!1),[f,v]=Object(s.useState)(""),[y,N]=Object(s.useState)(""),[w,C]=Object(s.useState)(""),[S,B]=Object(s.useState)([]);Object(s.useEffect)((()=>{e.isConnected()&&t.positions&&B(t.positions)}),[e.detail.account,t.positions]);const M=()=>{E()},Q=M,E=()=>{_(),t.refresh()},_=async()=>{if(e.isConnected()&&t.config){const i=await Object(I.Z)(e.detail.chainId,t.config.pool,e.detail.account,t.config.bTokenId).catch((e=>console.log(e)));i&&v(i)}};return Object(s.useEffect)((()=>{if(t.position){const{position:e}=t,i=+e.volume>0?"LONG":e.volume&&!Object(u.e)(e.volume,0)&&e.volume?"SHORT":"--";l(i),N(Object(I.g)(e.margin).plus(e.unrealizedPnl).toString()),C(Object(I.g)(e.margin).plus(e.unrealizedPnl).minus(e.marginHeld).toString())}return()=>{}}),[t.position.volume,t.position.margin,t.position.unrealizedPnl]),Object(s.useEffect)((()=>(_(),()=>{})),[e.detail.account,t.config,t.amount.dynBalance]),Object(m.jsxs)("div",{className:"position-box",children:[Object(m.jsxs)("div",{className:"p1-box theader",children:[Object(m.jsxs)("div",{className:"dyn-eff-bal",children:[n["dynamic-effective-balance"]," : \xa0",Object(m.jsxs)("span",{children:[i.isV1||i.isV2Lite||c.isOption||i.isOpen?Object(m.jsx)(D.a,{block:!1,children:Object(m.jsx)("span",{className:"open-add",id:"openAddMargin",onClick:()=>g(!0),tip:n["remove-margin"],children:Object(m.jsx)("img",{src:R.a,alt:"add margin"})})}):Object(m.jsx)(D.a,{block:!1,children:Object(m.jsx)("span",{className:"open-add",id:"openAddMargin",tip:n["remove-margin"],onClick:()=>A(!0),children:Object(m.jsx)("img",{src:R.a,alt:"add margin"})})}),Object(m.jsx)(k.a,{allowZero:!0,value:y,decimalScale:2}),i.isV1||i.isV2Lite||c.isOption||i.isOpen?Object(m.jsx)(D.a,{block:!1,children:Object(m.jsx)("span",{className:"open-remove",onClick:()=>h(!0),tip:n["add-margin"],children:Object(m.jsx)("img",{src:F.a,alt:"add margin"})})}):Object(m.jsx)(D.a,{block:!1,children:Object(m.jsx)("span",{className:"open-remove",onClick:()=>A(!0),tip:n["add-margin"],children:Object(m.jsx)("img",{src:F.a,alt:"add margin"})})})]})]}),c.isOption&&Object(m.jsxs)(m.Fragment,{children:[" ",Object(m.jsxs)("div",{className:"liquidation-price",children:[Object(m.jsx)(D.a,{block:!1,children:Object(m.jsxs)("span",{className:"funding-fee",tip:n["liq-price-hover-one"],children:[n["liquidation-price"],"  "]})}),": ",Object(m.jsx)(T,{wallet:e,trading:t,lang:n})]})]})]}),Object(m.jsxs)("div",{className:"p-box theader",children:[Object(m.jsx)("div",{className:"position-symbol",children:n.symbol}),Object(m.jsx)("div",{className:"position",children:n.position}),Object(m.jsx)("div",{className:"ave-entry-price",children:n["average-entry-price"]}),Object(m.jsx)("div",{className:"direction",children:n.direction}),Object(m.jsx)("div",{className:"margin",children:n.margin}),Object(m.jsx)("div",{className:"unrealized-pnl",children:n["unrealized-pnl"]}),Object(m.jsxs)("div",{children:[Object(m.jsx)(D.a,{children:Object(m.jsx)("span",{className:"funding-fee",tip:n["funding-fee-tip"],children:n["funding-fee"]})})," "]}),c.isFuture&&Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"unrealized-pnl",children:[n["liquidation-price"]," "]})})]}),S.map(((i,s)=>Object(m.jsxs)("div",{className:"p-box tbody",children:[Object(m.jsx)("div",{className:"position-symbol",onClick:()=>(e=>{const i=t.configs.find((i=>i.pool===t.config.pool&&e===i.symbolId));i&&(a.loading(),t.pause(),t.setConfig(i),t.onSymbolChange(i,(()=>a.loaded()),c.isOption))})(i.symbolId),children:i.symbol}),Object(m.jsxs)("div",{className:"position",children:[Object(m.jsx)(k.a,{value:i.volume,allowZero:!0}),Object(m.jsxs)("span",{className:"close-position",children:[Object(m.jsx)("img",{style:{display:j!==s?"inline-block":"none"},src:"data:image/png;base64,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",onClick:()=>{(async(i,s,c)=>{d(!0),b(c);const a=await Object(I.h)(e.detail.chainId,t.config.pool,e.detail.account,i).finally((()=>{d(!1),b(null)}));a.success?E():"string"===typeof a.error?alert(a.error||n["close-position-failed"]):"object"===typeof a.error?alert(a.error.errorMessage||n["close-position-failed"]):alert(n["close-position-failed"])})(i.symbolId,i.volume,s)}}),Object(m.jsx)("span",{className:"spinner spinner-border spinner-border-sm",role:"status","aria-hidden":"true",style:{display:o&&j===s?"block":"none"}})]})]}),Object(m.jsx)("div",{className:"ave-entry-price",children:Object(m.jsx)(k.a,{value:i.averageEntryPrice,decimalScale:4})}),Object(m.jsx)("div",{className:i.direction,children:n[i.direction.toLowerCase()]||i.direction}),Object(m.jsx)("div",{className:"margin",children:Object(m.jsx)(k.a,{value:i.marginHeldBySymbol,decimalScale:2})}),Object(m.jsx)("div",{className:"pnl",children:Object(m.jsx)("span",{className:"pnl-list unrealized-pnl",children:Object(m.jsx)(k.a,{value:i.unrealizedPnl,decimalScale:6})})}),c.isOption&&Object(m.jsx)("div",{children:Object(m.jsx)(k.a,{value:-i.premiumFundingAccrued,decimalScale:8})}),c.isFuture&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{children:Object(m.jsx)(k.a,{value:-i.fundingFee,decimalScale:8})}),Object(m.jsx)("div",{children:Object(m.jsx)(k.a,{value:i.liquidationPrice,decimalScale:4})})]})]},s))),S.length?"":Object(m.jsx)("div",{className:"no-data",children:n["no-data"]}),Object(m.jsx)(P,{wallet:e,modalIsOpen:p,onClose:()=>h(!1),spec:t.config,afterDeposit:Q,balance:f,className:"trading-dialog",lang:n}),Object(m.jsx)(L,{wallet:e,modalIsOpen:O,onClose:()=>g(!1),spec:t.config,afterWithdraw:M,availableBalance:w,position:t.position,className:"trading-dialog",lang:n}),Object(m.jsx)(J,{wallet:e,modalIsOpen:x,onClose:()=>A(!1),spec:t.config,afterDepositAndWithdraw:()=>{E()},position:t.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog",lang:n})]})}))),Y=i(637),G=i.n(Y),z=(i(616),i(50)),U=i(651);const W=z[I.a.get()].chainInfo;function V({wallet:e,his:t}){const[i,n]=Object(s.useState)(!1),a=()=>{n(!0)},r=()=>{n(!1)},l=c()("view",{hover:i});return Object(m.jsxs)("span",{className:l,onMouseOut:r,children:[Object(m.jsx)("span",{className:"view-space",onMouseOver:a,children:Object(m.jsxs)("a",{target:"_blank",rel:"noreferrer",href:`${W[e.detail.chainId].viewUrl}tx/${t.transactionHash}`,children:["View at ",W[e.detail.chainId].viewUrl]})}),Object(m.jsx)("span",{className:"right-arrow",onMouseOver:a,children:Object(m.jsx)("img",{alt:"",src:U.a})}),Object(m.jsx)("span",{className:"view-arrow",onMouseOver:a,onMouseOut:r,children:Object(m.jsx)("a",{target:"_blank",rel:"noreferrer",href:`${W[e.detail.chainId].viewUrl}tx/${t.transactionHash}`,children:Object(m.jsx)("img",{rel:"noreferrer",alt:"",src:"data:image/svg+xml;base64,DQo8c3ZnIGZpbGw9Im5vbmUiIGhlaWdodD0iMTAiIHdpZHRoPSIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCiAgICA8cGF0aCBkPSJNOC42NzYuNjQyYS42NS42NSAwIDAwLS4wNzIuMDA2SDQuNzkzYS42NS42NSAwIDAwLS41Ny45NzUuNjUuNjUgMCAwMC41Ny4zMjJINy4xMkwuNDM4IDguNjE0YS42NDcuNjQ3IDAgMDAuMjg2IDEuMDk2LjY1LjY1IDAgMDAuNjMyLS4xNzlMOC4wNCAyLjg2MXYyLjMyNGEuNjQ4LjY0OCAwIDAwLjk3Ny41Ny42NDguNjQ4IDAgMDAuMzIyLS41N1YxLjM4YS42NDcuNjQ3IDAgMDAtLjY2Mi0uNzM3eiIgZmlsbD0iI0FBQUFBQSIvPg0KPC9zdmc+DQoNCg=="})})})]})}var q=Object(a.b)("wallet","trading","type")(Object(a.c)((function({wallet:e,trading:t,lang:i,type:n}){const[c,a]=Object(s.useState)([]);return Object(s.useEffect)((()=>(async function(){if(e.isConnected()&&t.config){const e=t.history.map((e=>(e.directionText=i["long-buy"],"SHORT"===e.direction?e.directionText=i["short-sell"]:"liquidation"===e.direction.toLowerCase()&&(e.directionText=i.liquidation),e)));a(e)}}(),()=>{})),[e.detail.account,t.config,t.history]),Object(m.jsxs)("div",{className:"history-box",children:[Object(m.jsxs)("div",{className:"p-box theader",children:[Object(m.jsx)("div",{className:"td",children:i.time}),Object(m.jsx)("div",{children:i.direction}),Object(m.jsxs)("div",{children:[n.isOption&&i["symbol-option"],n.isFuture&&i.symbol]}),Object(m.jsx)("div",{children:i.price}),Object(m.jsxs)("div",{children:[i.volume,"  ",n.isOption?`( ${i.notional} )`:""," "]}),Object(m.jsx)("div",{children:n.isOption?i["contract-value"]:i.notional}),Object(m.jsx)("div",{children:i["transaction-fee"]})]}),c.map(((t,i)=>Object(m.jsxs)("div",{className:"p-box tbody",children:[Object(m.jsx)("div",{className:"td",children:G.a.asString("yyyy-MM-dd hh:mm:ss",new Date(parseInt(t.time)))}),Object(m.jsxs)("div",{className:t.direction,children:[t.directionText,Object(m.jsx)(V,{wallet:e,his:t})]}),Object(m.jsx)("div",{children:t.symbol||"--"}),Object(m.jsx)("div",{children:Object(m.jsx)(k.a,{value:t.price,decimalScale:4})}),Object(m.jsx)("div",{children:t.volume}),Object(m.jsx)("div",{children:Object(m.jsx)(k.a,{value:t.notional,decimalScale:4})}),Object(m.jsx)("div",{children:Object(m.jsx)(k.a,{value:t.transactionFee,decimalScale:4})})]},i))),0===c.length?Object(m.jsx)("div",{className:"no-data",children:i["no-data"]}):""]})})));var Z=function({lang:e,type:t}){const[i,n]=Object(s.useState)("position"),a=e=>{n(e)},r=c()("position-info",i);return Object(m.jsxs)("div",{className:r,children:[Object(m.jsxs)("div",{className:"position-header",children:[Object(m.jsxs)("div",{className:"position-title",children:[Object(m.jsx)("span",{className:"position-info-title",children:e["position-info"]}),Object(m.jsx)("span",{className:"history-info-title",children:e["trade-history"]})]}),Object(m.jsxs)("div",{className:"check-position-history ",children:[Object(m.jsx)("div",{className:"btn-position",onClick:()=>a("position"),children:e["current-position"]}),Object(m.jsx)("div",{className:"btn-history",onClick:()=>a("history"),children:e["trade-history"]})]})]}),Object(m.jsxs)("div",{className:"pos-his-info ",children:[Object(m.jsx)(H,{lang:e}),Object(m.jsx)(q,{lang:e})]})]})},K=i(762),X=i(773),$=(i(774),i(775),i(776),i(1035),i(1036),i(1037),i(739)),ee=i(648);t.default=Object(a.b)("wallet","type","version")(Object(a.c)((function({wallet:e,lang:t,type:i,version:n}){return Object(ee.useLocation)().pathname.split("/")[3]&&n.setCurrent("v1"),Object(s.useEffect)((()=>(document.querySelector(".desktop").style.minWidth="1903px",()=>{document.querySelector(".desktop").style.minWidth=""})),[e.detail.account]),Object(m.jsxs)("div",{className:"trade-container",children:[Object(m.jsx)($.a,{lang:t}),Object(m.jsxs)("div",{className:"trade-body",children:[Object(m.jsx)(X.a,{lang:t}),Object(m.jsxs)("div",{className:"trade-pro",children:[Object(m.jsx)("div",{className:"left",children:Object(m.jsx)(K.a,{isPro:!0,lang:t})}),Object(m.jsxs)("div",{className:"right",children:[Object(m.jsx)(B,{wallet:e,lang:t}),Object(m.jsx)(Z,{lang:t,type:i})]})]})]})]})})))},608:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var s=i(2),n=i(13);function c({btnText:e,className:t,disabled:i,click:c,afterClick:a,checkApprove:r,wallet:l,spec:o,lang:d}){const[j,b]=Object(s.useState)(i?"disabled":"enabled"),[u,p]=Object(s.useState)(!0),[m,h]=Object(s.useState)(!1),[O,g]=Object(s.useState)(e),x=Object(s.useRef)(null),A=()=>{b("disabled"),h(!0),x.current&&(x.current.style.display="inline-block")},f=()=>{x.current&&(x.current.style.display="none"),b("enabled"),h(!1)};return Object(s.useEffect)((()=>((async()=>{if(r&&l&&l.detail.account){const e=await l.isApproved(o.pool,o.bTokenId);p(e)}})(),()=>{})),[l,o,r]),Object(s.useEffect)((()=>(e&&g(e),()=>{})),[e]),Object(n.jsxs)("button",{className:t,onClick:()=>{u?(async()=>{if("enabled"!==j)return;A(),await c()&&a&&a(),f()})():(async()=>{A(),(await l.approve(o.pool,o.bTokenId)).success?p(!0):(p(!1),alert(d["approve-failed"])),f()})()},children:[Object(n.jsx)("span",{className:"btn-loading-wrap",children:Object(n.jsx)("span",{ref:x,className:"spinner spinner-border spinner-border-sm",style:{display:"none",marginRight:"2"}})}),m?d.pending:u?O:d.approve]})}},610:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var s=i(2),n=i(616),c=i(13);function a(e){const[t,i]=Object(s.useState)(Object(c.jsx)("span",{className:"loading-line"}));return Object(s.useEffect)((()=>{const{allowZero:t,...s}=e;return("object"!==typeof e.value&&void 0!==e.value&&""!==e.value&&"NaN"!==e.value||0===(isNaN(e.value)&&Math.abs(e.value))&&!0===t)&&i(Object(c.jsx)(n.a,{...s,displayType:"text"})),()=>{}}),[e.value]),t}},618:function(e,t,i){"use strict";var s=i(2),n=i(13);t.a=function(e){const t=Object(s.useRef)(null);return Object(s.useEffect)((()=>{const e=t.current;if(e){e.querySelectorAll("[tip]").forEach((t=>{let i=null;t.addEventListener("mouseover",(e=>{const t=e.currentTarget.getAttribute("tip");if(t){const s=`hover-box-${(new Date).getTime()}`;i=document.body.querySelector(`#${s}`),i=document.createElement("div"),i.style.cssText=`z-index : 9;min-width : 100px;max-width : ${window.screen.width}px ;font-size : 12px ;position : absolute;background-color: #2c2d31;border: 1px solid #AAAAAA;color: #AAAAAA;border-radius: 10px;padding: 4px;`,document.body.appendChild(i),i.innerText=t,i.id=s,i.style.display="block";const n=e.currentTarget.getBoundingClientRect();if(i.style.top=`${n.y+n.height+window.document.documentElement.scrollTop}px`,i.offsetWidth+e.pageX>window.screen.width)if(e.pageX-i.offsetWidth>=0)i.style.left=e.pageX-i.offsetWidth+"px";else{const t=e.pageX-i.offsetWidth/2>0?e.pageX-i.offsetWidth/2:0;i.style.left=`${t}px`}else i.style.left=`${e.pageX}px`}})),e.addEventListener("mouseout",(e=>{i&&i.remove()}))}))}return()=>{t.current=null}}),[e.title]),e.block?Object(n.jsx)("div",{ref:t,children:e.children}):Object(n.jsx)("span",{ref:t,children:e.children})}},641:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var s=i(2);function n(e){return Object(s.useEffect)((()=>(document.querySelector("body").style.overflow="hidden",()=>{e||(document.querySelector("body").style.overflow="auto")})),[]),null}},648:function(e,t,i){"use strict";function s(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var n=i(20),c=s(i(2)),a=i(36);i(3),i(12);var r=s(i(26));function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e}).apply(this,arguments)}function o(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function d(e,t){if(null==e)return{};var i,s,n={},c=Object.keys(e);for(s=0;s<c.length;s++)i=c[s],0<=t.indexOf(i)||(n[i]=e[i]);return n}var j=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))||this).history=a.createBrowserHistory(t.props),t}return o(t,e),t.prototype.render=function(){return c.createElement(n.Router,{history:this.history,children:this.props.children})},t}(c.Component),b=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))||this).history=a.createHashHistory(t.props),t}return o(t,e),t.prototype.render=function(){return c.createElement(n.Router,{history:this.history,children:this.props.children})},t}(c.Component),u=function(e,t){return"function"==typeof e?e(t):e},p=function(e,t){return"string"==typeof e?a.createLocation(e,null,null,t):e},m=function(e){return e},h=c.forwardRef;void 0===h&&(h=m);var O=h((function(e,t){var i=e.innerRef,s=e.navigate,n=e.onClick,a=d(e,["innerRef","navigate","onClick"]),r=a.target,o=l({},a,{onClick:function(t){try{n&&n(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||r&&"_self"!==r||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)||(t.preventDefault(),s())}});return o.ref=m!==h&&t||i,c.createElement("a",o)})),g=h((function(e,t){var i=e.component,s=void 0===i?O:i,a=e.replace,o=e.to,j=e.innerRef,b=d(e,["component","replace","to","innerRef"]);return c.createElement(n.__RouterContext.Consumer,null,(function(e){e||r(!1);var i=e.history,n=p(u(o,e.location),e.location),d=n?i.createHref(n):"",O=l({},b,{href:d,navigate:function(){var t=u(o,e.location);(a?i.replace:i.push)(t)}});return m!==h?O.ref=t||j:O.innerRef=j,c.createElement(s,O)}))})),x=function(e){return e},A=c.forwardRef;void 0===A&&(A=x);var f=A((function(e,t){var i=e["aria-current"],s=void 0===i?"page":i,a=e.activeClassName,o=void 0===a?"active":a,j=e.activeStyle,b=e.className,m=e.exact,h=e.isActive,O=e.location,f=e.sensitive,v=e.strict,y=e.style,N=e.to,w=e.innerRef,C=d(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return c.createElement(n.__RouterContext.Consumer,null,(function(e){e||r(!1);var i=O||e.location,a=p(u(N,i),i),d=a.pathname,S=d&&d.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),k=S?n.matchPath(i.pathname,{path:S,exact:m,sensitive:f,strict:v}):null,I=!!(h?h(k,i):k),D=I?function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.filter((function(e){return e})).join(" ")}(b,o):b,B=I?l({},y,{},j):y,M=l({"aria-current":I&&s||null,className:D,style:B,to:a},C);return x!==A?M.ref=t||w:M.innerRef=w,c.createElement(g,M)}))}));Object.defineProperty(t,"MemoryRouter",{enumerable:!0,get:function(){return n.MemoryRouter}}),Object.defineProperty(t,"Prompt",{enumerable:!0,get:function(){return n.Prompt}}),Object.defineProperty(t,"Redirect",{enumerable:!0,get:function(){return n.Redirect}}),Object.defineProperty(t,"Route",{enumerable:!0,get:function(){return n.Route}}),Object.defineProperty(t,"Router",{enumerable:!0,get:function(){return n.Router}}),Object.defineProperty(t,"StaticRouter",{enumerable:!0,get:function(){return n.StaticRouter}}),Object.defineProperty(t,"Switch",{enumerable:!0,get:function(){return n.Switch}}),Object.defineProperty(t,"generatePath",{enumerable:!0,get:function(){return n.generatePath}}),Object.defineProperty(t,"matchPath",{enumerable:!0,get:function(){return n.matchPath}}),Object.defineProperty(t,"useHistory",{enumerable:!0,get:function(){return n.useHistory}}),Object.defineProperty(t,"useLocation",{enumerable:!0,get:function(){return n.useLocation}}),Object.defineProperty(t,"useParams",{enumerable:!0,get:function(){return n.useParams}}),Object.defineProperty(t,"useRouteMatch",{enumerable:!0,get:function(){return n.useRouteMatch}}),Object.defineProperty(t,"withRouter",{enumerable:!0,get:function(){return n.withRouter}}),t.BrowserRouter=j,t.HashRouter=b,t.Link=g,t.NavLink=f},649:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var s=i(2),n=i(7),c=i(616),a=i(608),r=i(641),l=i(13);function o({wallet:e,spec:t={},onClose:i,balance:o,afterDeposit:d,nested:j,lang:b}){const[u,p]=Object(s.useState)(""),[m,h]=Object(s.useState)(""),[O,g]=Object(s.useState)(""),[x,A]=Object(s.useState)(!1);Object(r.a)(j);return Object(s.useEffect)((()=>((()=>{if(o){const e=(+o).toFixed(2),t=e.indexOf(".")>0?e.substring(e.indexOf(".")+1,e.length):"0";p(o),h(t)}})(),()=>{})),[o]),Object(l.jsx)("div",{className:"modal fade",children:Object(l.jsx)("div",{className:"modal-dialog",children:Object(l.jsxs)("div",{className:"modal-content",children:[Object(l.jsxs)("div",{className:"modal-header",children:[Object(l.jsx)("div",{className:"title",children:b["deposit-margin"]}),Object(l.jsx)("div",{className:"close","data-dismiss":"modal",onClick:()=>{x||i()},children:Object(l.jsx)("span",{children:"\xd7"})})]}),Object(l.jsx)("div",{className:"modal-body",children:Object(l.jsxs)("div",{className:"margin-box-info",children:[Object(l.jsx)("div",{children:b["wallet-balance"]}),Object(l.jsxs)("div",{className:"money",children:[Object(l.jsxs)("span",{children:[Object(l.jsxs)("span",{className:"bt-balance",children:[Object(l.jsx)(c.a,{value:u,displayType:"text",decimalScale:0}),".",Object(l.jsx)("span",{style:{fontSize:"12px"},children:m})]}),Object(l.jsx)("br",{}),Object(l.jsx)("span",{style:{fontSize:"14px",marginLeft:"10px",marginTop:"10px"},children:t.bTokenSymbol})]}),Object(l.jsx)("span",{className:"add"})]}),Object(l.jsxs)("div",{className:"enter-margin",children:[Object(l.jsx)("div",{className:"input-margin",children:Object(l.jsxs)("div",{className:"box",children:[Object(l.jsx)("div",{className:"amount",style:{display:""!==O?"block":"none"},children:b.amount}),Object(l.jsx)("input",{type:"number",className:"margin-value",placeholder:b.amount,value:O,onChange:e=>{const{value:t}=e.target;g(t)}})]})}),Object(l.jsx)("div",{children:t.bTokenSymbol})]}),Object(l.jsxs)("div",{className:"max",children:[b["max-add"],": ",Object(l.jsx)("span",{className:"max-num",children:o}),Object(l.jsx)("span",{className:"max-btn-left",onClick:()=>{g(o)},children:b["add-all"]})]}),Object(l.jsx)("div",{className:"add-margin-btn",children:Object(l.jsx)(a.a,{className:"margin-btn",btnText:b.deposit,checkApprove:!0,wallet:e,spec:t,lang:b,click:()=>(async s=>{const c=Object(n.g)(o);if(Object(n.g)(s).gt(c))return void alert(b["insufficient-balance-in-wallet"]);if(+s<=0||isNaN(s))return void alert(b["it-has-to-be-greater-than-zero-tip"]);A(!0),(await Object(n.l)(e.detail.chainId,t.pool,e.detail.account,s,t.bTokenId)).success?(d(),i()):alert(b["deposit-failed"]),A(!1)})(O)})})]})})]})})})}},650:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var s=i(2),n=i(7),c=i(608),a=i(610),r=i(22),l=i(641),o=i(13);function d({wallet:e,spec:t={},position:i,onClose:d,afterWithdraw:j,availableBalance:b,nested:u,lang:p}){const[m,h]=Object(s.useState)(""),[O,g]=Object(s.useState)(""),[x,A]=Object(s.useState)(""),[f,v]=Object(s.useState)(!1);Object(l.a)(u);return Object(s.useEffect)((()=>((async()=>{if(e.isConnected()&&b){const e=b;h(e);const t=e.indexOf(".");g(t>0?e.substring(t+1,t+3):"00")}})(),()=>{})),[e.detail.account,i.margin,i.unrealizedPnl]),Object(o.jsx)("div",{className:"modal fade",id:"removeMargin",children:Object(o.jsx)("div",{className:"modal-dialog",children:Object(o.jsxs)("div",{className:"modal-content",children:[Object(o.jsxs)("div",{className:"modal-header",children:[Object(o.jsx)("div",{className:"title",children:p["withdraw-margin"]}),Object(o.jsx)("div",{className:"close",onClick:()=>{f||d()},children:Object(o.jsx)("span",{children:"\xd7"})})]}),Object(o.jsx)("div",{className:"modal-body",children:Object(o.jsxs)("div",{className:"margin-box-info",children:[Object(o.jsx)("div",{children:p["available-balance"]}),Object(o.jsxs)("div",{className:"money",children:[Object(o.jsx)("span",{children:Object(o.jsxs)("span",{className:"bt-balance",children:[Object(o.jsx)(a.a,{value:m,thousandSeparator:!0,decimalScale:0}),".",Object(o.jsx)("span",{style:{fontSize:"12px"},children:O})]})}),Object(o.jsx)("span",{className:"remove"})]}),Object(o.jsxs)("div",{className:"enter-margin remv",children:[Object(o.jsx)("div",{className:"input-margin",children:Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("div",{className:"amount",style:{display:""!==x?"block":"none"},children:p.amount}),Object(o.jsx)("input",{type:"number",className:"margin-value",value:x,onChange:e=>{const{value:t}=e.target;A(t)},placeholder:p.amount})]})}),Object(o.jsx)("div",{children:t.baseToken})]}),0===+i.marginHeld&&Object(o.jsxs)("div",{className:"max",children:[p.max,": ",Object(o.jsx)("span",{className:"max-num",children:m||i.margin}),Object(o.jsx)("span",{className:"max-btn-left",onClick:()=>{A(b)},children:p["remove-all"]})]}),+i.volume>0&&Object(o.jsxs)("div",{className:"max",children:[Object(o.jsx)("span",{className:"max-num"}),Object(o.jsx)("span",{className:"max-btn-left",children:" "})]}),Object(o.jsx)("div",{className:"add-margin-btn",children:Object(o.jsx)(c.a,{className:"margin-btn",btnText:p.withdraw,lang:p,click:async()=>{const i=Object(r.a)(m);if(Object(r.a)(x).gt(i))return void alert(p["under-margin"]);if(+x<=0||isNaN(x))return void alert(p["it-has-to-be-greater-than-zero-tip"]);v(!0);const s=i.eq(x),c=await Object(n.Ab)(e.detail.chainId,t.pool,e.detail.account,x,t.bTokenId,s);if(c.success)j(),d();else{const e="string"===typeof c.error?c.error:c.error.errorMessage||c.error.message;alert(e)}v(!1)},checkApprove:!0,wallet:e,spec:t})})]})})]})})})}},651:function(e,t,i){"use strict";t.a="data:image/png;base64,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"},683:function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var s=i(2),n=i(131),c=i(649),a=i(650),r=i(692),l=i(693),o=i(610),d=i(7),j=i(641),b=i(13);const u=Object(n.a)(c.a),p=Object(n.a)(a.a);function m({wallet:e,spec:t,afterDepositAndWithdraw:i,position:n,onClose:c,lang:a}){const[m,h]=Object(s.useState)([]),O=parseInt((document.body.offsetHeight-140)/54),[g,x]=Object(s.useState)(Array.from({length:O})),[A,f]=Object(s.useState)(!1),[v,y]=Object(s.useState)(!1),[N,w]=Object(s.useState)(""),[C,S]=Object(s.useState)(""),[k,I]=Object(s.useState)(""),[D,B]=Object(s.useState)("");Object(j.a)();const M=async()=>{if(e.detail.account&&t){const i=await Object(d.E)(e.detail.chainId,t.pool,e.detail.account,t.symbolId);h(i),i.length<O&&x(Array.from({length:O-i.length}))}};return Object(s.useEffect)((()=>(M(),window.scrollTo(0,0),()=>{})),[e.detail.account,t]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"modal fade",children:Object(b.jsx)("div",{className:"modal-dialog",children:Object(b.jsxs)("div",{className:"modal-content",children:[Object(b.jsxs)("div",{className:"modal-header",children:[Object(b.jsx)("div",{className:"title",children:a["balance-in-contract-uppercase"]}),Object(b.jsx)("div",{className:"close","data-dismiss":"modal",onClick:()=>{i(),c()},children:Object(b.jsx)("span",{children:"\xd7"})})]}),Object(b.jsx)("div",{className:"modal-body",children:Object(b.jsxs)("div",{className:"balance-list",children:[Object(b.jsxs)("div",{className:"row header",children:[Object(b.jsx)("span",{className:"btoken pc",children:a["base-token"]}),Object(b.jsx)("span",{className:"btoken mobile",children:a["base-token"]}),Object(b.jsx)("span",{className:"w-balance pc",children:a["wallet-balance"]}),Object(b.jsx)("span",{className:"w-balance mobile",children:a["wallet-balance"]}),Object(b.jsx)("span",{className:"avail-balance pc",children:a["available-balance"]}),Object(b.jsx)("span",{className:"avail-balance mobile",children:a["available-balance"]})]}),m.map(((e,t)=>Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("span",{className:"btoken",children:e.bTokenSymbol}),Object(b.jsx)("span",{className:"w-balance",children:Object(b.jsx)(o.a,{value:e.walletBalance,fixedDecimalScale:!0,decimalScale:2})}),Object(b.jsx)("span",{className:"avail-balance",children:Object(b.jsx)(o.a,{value:e.availableBalance,fixedDecimalScale:!0,decimalScale:2})}),Object(b.jsxs)("span",{className:"action",children:[Object(b.jsxs)("span",{className:"add-margin",id:"openAddMargin",onClick:()=>((e,t,i)=>{w(e),I(t),B(i),f(!0)})(e.walletBalance,e.bTokenId,e.bTokenSymbol),children:[Object(b.jsx)("img",{src:r.a,alt:a["add-margin"]})," ",a.add]}),Object(b.jsxs)("span",{className:"remove-margin",onClick:()=>((e,t,i)=>{S(e),I(t),B(i),y(!0)})(e.availableBalance,e.bTokenId,e.bTokenSymbol),children:[Object(b.jsx)("img",{src:l.a,alt:a["remove-margin"]})," ",a.remove]})]})]},t))),g.map(((e,t)=>Object(b.jsx)("div",{className:"row"},t)))]})})]})})}),Object(b.jsx)(u,{wallet:e,onClose:()=>f(!1),balance:N,spec:{...t,bTokenId:k,bTokenSymbol:D},position:n,modalIsOpen:A,afterDeposit:()=>{f(!1),M()},className:"trading-dialog",nested:!0,lang:a}),Object(b.jsx)(p,{wallet:e,onClose:()=>y(!1),spec:{...t,bTokenId:k,bTokenSymbol:D},position:n,modalIsOpen:v,afterWithdraw:()=>{y(!1),M()},availableBalance:C,className:"trading-dialog",nested:!0,lang:a})]})}},692:function(e,t,i){"use strict";t.a=i.p+"static/media/remove-margin.1ccb58c4.svg"},693:function(e,t,i){"use strict";t.a=i.p+"static/media/add-margin.8b496dd1.svg"},735:function(e,t,i){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAASCAYAAAC5DOVpAAAACXBIWXMAAAsSAAALEgHS3X78AAAArUlEQVQ4ja2UUQ0CMQxAHwQBOEACSDgJOMDCOWAoOAuggElAAjg5FJQ0lMuyDHIbfUmzj3Zv3ZoMEfkWQd4Ey/cisvtRz5L5rIFoa5EambIBbl4yZQucvWTKAei9ZMoA7P+VnYCFRUwTq6xQT7o29WmdBUBsjXZyDdP+0jU1eWntrIRO6uElG4EOeHrIUuE4V5ZPM+dugb1laO2sGldZes2jRTv2sX0+wlaCiPACF2WaE4qSlAwAAAAASUVORK5CYII="},736:function(e,t,i){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABO0lEQVQ4jaVV223DMAy8BvmvRvAG8QgeISN4lIyQDeoRMoK7gUfQBnUnYMH0LmAU2YETAoQhPs4niWd/mBkWLAE4AmiK9ATgstS0q8QcaADwA6Cv5E4AZj4fzRkG78xsNrOLmTVFrqyb6CnmYlFr/9avAJU+mFmOoCpIZLYFTO6gYwk4cJtbwUQmi4wC9uTMnnnP84QW4xtg8iupHedsrIxNCrG+GKGWsxhrvh1rT8AcwBz8wKaOw/3F/MzB9ppPPttysHNYq0GK0PqXnhnLoebO9oFZ3N7IbaupKwA61p2Lo7peylE39IZrUpJAZsrpVdCT5jgGXmXZREIxMVExW1Xifefax0ESGsovyAozB7uTbO2NrpqbNhdY+RH5Nm/MlgDl0qabv0CumLOqXuLaL8DNVVT7BfhwPxqAP4UiW3Wp1wTfAAAAAElFTkSuQmCC"},737:function(e,t,i){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAABHNCSVQICAgIfAhkiAAAAMtJREFUKFNjZACCR35JUoxM/1L//2cMY2Rk0AKJYQP//zNcY2T8v+r/P6bZcpvmPWMEaWRg/LcKqGkPy3/GVZIb51/Dpfm5f6LWH8b/YUBDXBj+M4UxPg5IqAcqZpTdsKABlyZ0cZgexkf+iVdZGRhC8dmIrhnkgt8MDKuBNif+l90wn5FYW2HqQPoGkWaQc3B5Adl7WJ0NDEkH3JoXHBgkfqYwnilJYYi0vRuYtlcTkbZDgWnbFZy2kXJVGjBXhRKRq1YDc9UsUK4CANLUkGF0vLC1AAAAAElFTkSuQmCC"},738:function(e,t,i){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAABHNCSVQICAgIfAhkiAAAAMNJREFUKFNjZAAC6yOGUsy/2VP///8fxsjIqAUSwwaA8teA8qv+sv6cfdTm/DNGkEamX+yrGBkZ9vxn/r/qsN3Ja7g02x4y12L8yxj2/z+Dyz+2n2GMdvst6oGKGQ85nmjApQldHKaH0Xaf+VUGFoZQfDaiawa5gOEPw2qQzf+BtjJis5WQ3CDSDHIqroBD9h5I3SByNrKTCYY2pfFMfgpDStu7gWl7NRFpOxSYtl3BaRspV6UBc00oEblqNTBXzQLlKgA5rqOIANC/1gAAAABJRU5ErkJggg=="},739:function(e,t,i){"use strict";var s=i(2),n=(i(772),i(607)),c=i.n(n),a=i(37),r=i(13);t.a=Object(a.b)("version","wallet","type")(Object(a.c)((function({lang:e,version:t,wallet:i,type:n}){const[a,l]=Object(s.useState)("main"),o=c()("area-picker-wrapper",a),[d,j]=Object(s.useState)({}),b=e=>{l(e),"innovation"===e?t.setCurrent("v2_lite"):"main"===e?t.setCurrent("v2"):"open"===e&&t.setCurrent("v2_lite_open")};return Object(s.useEffect)((()=>(t.isV2Lite?b("innovation"):t.isV2?b("main"):t.isOpen&&i.supportOpen&&b("open"),i.supportOpen?j({width:100/3+"%"}):j({width:"50%"}),()=>{})),[i.detail,t.current]),(t.isV2||t.isV2Lite||t.isOpen)&&i.supportInnovation&&!n.isOption?Object(r.jsx)("div",{className:"area-picker",children:Object(r.jsxs)("div",{className:o,children:[Object(r.jsx)("span",{className:"left",style:d,onClick:()=>b("main"),children:e["main-zone"]}),Object(r.jsx)("span",{className:"middle",style:d,onClick:()=>b("innovation"),children:e["innovation-zone"]}),i.supportOpen&&Object(r.jsx)("span",{className:"right",style:d,onClick:()=>b("open"),children:e["open-zone"]})]})}):null})))},762:function(e,t,i){"use strict";var s=i(2),n=i(7),c=i(607),a=i.n(c),r=i(131),l=i(649),o=i(650),d=i(610),j=i(22),b=i(37),u=i(683),p=i(693),m=i(692),h=i(735),O=i(736),g=i.p+"static/media/close-position-icon.6e2b1ee2.svg",x=i(618),A=i(13);const f=Object(r.a)(l.a),v=Object(r.a)(o.a),y=Object(r.a)(u.a);function N({trading:e,wallet:t,lang:i}){const[n,c]=Object(s.useState)(Object(A.jsx)("span",{}));return Object(s.useEffect)((()=>{let s="";t.isConnected()&&e.position.liquidationPrice&&(e.position.liquidationPrice.numPositions>1?e.position.liquidationPrice.price1&&e.position.liquidationPrice.price2?s=Object(A.jsxs)("span",{children:[Object(A.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price1}),Object(A.jsx)("span",{children:" / "}),Object(A.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price2})]}):e.position.liquidationPrice.price1||e.position.liquidationPrice.price2?!e.position.liquidationPrice.price1&&e.position.liquidationPrice.price2?s=Object(A.jsxs)("span",{children:[Object(A.jsx)(x.a,{block:!1,children:Object(A.jsx)("span",{className:"funding-fee",tip:i["liq-price-hover-three"],children:" ? "})}),Object(A.jsx)("span",{children:" / "}),Object(A.jsxs)("span",{children:[" ",Object(A.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price2})," "]})]}):e.position.liquidationPrice.price1&&!e.position.liquidationPrice.price2&&(s=Object(A.jsxs)("span",{children:[Object(A.jsxs)("span",{children:[" ",Object(A.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price1})," "]}),Object(A.jsx)("span",{children:" / "}),Object(A.jsx)(x.a,{block:!1,children:Object(A.jsx)("span",{className:"funding-fee",tip:i["liq-price-hover-three"],children:" ? "})})]})):s=Object(A.jsxs)("span",{children:[Object(A.jsx)(x.a,{block:!1,children:Object(A.jsx)("span",{className:"funding-fee",tip:i["liq-price-hover-three"],children:" ? "})}),Object(A.jsx)("span",{children:" / "}),Object(A.jsx)(x.a,{block:!1,children:Object(A.jsx)("span",{className:"funding-fee",tip:i["liq-price-hover-three"],children:" ? "})})]}):e.position.liquidationPrice.price1&&e.position.liquidationPrice.price2?s=Object(A.jsxs)("span",{children:[Object(A.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price1}),Object(A.jsx)("span",{children:" / "}),Object(A.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price2})]}):e.position.liquidationPrice.price1||e.position.liquidationPrice.price2?!e.position.liquidationPrice.price1&&e.position.liquidationPrice.price2?s=Object(A.jsxs)("span",{children:[Object(A.jsxs)(x.a,{block:!1,children:[" ",Object(A.jsx)("span",{className:"funding-fee",tip:i["liq-price-hover-two"],children:" -- "})]}),Object(A.jsx)("span",{children:" / "}),Object(A.jsxs)("span",{children:[" ",Object(A.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price2})," "]})]}):e.position.liquidationPrice.price1&&!e.position.liquidationPrice.price2&&(s=Object(A.jsxs)("span",{children:[Object(A.jsxs)("span",{children:[" ",Object(A.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price1})," "]}),Object(A.jsx)("span",{children:" / "}),Object(A.jsxs)(x.a,{block:!1,children:[" ",Object(A.jsx)("span",{className:"funding-fee",tip:i["liq-price-hover-two"],children:" -- "})]})]})):s=Object(A.jsxs)("span",{children:[Object(A.jsxs)(x.a,{block:!1,children:[" ",Object(A.jsx)("span",{className:"funding-fee",tip:i["liq-price-hover-two"],children:" -- "})]}),Object(A.jsx)("span",{children:" / "}),Object(A.jsxs)(x.a,{block:!1,children:[" ",Object(A.jsx)("span",{className:"funding-fee",tip:i["liq-price-hover-two"],children:" -- "})]})]}),c(s))}),[e.position,t.detail]),Object(A.jsx)("span",{children:n})}var w=Object(b.b)("wallet","trading","version","type")(Object(b.c)((function({wallet:e,trading:t,version:i,lang:c,type:r}){const[l,o]=Object(s.useState)(!1),[b,u]=Object(s.useState)(""),[w,C]=Object(s.useState)(""),[S,k]=Object(s.useState)(""),[I,D]=Object(s.useState)(!1),[B,M]=Object(s.useState)(!1),[Q,E]=Object(s.useState)(!1),[R,F]=Object(s.useState)(""),_=async()=>{if(e.isConnected()&&t.config){const i=await Object(n.Z)(e.detail.chainId,t.config.pool,e.detail.account,t.config.bTokenId).catch((e=>console.error("load balance error,maybe network is wrong")));i&&F(i)}},P=()=>{t.refresh(),_()},L=a()("Direction","info-num",{LONG:+t.position.volume>0,SHORT:+t.position.volume<0});return Object(s.useEffect)((()=>(_(),()=>{})),[e.detail.account,t.config]),Object(s.useEffect)((()=>{if(t.position){const{position:e}=t,i=+e.volume>0?c.long:Object(j.e)(e.volume,0)||!e.volume?"--":c.short;u(i),C(Object(n.g)(e.margin).plus(e.unrealizedPnl).toString()),k(Object(n.g)(e.margin).plus(e.unrealizedPnl).minus(e.marginHeld).toString())}return()=>{}}),[t.position.volume,t.position.margin,t.position.unrealizedPnl]),Object(A.jsxs)("div",{className:"position-info",children:[Object(A.jsxs)("div",{className:"info",children:[Object(A.jsxs)("div",{className:"info-left",children:[Object(A.jsx)("div",{className:"title-text",children:c.position}),Object(A.jsx)("div",{className:"info-num",children:Object(A.jsx)(d.a,{value:t.position.volume,allowZero:!0})})]}),Object(A.jsx)("div",{className:"info-right",children:Object(A.jsxs)("div",{className:"close-position",id:"close-p",onClick:async()=>{o(!0);const i=await Object(n.h)(e.detail.chainId,t.config.pool,e.detail.account,t.config.symbolId).finally((()=>o(!1)));i.success?P():"string"===typeof i.error?alert(i.error||c["close-position-failed"]):"object"===typeof i.error?alert(i.error.errorMessage||c["close-position-failed"]):alert(c["close-position-failed"])},children:[Object(A.jsx)("span",{className:"spinner spinner-border spinner-border-sm",role:"status","aria-hidden":"true",style:{display:l?"block":"none"}}),Object(A.jsx)("img",{src:g})," ",c.close]})})]}),Object(A.jsxs)("div",{className:"info",children:[Object(A.jsxs)("div",{className:"info-left",children:[Object(A.jsx)("div",{className:"title-text",children:c["average-entry-price"]}),Object(A.jsx)("div",{className:"info-num",children:Object(A.jsx)(d.a,{value:t.position.averageEntryPrice,decimalScale:2})})]}),Object(A.jsx)("div",{className:"info-right"})]}),Object(A.jsxs)("div",{className:"info",children:[Object(A.jsxs)("div",{className:"info-left",children:[Object(A.jsx)("div",{className:"title-text balance-con",children:i.isV1||i.isV2Lite||r.isOption?Object(A.jsxs)(A.Fragment,{children:[c["balance-in-contract"],Object(A.jsx)("br",{})," (",c["dynamic-balance"],")"]}):c["dynamic-effective-balance"]}),Object(A.jsx)("div",{className:"info-num",children:Object(A.jsx)(d.a,{decimalScale:2,allowZero:!0,value:w})})]}),Object(A.jsx)("div",{className:`info-right action ${i.current}`,children:i.isV1||i.isV2Lite||r.isOption||i.isOpen?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"add-margin",id:"openAddMargin",onClick:()=>M(!0),children:[Object(A.jsx)("img",{src:m.a,alt:"add margin"})," ",c.add]}),Object(A.jsxs)("div",{className:"remove-margin",onClick:()=>E(!0),children:[Object(A.jsx)("img",{src:p.a,alt:"add margin"})," ",c.remove]})]}):Object(A.jsxs)("div",{onClick:()=>D(!0),children:[Object(A.jsx)("img",{src:h.a,alt:"Remove margin"})," ",c.detail]})})]}),Object(A.jsxs)("div",{className:"info",children:[Object(A.jsxs)("div",{className:"info-left",children:[Object(A.jsx)("div",{className:"title-text",children:c.direction}),Object(A.jsx)("div",{className:L,children:b})]}),Object(A.jsx)("div",{className:"info-right"})]}),Object(A.jsxs)("div",{className:"info",children:[Object(A.jsxs)("div",{className:"info-left",children:[Object(A.jsx)("div",{className:"title-text",children:c.margin}),Object(A.jsx)("div",{className:"info-num",children:Object(A.jsx)(d.a,{value:t.position.marginHeld,decimalScale:2})})]}),Object(A.jsx)("div",{className:"info-right"})]}),Object(A.jsxs)("div",{className:"info",children:[Object(A.jsxs)("div",{className:"info-left",children:[Object(A.jsx)("div",{className:"title-text",children:c["unrealized-pnl"]}),Object(A.jsx)("div",{className:"info-num",children:Object(A.jsxs)("span",{className:"pnl-list",children:[Object(A.jsx)(d.a,{value:t.position.unrealizedPnl,decimalScale:8}),(t.position.unrealizedPnlList?(i.isV2||i.isV2Lite||i.isOption)&&t.position.unrealizedPnlList.length:i.isV2||i.isV2Lite)&&Object(A.jsx)("img",{src:O.a,alt:"unrealizePnl"}),(i.isV2||i.isV2Lite||i.isOption)&&Object(A.jsx)("div",{className:"pnl-box",children:t.position.unrealizedPnlList&&t.position.unrealizedPnlList.map(((e,t)=>Object(A.jsxs)("div",{className:"unrealizePnl-item",children:[Object(A.jsx)("span",{children:e[0]}),Object(A.jsx)("span",{children:Object(A.jsx)(d.a,{value:e[1],decimalScale:8})})]},t)))})]})})]}),Object(A.jsx)("div",{className:"info-right"})]}),Object(A.jsxs)("div",{className:"info",children:[r.isFuture&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"info-left",children:[Object(A.jsx)(x.a,{children:Object(A.jsx)("div",{className:"title-text  funding-fee",tip:c["funding-fee-tip"],children:c["funding-fee"]})}),Object(A.jsx)("div",{className:"info-num",children:Object(A.jsx)(d.a,{value:-t.position.fundingFee,decimalScale:8})})]}),Object(A.jsx)("div",{className:"info-right"})]}),r.isOption&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"info-left",children:[Object(A.jsx)(x.a,{children:Object(A.jsx)("div",{className:"title-text  funding-fee",tip:c["funding-fee-tip"],children:c["funding-fee"]})}),Object(A.jsx)("div",{className:"info-num",children:Object(A.jsx)(d.a,{value:-t.position.premiumFundingAccrued,decimalScale:8})})]}),Object(A.jsx)("div",{className:"info-right"})]})]}),Object(A.jsxs)("div",{className:"info",children:[Object(A.jsxs)("div",{className:"info-left",children:[Object(A.jsxs)("div",{className:"title-text",children:[Object(A.jsx)("span",{}),r.isOption?Object(A.jsx)(x.a,{block:!1,children:Object(A.jsx)("span",{className:"funding-fee",tip:c["liq-price-hover-one"],children:c["liquidation-price"]})}):Object(A.jsx)("span",{children:c["liquidation-price"]})]}),Object(A.jsx)("div",{className:"info-num",children:r.isOption?Object(A.jsx)(N,{trading:t,wallet:e,lang:c}):Object(A.jsx)(d.a,{decimalScale:4,value:t.position.liquidationPrice})})]}),Object(A.jsx)("div",{className:"info-right"})]}),Object(A.jsx)(f,{wallet:e,modalIsOpen:B,onClose:()=>{M(!1)},spec:t.config,afterDeposit:()=>{M(!1),P()},balance:R,className:"trading-dialog",lang:c}),Object(A.jsx)(v,{wallet:e,modalIsOpen:Q,onClose:()=>{E(!1)},spec:t.config,afterWithdraw:()=>{E(!1),P()},position:t.position,availableBalance:S,className:"trading-dialog",lang:c}),Object(A.jsx)(y,{wallet:e,modalIsOpen:I,onClose:()=>{D(!1)},spec:t.config,afterDepositAndWithdraw:()=>{P()},position:t.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog",lang:c})]})}))),C=i(637),S=i.n(C),k=i(616);var I=i(50),D=i(651);const B=I[n.a.get()].chainInfo;function M({wallet:e,his:t}){const[i,n]=Object(s.useState)(!1),c=()=>{n(!0)},r=()=>{n(!1)},l=a()("view",{hover:i});return Object(A.jsxs)("span",{className:l,onMouseOut:r,children:[Object(A.jsx)("span",{className:"view-space",onMouseOver:c,children:Object(A.jsxs)("a",{target:"_blank",rel:"noreferrer",href:`${B[e.detail.chainId].viewUrl}tx/${t.transactionHash}`,children:["View at ",B[e.detail.chainId].viewUrl]})}),Object(A.jsx)("span",{className:"right-arrow",onMouseOver:c,children:Object(A.jsx)("img",{alt:"",src:D.a})}),Object(A.jsx)("span",{className:"view-arrow",onMouseOver:c,onMouseOut:r,children:Object(A.jsx)("a",{target:"_blank",rel:"noreferrer",href:`${B[e.detail.chainId].viewUrl}tx/${t.transactionHash}`,children:Object(A.jsx)("img",{rel:"noreferrer",alt:"",src:"data:image/svg+xml;base64,DQo8c3ZnIGZpbGw9Im5vbmUiIGhlaWdodD0iMTAiIHdpZHRoPSIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCiAgICA8cGF0aCBkPSJNOC42NzYuNjQyYS42NS42NSAwIDAwLS4wNzIuMDA2SDQuNzkzYS42NS42NSAwIDAwLS41Ny45NzUuNjUuNjUgMCAwMC41Ny4zMjJINy4xMkwuNDM4IDguNjE0YS42NDcuNjQ3IDAgMDAuMjg2IDEuMDk2LjY1LjY1IDAgMDAuNjMyLS4xNzlMOC4wNCAyLjg2MXYyLjMyNGEuNjQ4LjY0OCAwIDAwLjk3Ny41Ny42NDguNjQ4IDAgMDAuMzIyLS41N1YxLjM4YS42NDcuNjQ3IDAgMDAtLjY2Mi0uNzM3eiIgZmlsbD0iI0FBQUFBQSIvPg0KPC9zdmc+DQoNCg=="})})})]})}var Q=Object(b.b)("wallet","trading","type")(Object(b.c)((function({wallet:e,trading:t,lang:i,type:n}){const[c,a]=Object(s.useState)([]);return Object(s.useEffect)((()=>(async function(){if(e.isConnected()&&t.configs&&t.config&&t.contract){const e=t.history.map((e=>{e.directionText=i["long-buy"],"SHORT"===e.direction?e.directionText=i["short-sell"]:"liquidation"===e.direction.toLowerCase()&&(e.directionText=i.liquidation);const s=t.config;return s&&(e.symbol=e.symbol?e.symbol:s.symbol,e.baseTokenText=e.baseToken?` ${e.symbol} / ${e.baseToken}`:e.symbol),e}));a(e)}}(),()=>{})),[e.detail,t.configs,t.config,t.history]),Object(A.jsxs)("div",{className:"history-info","v-show":"historyShow",children:[c.map(((t,s)=>Object(A.jsxs)("div",{className:"history-box",children:[Object(A.jsxs)("div",{className:"direction-bToken-price",children:[Object(A.jsxs)("span",{className:"direction",children:[Object(A.jsxs)("span",{className:`${t.direction}`,children:[" ",t.directionText]}),Object(A.jsx)("span",{className:"basetoken",children:t.baseTokenText}),Object(A.jsx)(M,{wallet:e,his:t})]}),Object(A.jsx)("span",{className:"history-text time",children:S.a.asString("yyyy-MM-dd hh:mm:ss",new Date(parseInt(t.time)))})]}),Object(A.jsxs)("div",{className:"time-price-volume",children:[Object(A.jsxs)("div",{className:"history-price",children:[Object(A.jsxs)("div",{className:"history-title",children:[" ",n.isOption?i["volume-notional-price"]:i["volume-price"]]}),Object(A.jsxs)("div",{className:"history-text",children:[t.volume," @ ",Object(A.jsx)(d.a,{value:t.price,decimalScale:4,displayType:"text"})]})]}),Object(A.jsxs)("div",{className:"notional",children:[Object(A.jsxs)("div",{className:"history-title",children:[" ",n.isOption?i["contract-value"]:i.notional]}),Object(A.jsx)("div",{className:"history-text",children:Object(A.jsx)(d.a,{value:t.notional,decimalScale:4})})]}),Object(A.jsxs)("div",{className:"history-fee",children:[Object(A.jsx)("div",{className:"history-title pc",children:i["transaction-fee"]}),Object(A.jsx)("div",{className:"history-title mobile",children:i["transaction-fee"]}),Object(A.jsx)("div",{className:"history-text",children:Object(A.jsx)(d.a,{value:t.transactionFee,decimalScale:4})})]})]})]},s))),0===+c.length?Object(A.jsx)("div",{className:"no-data",children:i["no-data"]}):""]})}))),E=i(17);var R=Object(b.b)("wallet","trading","type")(Object(b.c)((function({wallet:e,trading:t,lang:i,type:s}){return Object(A.jsxs)("div",{className:"contract-box",children:[Object(A.jsx)("div",{className:"contract-header"}),Object(A.jsxs)("div",{className:"contract-info",children:[Object(A.jsx)("div",{className:"conntract-header",children:i["contract-info"]}),Object(A.jsxs)("div",{className:"info",children:[Object(A.jsx)("div",{className:"title",children:i["base-token"]}),Object(A.jsx)("div",{className:"text",children:t.contract.bTokenSymbol&&t.contract.bTokenSymbol.map(((e,n)=>E.a.isV2&&s.isFuture?Object(A.jsx)(x.a,{children:Object(A.jsxs)("span",{className:"btoken-symbol",children:[e,"(",Object(A.jsxs)("span",{className:"multiplier",tip:i["multiplier-tip"],children:[t.contract.bTokenMultiplier&&t.contract.bTokenMultiplier[n],"x"]}),")"]})},n):Object(A.jsx)("span",{className:"btoken-symbol",children:e},n)))})]}),Object(A.jsxs)("div",{className:"info",children:[Object(A.jsxs)("div",{className:"title",children:[s.isOption&&i["symbol-option"],s.isFuture&&i.symbol]}),Object(A.jsx)("div",{className:"text",children:t.contract.symbol})]}),s.isFuture&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"info",children:[Object(A.jsxs)("div",{className:"title",children:[" ",Object(A.jsxs)("span",{children:[i["min-trade-volume"]," ( ",i.notional," )"]})," "]}),Object(A.jsxs)("div",{className:"text",children:[t.contract.multiplier," ",t.config?t.config.unit:""]})]}),(E.a.isOpen||E.a.isV1)&&Object(A.jsxs)("div",{className:"info",children:[Object(A.jsx)("div",{className:"title",children:i["funding-rate-coefficient"]}),Object(A.jsx)("div",{className:"text",children:t.contract.fundingRateCoefficient})]}),!E.a.isOpen&&Object(A.jsxs)("div",{className:"info",children:[Object(A.jsx)("div",{className:"title",children:i["funding-rate-coefficient"]}),Object(A.jsx)("div",{className:"text",children:Object(A.jsx)(x.a,{block:!1,children:Object(A.jsx)("span",{tip:t.fundingCoefficientTip,className:"margin-per",children:t.contract.fundingRateCoefficient?(n=+t.contract.fundingRateCoefficient,(n=+n.toFixed(11)).toExponential().match(/\d(?:\.(\d*))?e([+-]\d+)/)[0]):""})})})]}),Object(A.jsxs)("div",{className:"info",children:[Object(A.jsx)("div",{className:"title",children:i["min-initial-margin-ratio"]}),Object(A.jsx)("div",{className:"text",children:Object(A.jsx)(k.a,{displayType:"text",value:100*t.contract.minInitialMarginRatio,decimalScale:2,suffix:"%"})})]}),Object(A.jsxs)("div",{className:"info",children:[Object(A.jsx)("div",{className:"title",children:i["min-maintenance-margin-ratio"]}),Object(A.jsx)("div",{className:"text",children:Object(A.jsx)(k.a,{displayType:"text",value:100*t.contract.minMaintenanceMarginRatio,decimalScale:2,suffix:"%"})})]})]}),s.isOption&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"info",children:[Object(A.jsx)("div",{className:"title",children:i.underlier}),Object(A.jsx)("div",{className:"text",children:t.contract.underlier})]}),Object(A.jsxs)("div",{className:"info",children:[Object(A.jsx)("div",{className:"title",children:i.strike}),Object(A.jsx)("div",{className:"text",children:t.contract.strike})]}),Object(A.jsxs)("div",{className:"info",children:[Object(A.jsx)("div",{className:"title",children:i["option-type"]}),Object(A.jsx)("div",{className:"text",children:"C"===t.contract.optionType?`${i.call}`:`${i.put}`})]}),Object(A.jsxs)("div",{className:"info",children:[Object(A.jsxs)("div",{className:"title",children:[" ",Object(A.jsxs)("span",{children:[i["min-trade-volume"]," ( ",i.notional," )"]})," "]}),Object(A.jsxs)("div",{className:"text",children:[t.contract.multiplier," ",t.config?t.config.unit:""]})]}),Object(A.jsxs)("div",{className:"info",children:[Object(A.jsx)("div",{className:"title",children:Object(A.jsx)(x.a,{block:!1,children:Object(A.jsx)("span",{tip:t.initialMarginRatioTip,className:"margin-per",children:i["initial-margin-ratio"]})})}),Object(A.jsx)("div",{className:"text",children:Object(A.jsx)(k.a,{displayType:"text",value:100*t.contract.initialMarginRatio,decimalScale:2,suffix:"%"})})]}),Object(A.jsxs)("div",{className:"info",children:[Object(A.jsxs)("div",{className:"title",children:[" ",Object(A.jsx)(x.a,{block:!1,children:Object(A.jsxs)("span",{tip:t.maintenanceMarginRatioTip,className:"margin-per",children:[" ",i["maintenance-margin-ratio"]]})})," "]}),Object(A.jsx)("div",{className:"text",children:Object(A.jsx)(k.a,{displayType:"text",value:100*t.contract.maintenanceMarginRatio,decimalScale:2,suffix:"%"})})]})]}),Object(A.jsxs)("div",{className:"info",children:[s.isFuture&&Object(A.jsx)(A.Fragment,{children:Object(A.jsx)("div",{className:"title",children:i["transaction-fee"]})}),s.isOption&&Object(A.jsx)(A.Fragment,{children:Object(A.jsx)("div",{className:"title",children:Object(A.jsx)(x.a,{block:!1,children:Object(A.jsx)("span",{className:"margin-per",tip:t.TransactionFeeTip,children:i["transaction-fee"]})})})}),Object(A.jsxs)("div",{className:"text",children:[s.isOption&&Object(A.jsxs)(A.Fragment,{children:["C"===t.contract.optionType&&Object(A.jsxs)(A.Fragment,{children:[t.contract.strike>=t.index&&Object(A.jsxs)(A.Fragment,{children:[i["eo-mark-price"]," * ",Object(A.jsx)(k.a,{displayType:"text",value:100*t.contract.feeRatioOTM,decimalScale:3,suffix:"%"})]}),t.contract.strike<t.index&&Object(A.jsxs)(A.Fragment,{children:[t.contract.underlier," ",i.price," * ",Object(A.jsx)(k.a,{displayType:"text",value:100*t.contract.feeRatioITM,decimalScale:3,suffix:"%"})]})]}),"C"!==t.contract.optionType&&Object(A.jsxs)(A.Fragment,{children:[t.contract.strike<t.index&&Object(A.jsxs)(A.Fragment,{children:[i["eo-mark-price"]," * ",Object(A.jsx)(k.a,{displayType:"text",value:100*t.contract.feeRatioOTM,decimalScale:3,suffix:"%"})]}),t.contract.strike>=t.index&&Object(A.jsxs)(A.Fragment,{children:[t.contract.underlier," ",i.price," * ",Object(A.jsx)(k.a,{displayType:"text",value:100*t.contract.feeRatioITM,decimalScale:3,suffix:"%"})]})]})]}),s.isFuture&&Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(k.a,{displayType:"text",value:100*t.contract.feeRatio,decimalScale:3,suffix:"%"})})]})]}),t.contract.indexConstituents&&t.contract.indexConstituents.tokens.length>0&&Object(A.jsxs)("div",{className:"info",children:[Object(A.jsx)("div",{className:"title",children:i["index-constituent"]}),Object(A.jsx)("div",{className:"text",children:t.contract.indexConstituents.tokens.join(" | ")})]})]})]});var n}))),F=i(991);i(910),i(769);const{Handle:_}=F.b;function P(e){const{value:t,dragging:i,index:s,...n}=e;return Object(A.jsx)(F.a,{prefixCls:"rc-slider-tooltip",overlay:t||"",placement:"top",visible:!!t,overlayStyle:{display:"block"},overlayInnerStyle:{color:"#569BDA",background:"none",display:"block",fontSize:"10px",boxShadow:"none"},children:Object(A.jsx)(_,{value:t,...n})},s)}function L({max:e="--",start:t,onValueChange:i,freeze:c,currentSymbolMarginHeld:r,originMarginHeld:l,setStopCalculate:o}){const[d,j]=Object(s.useState)(0),[b,u]=Object(s.useState)(0),[p,m]=Object(s.useState)(!1),[h,O]=Object(s.useState)({}),[g,x]=Object(s.useState)(!1),[f,v]=Object(s.useState)(!1);Object(s.useEffect)((()=>(m(c),0===Math.abs(e)&&m(!0),()=>{})),[c,e]),Object(s.useEffect)((()=>{const t=e;return 0!==Math.abs(e)&&"--"!==e||(e=100),isNaN(t)&&j(""),e&&O((e=>{const t={},i=+e/10;for(let s=0;s<=10;s++)if(0===s||10===s){const e={top:"-16px",position:"relative"};10===s&&(e.width=100,e.left="-10px",e.paddingRight="10px"),t[s*i]=Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{style:e,children:10===s?(s*i).toFixed(2):s*i}),Object(A.jsx)("div",{style:{top:"-16px",position:"relative"},children:"l"})]})}else t[s*i]="l";return t})(e)),j(+e),"--"!==t&&x(!0),0!==Math.abs(e)&&0!==Math.abs(t)||x(!1),()=>{}}),[e]),Object(s.useEffect)((()=>(f||(isNaN(t)?u(0):u(t)),()=>{})),[t]);const y=a()("deri-slider",{controlled:g});return Object(A.jsx)(F.b,{handle:P,className:y,start:t,min:0,max:d,value:b,onChange:e=>{v(!0),o(!0),u(e),i(e,!1)},onAfterChange:e=>{if(r){const t=Object(n.g)(l).minus(r);Object(n.g)(e).lt(t)&&(u(t),i(t))}v(!1),o(!1)},disabled:p,overlay:b,step:.01,marks:h})}var J=i(608),T=i(16);var H=i.p+"static/media/arrow-down.5e5e4213.svg",Y=i.p+"static/media/arrow-up.d36fae6d.svg";function G({symbol:e,trading:t,onSelect:i,index:n,version:c,type:r}){const[l,o]=Object(s.useState)(0),d=a()("sub-menu",{show:n===l});return Object(A.jsxs)("div",{className:"dropdown-item-wrapper",children:[Object(A.jsxs)("div",{className:"catalog",onClick:()=>(e=>{o(l===e?-1:e)})(n),children:[e,Object(A.jsx)("span",{className:"sub-memu-icon",children:l===n?Object(A.jsx)("img",{src:Y,alt:""}):Object(A.jsx)("img",{src:H,alt:""})})]}),Object(A.jsx)("div",{className:d,children:Array.isArray(t.optionsConfigs[e])&&t.optionsConfigs[e].map(((e,t)=>Object(A.jsx)("div",{className:"dropdown-item",onClick:()=>i(e),children:Object(A.jsx)(z,{spec:e,version:c,type:r})},t)))},n)]},n)}function z({version:e,spec:t,type:i}){return i.isOption?`${t&&t.symbol||"BTCUSD-70000-C"}`:e.isV1||e.isV2Lite||e.isOpen?`${t&&t.symbol||"BTCUSD"} / ${t&&t.bTokenSymbol||"BUSD"} (10X)`:`${t&&t.symbol||"BTCUSD"} (10X)`}var U=Object(b.b)("trading","version","loading","type")(Object(b.c)((function({trading:e,version:t,loading:i,type:n}){const[c,r]=Object(s.useState)(!1),l=a()("dropdown-menu",{show:c}),o=t=>{t&&(i.loading(),e.pause(),e.onSymbolChange(t,(()=>i.loaded()),n.isOption),r(!1))};return Object(s.useEffect)((()=>{const e=e=>{document.querySelector(".btn-group")&&!document.querySelector(".btn-group").contains(e.target)&&r(!1)};return document.body.addEventListener("click",e),()=>{document.body.removeEventListener("click",e)}}),[]),Object(A.jsxs)("div",{className:"btn-group check-baseToken-btn",children:[Object(A.jsxs)("button",{type:"button",onClick:e=>{e.preventDefault(),r(!c)},className:"btn chec",children:[Object(A.jsx)(z,{spec:e.config,version:t,type:n}),Object(A.jsx)("span",{className:"check-base-down",children:c?Object(A.jsx)("img",{src:Y,alt:""}):Object(A.jsx)("img",{src:H,alt:""})})]}),Object(A.jsx)("div",{className:l,children:n.isFuture?e.configs.map(((e,i)=>Object(A.jsx)("div",{className:"dropdown-item",onClick:t=>o(e),children:Object(A.jsx)(z,{spec:e,version:t,type:n})},i))):Object.keys(e.optionsConfigs).map(((i,s)=>Object(A.jsx)(G,{index:s,symbol:i,trading:e,onSelect:o,version:t,type:n},s)))})]})}))),W=i(737),V=i(738);i(911);const q=Object(r.a)((function({wallet:e,spec:t,onClose:i,direction:c,volume:a,position:r=0,indexPrice:l,leverage:o,afterLeverage:d,transFee:j,afterTrade:b,lang:u,markPriceAfter:p,trading:m,liquidationPrice:h}){const[O,g]=Object(s.useState)(!1),x=()=>{O||i()},f="long"===c?Object(n.g)(a).plus(Object(n.g)(r)).toString():Object(n.g)(r).minus(Object(n.g)(a)).toString();return Object(A.jsx)("div",{className:"modal-dialog",children:Object(A.jsxs)("div",{className:"modal-content",children:[Object(A.jsxs)("div",{className:"modal-header",children:[Object(A.jsx)("div",{className:"title",children:u.confirm}),Object(A.jsx)("div",{className:"close","data-dismiss":"modal",onClick:x,children:Object(A.jsx)("span",{children:"\xd7"})})]}),Object(A.jsx)("div",{className:"modal-body",children:Object(A.jsxs)("div",{className:"contract-box-info",children:[Object(A.jsxs)("div",{className:"top",children:[Object(A.jsxs)("div",{className:"text",children:[Object(A.jsx)("div",{className:"text-title",children:u["of-contracts"]}),Object(A.jsxs)("div",{className:"text-num",children:["long"===c?a:`-${a}`," ",m.config.unit]})]}),Object(A.jsxs)("div",{className:"text",children:[Object(A.jsx)("div",{className:"text-title",children:u["position-after-execution"]}),Object(A.jsx)("div",{className:"text-num",children:f})]}),Object(A.jsxs)("div",{className:"text",children:[Object(A.jsx)("div",{className:"text-title",children:u.direction}),Object(A.jsx)("div",{className:"text-num",children:Object(A.jsx)("span",{className:c,children:u[c.toLowerCase()]})})]}),T.a.isFuture&&Object(A.jsxs)(A.Fragment,{children:[(E.a.isOpen||E.a.isV1)&&Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("div",{className:"text",children:[Object(A.jsxs)("div",{className:"text-title",children:[" ",u["trade-price-estimated"]]}),Object(A.jsx)("div",{className:"text-num",children:Object(A.jsx)(k.a,{value:l,decimalScale:2,displayType:"text"})})]})}),!E.a.isOpen&&Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("div",{className:"text",children:[Object(A.jsx)("div",{className:"text-title",children:u["confirm-trade-price"]}),Object(A.jsx)("div",{className:"text-num",children:Object(A.jsx)(k.a,{value:p,decimalScale:2,displayType:"text"})})]})})]}),T.a.isOption&&Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("div",{className:"text",children:[Object(A.jsx)("div",{className:"text-title",children:u["confirm-trade-price"]}),Object(A.jsx)("div",{className:"text-num",children:Object(A.jsx)(k.a,{value:p,decimalScale:2,displayType:"text"})})]})}),T.a.isFuture&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"text",children:[Object(A.jsx)("div",{className:"text-title",children:u["cur-pos-leverage"]}),Object(A.jsxs)("div",{className:"text-num",children:[o,"X"]})]}),Object(A.jsxs)("div",{className:"text",children:[Object(A.jsx)("div",{className:"text-title",children:u["leverage-after-execution"]}),Object(A.jsxs)("div",{className:"text-num",children:[d,"X"]})]})]}),T.a.isFuture&&Object(A.jsxs)("div",{className:"text",children:[Object(A.jsx)("div",{className:"text-title",children:u["liquidation-price"]}),Object(A.jsx)("div",{className:"text-num",children:Object(A.jsx)(k.a,{value:h,decimalScale:2,displayType:"text"})})]}),Object(A.jsxs)("div",{className:"text",children:[Object(A.jsx)("div",{className:"text-title",children:u["transaction-fee"]}),Object(A.jsx)("div",{className:"text-num",children:Object(A.jsx)(k.a,{value:j,decimalScale:2,suffix:` ${t.bTokenSymbol}`,displayType:"text"})})]})]}),Object(A.jsx)("div",{className:"modal-footer",children:Object(A.jsxs)("div",{className:"long-btn","v-if":"confirm",children:[Object(A.jsx)("button",{className:"cancel",onClick:x,children:u.cancel}),Object(A.jsx)(J.a,{className:"confirm",btnText:u.ok,click:async()=>{g(!0),a=Object(n.g)(a).div(Object(n.g)(m.contract.multiplier)).toString(),a="long"===c?a:-+a;const s=await Object(n.ub)(e.detail.chainId,t.pool,e.detail.account,a,t.symbolId);if(s.success)b(),i();else{const e="string"===typeof s.error?s.error:s.error.errorMessage||s.error.message;alert(e)}g(!1)},lang:u})]})})]})})]})})})),Z=Object(r.a)(l.a),K=Object(r.a)(o.a),X=Object(r.a)(u.a);function $({hasConnectWallet:e,wallet:t,spec:i,volume:c,available:a,baseToken:r,leverage:l,indexPrice:o,position:d,transFee:j,afterTrade:b,direction:u,trading:p,version:m,lang:h,type:O,markPriceAfter:g,afterLeverage:x,liquidationPrice:f}){const[v,y]=Object(s.useState)(!0),[N,w]=Object(s.useState)(!0),[C,S]=Object(s.useState)(!1),[k,I]=Object(s.useState)(!1),[D,B]=Object(s.useState)(""),M=()=>{t.connect()},Q=async()=>{(await t.approve(i.pool,i.bTokenId)).success?(y(!0),F()):(y(!1),alert(h["approve-failed"]))},E=async()=>{p.refresh(),I(!1)},R=()=>{p.refresh(),I(!1)},F=async()=>{if(e()&&i){const e=await t.isApproved(i.pool,i.bTokenId);y(e)}};Object(s.useEffect)((()=>(e()&&i&&(async()=>{if(t.isConnected()&&i){const e=await Object(n.Z)(t.detail.chainId,i.pool,t.detail.account,i.bTokenId).catch((e=>console.error("getWalletBalance was error,maybe network is Wrong")));e&&B(e)}})(),()=>{})),[t.detail.account,i,a]),Object(s.useEffect)((()=>(w(!c),()=>{})),[c]),Object(s.useEffect)((()=>(i&&F(),()=>{})),[t.detail.isApproved,i]);let _=Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(q,{wallet:t,className:"trading-dialog",spec:i,modalIsOpen:C,onClose:()=>S(!1),leverage:l,baseToken:r,volume:c,position:d.volume,indexPrice:o,transFee:j,afterTrade:b,direction:u,lang:h,markPriceAfter:g,afterLeverage:x,liquidationPrice:f,trading:p}),Object(A.jsx)("button",{className:"short-submit",onClick:()=>S(!0),children:h.trade})]});return e()?v?!a||+a<=0?_=Object(A.jsxs)(A.Fragment,{children:[m.isV2&&!O.isOption?Object(A.jsx)(X,{wallet:t,modalIsOpen:k,onClose:R,spec:i,afterDepositAndWithdraw:R,position:p.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog",lang:h}):Object(A.jsx)(Z,{wallet:t,modalIsOpen:k,onClose:()=>I(!1),spec:i,balance:D,afterDeposit:E,className:"trading-dialog",lang:h}),Object(A.jsx)("div",{className:"noMargin-text",children:0!==+p.position.margin&&p.position.margin?h["not-enough-margin-tip"]:h["no-margin-tip"]}),Object(A.jsx)("button",{className:"short-submit",onClick:()=>I(!0),children:h.deposit})]}):N&&(_=Object(A.jsx)("button",{className:"btn btn-danger short-submit",children:h["enter-volume"]})):_=Object(A.jsx)(J.a,{className:"approve",btnText:h.approve,click:Q,lang:h}):_=Object(A.jsx)(J.a,{className:"btn btn-danger connect",btnText:h["connect-wallet"],click:M,lang:h}),Object(A.jsx)("div",{className:"submit-btn",children:_})}var ee=Object(b.b)("wallet","trading","version","type")(Object(b.c)((function({wallet:e={},trading:t,version:i,lang:c,type:r}){const[l,o]=Object(s.useState)("long"),[j,b]=Object(s.useState)(),[u,p]=Object(s.useState)({}),[m,h]=Object(s.useState)(""),[O,g]=Object(s.useState)(""),[f,v]=Object(s.useState)(""),[y,N]=Object(s.useState)(""),[w,C]=Object(s.useState)({}),[S,k]=Object(s.useState)("rise"),[I,D]=Object(s.useState)("rise"),[B,M]=Object(s.useState)("0.000"),[Q,E]=Object(s.useState)(""),[R,F]=Object(s.useState)(!0),[_,P]=Object(s.useState)(!1),[J,T]=Object(s.useState)(""),[H,Y]=Object(s.useState)(!1),[G,z]=Object(s.useState)(!1),[q,ee]=Object(s.useState)(!1),[te,ie]=Object(s.useState)(!1),[se,ne]=Object(s.useState)(!1),[ce,ae]=Object(s.useState)(""),re=Object(s.useRef)(),le=Object(s.useRef)(),oe=a()("checked-long","check-long-short"," long-short",{"checked-short":"short"===l}),de=a()("contrant-input",{inputFamliy:""!==t.volume}),je=()=>{be()},be=()=>{ue(),t.refresh()},ue=async()=>{if(e.isConnected()&&t.config){const i=await Object(n.Z)(e.detail.chainId,t.config.pool,e.detail.account,t.config.bTokenId).catch((e=>console.log(e)));i&&E(i)}},pe=je,me=()=>e&&e.detail&&e.detail.account,he=e=>{t.setVolume(""),o(e)},Oe=e=>Object(n.g)(e).div(Object(n.g)(t.contract.multiplier)).toString();return Object(s.useEffect)((()=>{var e;return t.position&&t.position.volume&&(e=+t.position.volume,o(e>=0?"long":"short")),()=>{}}),[t.position.volume]),Object(s.useEffect)((()=>(G||""===t.volumeDisplay?e.detail.account&&t.resume():(t.pause(),(async()=>{if(me()&&t.config&&t.volumeDisplay){let i=Oe(t.volumeDisplay);const s="long"===l?i:-i,c=await Object(n.s)(e.detail.chainId,t.config.pool,s,t.config.symbolId);if(c){let e=r.isOption?c.deltaFunding1:c.fundingRate1;h(e)}}})(),(async()=>{if(me()&&t.config&&t.volumeDisplay){let i=Oe(t.volumeDisplay);const s="long"===l?i:-i,c=await Object(n.v)(e.detail.chainId,t.config.pool,s,t.config.symbolId);c&&g(c)}})(),(async()=>{if(me()&&t.config&&t.volumeDisplay&&r.isFuture){const{detail:i}=e,s="long"===l?t.volumeDisplay:-t.volumeDisplay,c=await Object(n.y)(i.chainId,t.config.pool,t.config.symbolId),a=await Object(n.u)(i.chainId,t.config.pool,s,t.config.symbolId);c&&a&&C({curLiqUsed:c.liquidityUsed0,afterLiqUsed:a.liquidityUsed1})}})(),(async()=>{if(me()&&t.config&&t.volumeDisplay){let i=Oe(t.volumeDisplay);const s=await Object(n.r)(e.detail.chainId,t.config.pool,Math.abs(i),t.config.symbolId);isNaN(s)||N((+s).toFixed(2))}})(),(async()=>{if(me()&&t.config&&t.volumeDisplay){let i=Oe(t.volumeDisplay);const s="long"===l?i:-i,c=await Object(n.t)(e.detail.chainId,t.config.pool,e.detail.account,s,t.config.symbolId);c&&v(c)}})()),()=>{})),[t.volumeDisplay,G]),Object(s.useEffect)((()=>(ue(),()=>{})),[e.detail.account,t.config,t.amount.dynBalance]),Object(s.useEffect)((()=>{if(re.current>t.index?k("fall"):k("rise"),re.current=t.index,t.index){const e=t.index.toLocaleString(void 0,{minimumFractionDigits:2}),i=t.config&&t.config.symbol.split("-")[0];document.querySelector("head title").innerText=`$${e} ${i}.deri`}return()=>{document.querySelector("head title").innerText="deri"}}),[t.index,t.config]),Object(s.useEffect)((()=>{if(t.position){const{position:e}=t;ae(Object(n.g)(e.margin).plus(e.unrealizedPnl).minus(e.marginHeld).toString())}return()=>{}}),[t.position.volume,t.position.margin,t.position.unrealizedPnl]),Object(s.useEffect)((()=>{let e=t.position.markPrice;le.current>e?D("fall"):D("rise"),le.current=e,b(e)}),[t.index,t.position]),Object(s.useEffect)((()=>(t.config&&p(t.config),()=>{})),[t.config]),Object(s.useEffect)((()=>(t.margin&&t.direction&&o(t.direction),()=>{})),[t.margin]),Object(s.useEffect)((()=>{let e="0.000";"0.0001"===t.contract.multiplier?e="0.0000":"0.001"===t.contract.multiplier?e="0.000":"0.01"===t.contract.multiplier?e="0.00":"0.1"===t.contract.multiplier?e="0.0":"1"===t.contract.multiplier&&(e="0"),M(e)}),[t.contract]),Object(s.useEffect)((()=>(t.index&&e.isConnected()&&e.supportChain&&F(!1),()=>{})),[e.detail.account,t.index]),Object(s.useEffect)((()=>(_||(t.position.volume>0?t.volume<0?o("short"):o("long"):t.position.volume<0&&(t.volume>0?o("short"):o("long"))),()=>{})),[t.volume,_]),Object(s.useEffect)((()=>{if(t.fundingRate.funding0&&t.position.markPrice){let e=Object(n.g)(t.fundingRate.funding0).div(Object(n.g)(t.position.markPrice)).times(Object(n.g)(100)).toString();T(e)}}),[t.fundingRate,t.position]),Object(s.useEffect)((()=>(t.setUserSelectedDirection(l),()=>{})),[l]),Object(A.jsx)("div",{className:"trade-info",children:Object(A.jsxs)("div",{className:"trade-peration",children:[Object(A.jsxs)("div",{className:"check-baseToken",children:[Object(A.jsx)(U,{setSpec:p,spec:t.config,isOption:r.isOption}),Object(A.jsxs)("div",{className:r.isOption?"price-fundingRate pc options":"price-fundingRate pc",children:[r.isFuture&&!i.isOpen&&Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("div",{className:"mark-price",children:[c["mark-price"]," : ",Object(A.jsxs)("span",{className:I,children:["\xa0 ",Object(A.jsx)(d.a,{value:j,decimalScale:2})]})]})}),r.isFuture&&Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("div",{className:"index-prcie",children:[c["index-price"],": ",Object(A.jsxs)("span",{className:S,children:["\xa0 ",Object(A.jsx)(d.a,{value:t.index,decimalScale:2})]})]})}),r.isOption&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"mark-price",children:[c["eo-mark-price"]," : ",Object(A.jsxs)("span",{className:I,children:["\xa0 ",Object(A.jsx)(d.a,{value:j,decimalScale:4})]})]}),Object(A.jsxs)("div",{className:"index-prcie",children:[t.config&&r.isOption?t.config.symbol.split("-")[0]:""," : ",Object(A.jsxs)("span",{className:"option-vol",children:["\xa0 ",Object(A.jsxs)("span",{children:[" ",Object(A.jsx)(d.a,{value:t.index,decimalScale:2})]}),Object(A.jsx)("span",{className:"vol",children:" | "}),c.vol," : ",Object(A.jsx)(d.a,{value:t.position.volatility,decimalScale:2,suffix:"%"})]})]})]}),Object(A.jsxs)("div",{className:"funding-rate",children:[r.isOption&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("span",{children:[c["funding-rate"]," : \xa0"]}),Object(A.jsx)(x.a,{block:!1,tip:t.optionFundingRateTip,children:Object(A.jsx)("span",{className:"funding-per",tip:t.optionFundingRateTip||"",children:Object(A.jsx)(d.a,{value:t.fundingRate.premiumFunding0,decimalScale:4})})})]}),r.isFuture&&(i.isOpen||i.isV1)&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("span",{children:[c["funding-rate-annual"]," : \xa0"]}),Object(A.jsx)(x.a,{block:!1,tip:t.fundingRateTip,children:Object(A.jsx)("span",{className:"funding-per",tip:t.fundingRateTip||"",children:Object(A.jsx)(d.a,{value:t.fundingRate.fundingRate0,decimalScale:4,suffix:"%"})})})]}),r.isFuture&&!i.isOpen&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("span",{children:[c["funding-rate"]," : \xa0"]}),Object(A.jsx)(x.a,{block:!1,tip:t.dpmmFundingRateTip,children:Object(A.jsx)("span",{className:"funding-per",tip:t.dpmmFundingRateTip||"",children:Object(A.jsx)(d.a,{value:t.fundingRate.funding0,decimalScale:4})})}),Object(A.jsxs)(x.a,{block:!1,tip:t.rateTip,children:["\xa0  ",Object(A.jsxs)("span",{className:"funding-per",tip:t.rateTip||"",children:["(",Object(A.jsx)(d.a,{value:J,decimalScale:4,suffix:"%"}),")"]})]})]})]})]}),Object(A.jsxs)("div",{className:r.isOption?"price-fundingRate mobile options":"price-fundingRate mobile",children:[r.isFuture&&!i.isOpen&&Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("div",{className:"index-prcie",children:[c["mark-price"],": ",Object(A.jsxs)("span",{className:I,children:["\xa0 ",Object(A.jsx)(d.a,{value:j,decimalScale:2})]})]})}),r.isFuture&&Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("div",{className:"index-prcie",children:[c.index,": ",Object(A.jsxs)("span",{className:S,children:["\xa0 ",Object(A.jsx)(d.a,{value:t.index,decimalScale:2})]})]})}),r.isOption&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"mark-price",children:[c["eo-mark-price"]," : ",Object(A.jsxs)("span",{className:I,children:["\xa0 ",Object(A.jsx)(d.a,{value:j,decimalScale:2})]})]}),Object(A.jsxs)("div",{className:"index-prcie",children:[t.config&&r.isOption?t.config.symbol.split("-")[0]:"",": ",Object(A.jsxs)("span",{className:S,children:["\xa0 ",Object(A.jsx)(d.a,{value:t.index,decimalScale:2})]})]}),Object(A.jsxs)("div",{className:"index-prcie",children:[c.vol,": ",Object(A.jsx)(d.a,{value:t.position.volatility,decimalScale:2})]})]}),Object(A.jsxs)("div",{className:"funding-rate",children:[r.isOption&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("span",{children:[c["funding-rate"]," : \xa0"]}),Object(A.jsx)(x.a,{block:!1,children:Object(A.jsx)("span",{className:"funding-per",tip:t.optionFundingRateTip||"",children:Object(A.jsx)(d.a,{value:t.fundingRate.premiumFunding0,decimalScale:4})})})]}),r.isFuture&&(i.isOpen||i.isV1)&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("span",{children:[c["funding-rate-annual"]," : \xa0"]}),Object(A.jsx)(x.a,{block:!1,tip:t.fundingRateTip,children:Object(A.jsx)("span",{className:"funding-per",tip:t.fundingRateTip||"",children:Object(A.jsx)(d.a,{value:t.fundingRate.fundingRate0,decimalScale:4,suffix:"%"})})})]}),r.isFuture&&!i.isOpen&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("span",{children:[c["funding-rate"]," : \xa0"]}),Object(A.jsx)(x.a,{block:!1,tip:t.dpmmFundingRateTip,children:Object(A.jsx)("span",{className:"funding-per",tip:t.dpmmFundingRateTip||"",children:Object(A.jsx)(d.a,{value:t.fundingRate.funding0,decimalScale:4})})})]})]}),r.isFuture&&!i.isOpen&&Object(A.jsx)(A.Fragment,{children:Object(A.jsx)("div",{className:"rate",children:Object(A.jsx)(x.a,{block:!1,tip:t.rateTip,children:Object(A.jsxs)("span",{className:"funding-per",tip:t.rateTip||"",children:["(",Object(A.jsx)(d.a,{value:J,decimalScale:4,suffix:"%"}),")"]})})})})]})]}),Object(A.jsxs)("div",{className:oe,children:[Object(A.jsx)("div",{className:"check-long",onClick:()=>he("long"),children:c["long-buy"]}),Object(A.jsx)("div",{className:"check-short",onClick:()=>he("short"),children:c["short-sell"]})]}),Object(A.jsxs)("div",{className:"the-input",children:[Object(A.jsxs)("div",{className:"left",children:[Object(A.jsxs)("div",{className:"current-position",children:[Object(A.jsx)("span",{children:c["current-position"]}),Object(A.jsx)("span",{className:"position-text",children:Object(A.jsx)(d.a,{value:t.position.volume,allowZero:!0})})]}),Object(A.jsx)("div",{className:"contrant option-input",children:Object(A.jsxs)("div",{className:"bg-input",children:[Object(A.jsx)("div",{children:Object(A.jsx)("input",{type:"number",step:t.contract.multiplier,onFocus:e=>{e.target.setAttribute("class","contrant-input inputFamliy")},onBlur:e=>{const i=e.target;let s=t.contract.multiplier.indexOf("."),n=t.contract.multiplier.slice(s).length,c=i.value;-1!==i.value.indexOf(".")&&(c=i.value.substring(0,i.value.indexOf(".")+n),c="0"===c?"":c,Y(0===+c),t.setVolume(c)),""===i.value&&i.setAttribute("class","contrant-input")},onKeyPress:e=>{46!==e.which&&(e.which<48||e.which>57)&&e.preventDefault()},disabled:!t.index||0===Math.abs(t.position.margin),onChange:e=>(e=>{let{value:i}=e.target;t.setVolume(i),P(!0)})(e),value:t.volumeDisplay,className:de,placeholder:B})}),Object(A.jsx)("div",{className:"option-unit",children:t.config&&t.config.unit})]})}),H&&Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("div",{className:"min-quantity",children:[c["option-input-min-quantity"],"\xa0 ",t.contract.multiplier," \xa0",t.config&&t.config.unit]})})]}),Object(A.jsx)("div",{className:"right-info",children:Object(A.jsxs)("div",{className:`contrant-info ${i.current}`,children:[Object(A.jsxs)("div",{className:"balance-contract",children:[i.isV1&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("span",{className:"balance-contract-text pc v1",children:[c["balance-in-contract"],Object(A.jsx)("br",{}),"(",c["dynamic-balance"],")"]}),Object(A.jsxs)("span",{className:"balance-contract-text mobile v1",children:[c["balance-in-contract"],Object(A.jsx)("br",{}),"(",c["dynamic-balance"],")"]})]}),(i.isV2||i.isV2Lite||r.isOption||i.isOpen)&&Object(A.jsxs)(x.a,{block:!1,children:[Object(A.jsx)("span",{className:"balance-contract-text pc",tip:c["dynamic-effective-balance-title"],children:c["dynamic-effective-balance"]}),Object(A.jsx)("span",{className:"balance-contract-text mobile",tip:c["dynamic-effective-balance-title"],children:c["dynamic-effective-balance"]})]}),Object(A.jsxs)("span",{className:`balance-contract-num ${i.current}`,children:[i.isV1||i.isV2Lite||r.isOption||i.isOpen?Object(A.jsx)(x.a,{block:!1,children:Object(A.jsx)("span",{className:"open-add",id:"openAddMargin",onClick:()=>ie(!0),tip:c["remove-margin"],children:Object(A.jsx)("img",{src:W.a,alt:"add margin"})})}):Object(A.jsx)(x.a,{block:!1,children:Object(A.jsx)("span",{className:"open-add",id:"openAddMargin",tip:c["remove-margin"],onClick:()=>ne(!0),children:Object(A.jsx)("img",{src:W.a,alt:"add margin"})})}),Object(A.jsx)(d.a,{value:t.amount.dynBalance,allowZero:!0,decimalScale:2}),i.isV1||i.isV2Lite||r.isOption||i.isOpen?Object(A.jsx)(x.a,{block:!1,children:Object(A.jsx)("span",{className:"open-remove",onClick:()=>ee(!0),tip:c["add-margin"],children:Object(A.jsx)("img",{src:V.a,alt:"add margin"})})}):Object(A.jsx)(x.a,{block:!1,children:Object(A.jsx)("span",{className:"open-remove",onClick:()=>ne(!0),tip:c["add-margin"],children:Object(A.jsx)("img",{src:V.a,alt:"add margin"})})})]})]}),i.isV1&&Object(A.jsxs)("div",{className:"box-margin",children:[Object(A.jsx)("span",{children:c.margin}),Object(A.jsx)("span",{className:"margin",children:Object(A.jsx)(d.a,{value:t.amount.margin,allowZero:!0,decimalScale:2})})]}),(i.isV2||i.isV2Lite||r.isOption||i.isOpen)&&Object(A.jsxs)(x.a,{block:!1,children:[Object(A.jsx)("div",{className:"box-margin",children:c.margin}),Object(A.jsxs)("div",{className:"box-margin",children:[Object(A.jsxs)("span",{className:"total-held",tip:c["total-held-title"],children:["\xa0- ",c["total-held"]]}),Object(A.jsx)("span",{className:"margin",children:Object(A.jsx)(d.a,{value:t.amount.margin,allowZero:!0,decimalScale:2})})]}),Object(A.jsxs)("div",{className:"margin-held-pos",children:[Object(A.jsxs)("span",{className:"pos-held",tip:c["for-this-pos-title"],children:["\xa0- ",c["for-this-pos"]," "]}),Object(A.jsx)("span",{className:"margin",children:Object(A.jsx)(d.a,{value:t.amount.currentSymbolMarginHeld,allowZero:!0,decimalScale:2})})]})]}),Object(A.jsx)(x.a,{block:!0,children:Object(A.jsxs)("div",{className:"available-balance",children:[Object(A.jsxs)("span",{className:"pc",tip:c["available-balance-title"],children:[" ",c["available-balance"]," "]}),Object(A.jsx)("span",{className:"mobile",tip:c["available-balance-title"],children:c["available-balance"]}),Object(A.jsx)("span",{className:"available-balance-num",children:Object(A.jsx)(d.a,{value:t.amount.available,allowZero:!0,decimalScale:2})})]})})]})})]}),Object(A.jsx)("div",{className:"slider mt-13",children:Object(A.jsx)(L,{max:t.amount.dynBalance,onValueChange:(e,i)=>{t.setSlideMargin(e),P(!1),i&&o("long"===l?"short":"long")},start:t.amount.margin,freeze:R,currentSymbolMarginHeld:t.position.marginHeldBySymbol,originMarginHeld:t.position.marginHeld,setStopCalculate:e=>z(e)})}),Object(A.jsx)("div",{className:"title-margin",children:c.margin}),Object(A.jsx)("div",{className:"enterInfo",children:!!t.volumeDisplay&&Object(A.jsxs)(A.Fragment,{children:[r.isFuture&&Object(A.jsxs)(A.Fragment,{children:[!i.isOpen&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"text-info",children:[Object(A.jsx)("div",{className:"title-enter pool",children:c["mark-price"]}),Object(A.jsx)("div",{className:"text-enter poolL",children:Object(A.jsx)(d.a,{value:j,decimalScale:4})})]}),Object(A.jsxs)("div",{className:"text-info",children:[Object(A.jsx)("div",{className:"title-enter pool",children:c["trade-price"]}),Object(A.jsx)("div",{className:"text-enter poolL",children:Object(A.jsx)(d.a,{value:O,decimalScale:4})})]})]}),(i.isOpen||i.isV1)&&Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("div",{className:"text-info",children:[Object(A.jsx)("div",{className:"title-enter pool",children:c["trade-price"]}),Object(A.jsx)("div",{className:"text-enter poolL",children:Object(A.jsx)(d.a,{value:t.index,decimalScale:4})})]})}),Object(A.jsxs)("div",{className:"text-info",children:[Object(A.jsx)("div",{className:"title-enter pool",children:c["pool-liquidity"]}),Object(A.jsx)("div",{className:"text-enter poolL",children:Object(A.jsx)(d.a,{value:t.fundingRate.liquidity,decimalScale:2,suffix:` ${t.config.bTokenSymbol}`})})]}),(i.isOpen||i.isV1)&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"text-info",children:[Object(A.jsx)("div",{className:"title-enter",children:c["liquidity-used"]}),Object(A.jsxs)("div",{className:"text-enter",children:[Object(A.jsx)(d.a,{value:w.curLiqUsed,suffix:"%",decimalScale:2})," -> ",Object(A.jsx)(d.a,{value:w.afterLiqUsed,decimalScale:2,suffix:"%"})]})]}),Object(A.jsxs)("div",{className:"text-info",children:[Object(A.jsx)("div",{className:"title-enter",children:c["funding-rate-impact"]}),Object(A.jsxs)("div",{className:"text-enter",children:[Object(A.jsx)(d.a,{value:t.fundingRate.fundingRate0,suffix:"%",decimalScale:4})," -> ",Object(A.jsx)(d.a,{value:m,decimalScale:4,suffix:"%"})]})]})]})]}),r.isOption&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"text-info",children:[Object(A.jsx)("div",{className:"title-enter pool",children:c["mark-price"]}),Object(A.jsx)("div",{className:"text-enter poolL",children:Object(A.jsx)(d.a,{value:j,decimalScale:4})})]}),Object(A.jsxs)("div",{className:"text-info",children:[Object(A.jsx)("div",{className:"title-enter pool",children:c["trade-price"]}),Object(A.jsx)("div",{className:"text-enter poolL",children:Object(A.jsx)(d.a,{value:O,decimalScale:4})})]}),Object(A.jsxs)("div",{className:"text-info",children:[Object(A.jsx)("div",{className:"title-enter pool",children:c["pool-liquidity"]}),Object(A.jsx)("div",{className:"text-enter poolL",children:Object(A.jsx)(d.a,{value:t.fundingRate.liquidity,thousandSeparator:!0,decimalScale:2,suffix:` ${t.config.bTokenSymbol}`})})]})]}),Object(A.jsxs)("div",{className:"text-info",children:[Object(A.jsx)("div",{className:"title-enter",children:c["transaction-fee"]}),Object(A.jsx)("div",{className:"text-enter",children:Object(A.jsx)(d.a,{value:y,allowZero:!0,decimalScale:2,suffix:` ${t.config.bTokenSymbol}`})})]}),r.isFuture&&Object(A.jsxs)("div",{className:"text-info",children:[Object(A.jsx)("div",{className:"title-enter",children:c["liquidation-price"]}),Object(A.jsx)("div",{className:"text-enter",children:f>0?Object(A.jsx)(d.a,{value:f,decimalScale:2}):"--"})]})]})}),Object(A.jsx)($,{hasConnectWallet:me,transFee:y,wallet:e,spec:t.config,indexPrice:t.index,available:t.amount.available,volume:t.volumeDisplay,direction:l,leverage:t.amount.leverage,afterLeverage:t.amount.afterLeverage,afterTrade:()=>{t.setVolume(""),t.refresh(),e.refresh()},position:t.position,trading:t,version:i,lang:c,type:r,markPriceAfter:O,liquidationPrice:f}),Object(A.jsx)(Z,{wallet:e,modalIsOpen:q,onClose:()=>ee(!1),spec:t.config,afterDeposit:pe,balance:Q,className:"trading-dialog",lang:c}),Object(A.jsx)(K,{wallet:e,modalIsOpen:te,onClose:()=>ie(!1),spec:t.config,afterWithdraw:je,availableBalance:ce,position:t.position,className:"trading-dialog",lang:c}),Object(A.jsx)(X,{wallet:e,modalIsOpen:se,onClose:()=>ne(!1),spec:t.config,afterDepositAndWithdraw:()=>{be()},position:t.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog",lang:c})]})})})));t.a=Object(b.b)("wallet","trading","loading","version","type")(Object(b.c)((function({wallet:e,trading:t,isPro:i,lang:n,loading:c,version:r,type:l}){const[o,d]=Object(s.useState)("trade"),j=e=>d(e),b=a()("trade-position",o);return Object(s.useEffect)((()=>(e.detail.account&&(c.loading(),t.init(e,(()=>{c.loaded()}))),()=>{t.clean()})),[e.detail.account,r.current]),Object(A.jsxs)("div",{className:b,children:[Object(A.jsx)("div",{className:"header-top",children:Object(A.jsxs)("div",{className:"header",children:[Object(A.jsx)("span",{className:"trade",onClick:()=>j("trade"),children:n.trade}),!i&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("span",{className:"pc position",onClick:()=>j("position"),children:n["my-position"]}),Object(A.jsx)("span",{className:"mobile position",onClick:()=>j("position"),children:n["my-position"]}),Object(A.jsx)("span",{className:"history",onClick:()=>j("history"),children:n.history})]})]})}),Object(A.jsx)(ee,{lang:n}),Object(A.jsx)(w,{lang:n}),Object(A.jsx)(Q,{wallet:e,spec:t.config,specs:t.configs,lang:n}),Object(A.jsx)(R,{lang:n})]})})))},769:function(e,t,i){},770:function(e,t){function i(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}i.keys=function(){return[]},i.resolve=i,e.exports=i,i.id=770},771:function(e,t){},772:function(e,t,i){},773:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));i(2);var s=i(20),n=i(607),c=i.n(n),a=i(16),r=i(648),l=i(13);function o({lite:e=!1,lang:t}){const i=Object(r.useLocation)().pathname.split("/")[3],n=Object(s.useHistory)(),o=c()("check-lite-pro",{lite:e,pro:!e}),d=e=>{n.push(e)};return Object(l.jsxs)("div",{className:o,children:[a.a.isFuture&&!i&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"lite",onClick:()=>d("/futures/lite"),children:t.lite}),Object(l.jsxs)("div",{className:"pro",onClick:()=>d("/futures/pro"),children:[" ",t.pro]})]}),a.a.isFuture&&i&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"lite",onClick:()=>d("/futures/lite/v1"),children:t.lite}),Object(l.jsxs)("div",{className:"pro",onClick:()=>d("/futures/pro/v1"),children:[" ",t.pro]})]}),a.a.isOption&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"lite",onClick:()=>d("/options/lite"),children:t.lite}),Object(l.jsxs)("div",{className:"pro",onClick:()=>d("/options/pro"),children:[" ",t.pro]})]})]})}},774:function(e,t,i){},775:function(e,t,i){},776:function(e,t,i){},912:function(e,t){},913:function(e,t){},914:function(e,t){},915:function(e,t){},916:function(e,t){},917:function(e,t){}}]);
//# sourceMappingURL=19.00133c4a.chunk.js.map