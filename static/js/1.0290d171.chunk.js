(this["webpackJsonpapp.deri.finance"]=this["webpackJsonpapp.deri.finance"]||[]).push([[1],{614:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var c=a(0),i=a.n(c),s=a(1),n=a(11),l=a(6),r=a(20);function o(e){var t=e.btnText,a=e.className,c=e.disabled,o=e.click,d=e.afterClick,j=e.checkApprove,b=e.wallet,A=e.spec,m=e.lang,O=Object(l.useState)(c?"disabled":"enabled"),u=Object(n.a)(O,2),x=u[0],p=u[1],g=Object(l.useState)(!0),h=Object(n.a)(g,2),v=h[0],f=h[1],N=Object(l.useState)(!1),w=Object(n.a)(N,2),y=w[0],D=w[1],C=Object(l.useState)(t),S=Object(n.a)(C,2),k=S[0],I=S[1],B=Object(l.useRef)(null),M=function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("enabled"===x){e.next=2;break}return e.abrupt("return");case 2:return Q(),e.next=5,o();case 5:e.sent&&d&&d(),E();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){p("disabled"),D(!0),B.current&&(B.current.style.display="inline-block")},E=function(){B.current&&(B.current.style.display="none"),p("enabled"),D(!1)},F=function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(j&&b&&b.detail.account)){e.next=5;break}return e.next=3,b.isApproved(A.pool,A.bTokenId);case 3:t=e.sent,f(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(),e.next=3,b.approve(A.pool,A.bTokenId);case 3:e.sent.success?f(!0):(f(!1),alert(m["approve-failed"])),E();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){return F(),function(){}}),[b,A,j]),Object(l.useEffect)((function(){return t&&I(t),function(){}}),[t]),Object(r.jsxs)("button",{className:a,onClick:function(){v?M():T()},children:[Object(r.jsx)("span",{className:"btn-loading-wrap",children:Object(r.jsx)("span",{ref:B,className:"spinner spinner-border spinner-border-sm",style:{display:"none",marginRight:"2"}})}),y?m.pending:v?k:m.approve]})}},615:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var c=a(6),i=a(616),s=a(20);function n(e){const[t,a]=Object(c.useState)("--");return Object(c.useEffect)((()=>{const{allowZero:t,...c}=e;return("object"!==typeof e.value&&void 0!==e.value&&""!==e.value&&"NaN"!==e.value||0===(isNaN(e.value)&&Math.abs(e.value))&&!0===t)&&a(Object(s.jsx)(i.a,{...c,displayType:"text"})),()=>{}}),[e.value]),t}},621:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var c=a(6);function i(e){return Object(c.useEffect)((function(){return document.querySelector("body").style.overflow="hidden",function(){e||(document.querySelector("body").style.overflow="auto")}}),[]),null}},622:function(e,t,a){"use strict";a.d(t,"a",(function(){return A}));var c=a(0),i=a.n(c),s=a(1),n=a(11),l=a(6),r=a(17),o=a(616),d=a(614),j=a(621),b=a(20);function A(e){var t=e.wallet,a=e.spec,c=void 0===a?{}:a,A=e.onClose,m=e.balance,O=e.afterDeposit,u=e.nested,x=e.lang,p=Object(l.useState)(""),g=Object(n.a)(p,2),h=g[0],v=g[1],f=Object(l.useState)(""),N=Object(n.a)(f,2),w=N[0],y=N[1],D=Object(l.useState)(""),C=Object(n.a)(D,2),S=C[0],k=C[1],I=Object(l.useState)(!1),B=Object(n.a)(I,2),M=B[0],Q=B[1];Object(j.a)(u);var E=function(){var e=Object(s.a)(i.a.mark((function e(a){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=Object(r.e)(m),!Object(r.e)(a).gt(s)){e.next=5;break}return alert(x["insufficient-balance-in-wallet"]),e.abrupt("return");case 5:if(!(+a<=0||isNaN(a))){e.next=8;break}return alert(x["it-has-to-be-greater-than-zero-tip"]),e.abrupt("return");case 8:return Q(!0),e.next=11,Object(r.h)(t.detail.chainId,c.pool,t.detail.account,a,c.bTokenId);case 11:e.sent.success?(O(),A()):alert(x["deposit-failed"]),Q(!1);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){return function(){if(m){var e=(+m).toFixed(2),t=e.indexOf(".")>0?e.substring(e.indexOf(".")+1,e.length):"0";v(m),y(t)}}(),function(){}}),[m]),Object(b.jsx)("div",{className:"modal fade",children:Object(b.jsx)("div",{className:"modal-dialog",children:Object(b.jsxs)("div",{className:"modal-content",children:[Object(b.jsxs)("div",{className:"modal-header",children:[Object(b.jsx)("div",{className:"title",children:x["deposit-margin"]}),Object(b.jsx)("div",{className:"close","data-dismiss":"modal",onClick:function(){M||A()},children:Object(b.jsx)("span",{children:"\xd7"})})]}),Object(b.jsx)("div",{className:"modal-body",children:Object(b.jsxs)("div",{className:"margin-box-info",children:[Object(b.jsx)("div",{children:x["wallet-balance"]}),Object(b.jsxs)("div",{className:"money",children:[Object(b.jsxs)("span",{children:[Object(b.jsxs)("span",{className:"bt-balance",children:[Object(b.jsx)(o.a,{value:h,displayType:"text",decimalScale:0}),".",Object(b.jsx)("span",{style:{fontSize:"12px"},children:w})]}),Object(b.jsx)("br",{}),Object(b.jsx)("span",{style:{fontSize:"14px",marginLeft:"10px",marginTop:"10px"},children:c.bTokenSymbol})]}),Object(b.jsx)("span",{className:"add"})]}),Object(b.jsxs)("div",{className:"enter-margin",children:[Object(b.jsx)("div",{className:"input-margin",children:Object(b.jsxs)("div",{className:"box",children:[Object(b.jsx)("div",{className:"amount",style:{display:""!==S?"block":"none"},children:x.amount}),Object(b.jsx)("input",{type:"number",className:"margin-value",placeholder:x.amount,value:S,onChange:function(e){var t=e.target.value;k(t)}})]})}),Object(b.jsx)("div",{children:c.bTokenSymbol})]}),Object(b.jsxs)("div",{className:"max",children:[x["max-add"],": ",Object(b.jsx)("span",{className:"max-num",children:m}),Object(b.jsx)("span",{className:"max-btn-left",onClick:function(){k(m)},children:x["add-all"]})]}),Object(b.jsx)("div",{className:"add-margin-btn",children:Object(b.jsx)(d.a,{className:"margin-btn",btnText:x.deposit,checkApprove:!0,wallet:t,spec:c,lang:x,click:function(){return E(S)}})})]})})]})})})}},625:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var c=a(6),i=a(17),s=a(614),n=a(615),l=a(36),r=a(621),o=a(20);function d({wallet:e,spec:t={},position:a,onClose:d,afterWithdraw:j,availableBalance:b,nested:A,lang:m}){const[O,u]=Object(c.useState)(""),[x,p]=Object(c.useState)(""),[g,h]=Object(c.useState)(""),[v,f]=Object(c.useState)(!1);Object(r.a)(A);return Object(c.useEffect)((()=>((async()=>{if(e.isConnected()&&b){const e=b;u(e);const t=e.indexOf(".");p(t>0?e.substring(t+1,t+3):"00")}})(),()=>{})),[e.detail.account,a.margin,a.unrealizedPnl]),Object(o.jsx)("div",{className:"modal fade",id:"removeMargin",children:Object(o.jsx)("div",{className:"modal-dialog",children:Object(o.jsxs)("div",{className:"modal-content",children:[Object(o.jsxs)("div",{className:"modal-header",children:[Object(o.jsx)("div",{className:"title",children:m["withdraw-margin"]}),Object(o.jsx)("div",{className:"close",onClick:()=>{v||d()},children:Object(o.jsx)("span",{children:"\xd7"})})]}),Object(o.jsx)("div",{className:"modal-body",children:Object(o.jsxs)("div",{className:"margin-box-info",children:[Object(o.jsx)("div",{children:m["available-balance"]}),Object(o.jsxs)("div",{className:"money",children:[Object(o.jsx)("span",{children:Object(o.jsxs)("span",{className:"bt-balance",children:[Object(o.jsx)(n.a,{value:O,thousandSeparator:!0,decimalScale:0}),".",Object(o.jsx)("span",{style:{fontSize:"12px"},children:x})]})}),Object(o.jsx)("span",{className:"remove"})]}),Object(o.jsxs)("div",{className:"enter-margin remv",children:[Object(o.jsx)("div",{className:"input-margin",children:Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("div",{className:"amount",style:{display:""!==g?"block":"none"},children:m.amount}),Object(o.jsx)("input",{type:"number",className:"margin-value",value:g,onChange:e=>{const{value:t}=e.target;h(t)},placeholder:m.amount})]})}),Object(o.jsx)("div",{children:t.baseToken})]}),0===+a.marginHeld&&Object(o.jsxs)("div",{className:"max",children:[m.max,": ",Object(o.jsx)("span",{className:"max-num",children:O||a.margin}),Object(o.jsx)("span",{className:"max-btn-left",onClick:()=>{h(b)},children:m["remove-all"]})]}),+a.volume>0&&Object(o.jsxs)("div",{className:"max",children:[Object(o.jsx)("span",{className:"max-num"}),Object(o.jsx)("span",{className:"max-btn-left",children:" "})]}),Object(o.jsx)("div",{className:"add-margin-btn",children:Object(o.jsx)(s.a,{className:"margin-btn",btnText:m.withdraw,lang:m,click:async()=>{const a=Object(l.b)(O);if(Object(l.b)(g).gt(a))return void alert(m["under-margin"]);if(+g<=0||isNaN(g))return void alert(m["it-has-to-be-greater-than-zero-tip"]);f(!0);const c=a.eq(g),s=await Object(i.cb)(e.detail.chainId,t.pool,e.detail.account,g,t.bTokenId,c);if(s.success)j(),d();else{const e="string"===typeof s.error?s.error:s.error.errorMessage||s.error.message;alert(e)}f(!1)},checkApprove:!0,wallet:e,spec:t})})]})})]})})})}},626:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var c=a(22),i=a(0),s=a.n(i),n=a(1),l=a(11),r=a(6),o=a(156),d=a(622),j=a(625),b=a(627),A=a(628),m=a(615),O=a(17),u=a(621),x=a(20),p=Object(o.a)(d.a),g=Object(o.a)(j.a);function h(e){var t=e.wallet,a=e.spec,i=e.afterDepositAndWithdraw,o=e.position,d=e.onClose,j=e.lang,h=Object(r.useState)([]),v=Object(l.a)(h,2),f=v[0],N=v[1],w=parseInt((document.body.offsetHeight-140)/54),y=Object(r.useState)(Array.from({length:w})),D=Object(l.a)(y,2),C=D[0],S=D[1],k=Object(r.useState)(!1),I=Object(l.a)(k,2),B=I[0],M=I[1],Q=Object(r.useState)(!1),E=Object(l.a)(Q,2),F=E[0],T=E[1],P=Object(r.useState)(""),R=Object(l.a)(P,2),Y=R[0],J=R[1],H=Object(r.useState)(""),G=Object(l.a)(H,2),L=G[0],z=G[1],Z=Object(r.useState)(""),U=Object(l.a)(Z,2),q=U[0],V=U[1],W=Object(r.useState)(""),K=Object(l.a)(W,2),X=K[0],$=K[1];Object(u.a)();var _=function(){var e=Object(n.a)(s.a.mark((function e(){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.detail.account||!a){e.next=6;break}return e.next=3,Object(O.y)(t.detail.chainId,a.pool,t.detail.account,a.symbolId);case 3:c=e.sent,N(c),c.length<w&&S(Array.from({length:w-c.length}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){return _(),window.scrollTo(0,0),function(){}}),[t.detail.account,a]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"modal fade",children:Object(x.jsx)("div",{className:"modal-dialog",children:Object(x.jsxs)("div",{className:"modal-content",children:[Object(x.jsxs)("div",{className:"modal-header",children:[Object(x.jsx)("div",{className:"title",children:j["balance-in-contract-uppercase"]}),Object(x.jsx)("div",{className:"close","data-dismiss":"modal",onClick:function(){i(),d()},children:Object(x.jsx)("span",{children:"\xd7"})})]}),Object(x.jsx)("div",{className:"modal-body",children:Object(x.jsxs)("div",{className:"balance-list",children:[Object(x.jsxs)("div",{className:"row header",children:[Object(x.jsx)("span",{className:"btoken pc",children:j["base-token"]}),Object(x.jsx)("span",{className:"btoken mobile",children:j["base-token"]}),Object(x.jsx)("span",{className:"w-balance pc",children:j["wallet-balance"]}),Object(x.jsx)("span",{className:"w-balance mobile",children:j["wallet-balance"]}),Object(x.jsx)("span",{className:"avail-balance pc",children:j["available-balance"]}),Object(x.jsx)("span",{className:"avail-balance mobile",children:j["available-balance"]})]}),f.map((function(e,t){return Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("span",{className:"btoken",children:e.bTokenSymbol}),Object(x.jsx)("span",{className:"w-balance",children:Object(x.jsx)(m.a,{value:e.walletBalance,fixedDecimalScale:!0,decimalScale:2})}),Object(x.jsx)("span",{className:"avail-balance",children:Object(x.jsx)(m.a,{value:e.availableBalance,fixedDecimalScale:!0,decimalScale:2})}),Object(x.jsxs)("span",{className:"action",children:[Object(x.jsxs)("span",{className:"add-margin",id:"openAddMargin",onClick:function(){return function(e,t,a){J(e),V(t),$(a),M(!0)}(e.walletBalance,e.bTokenId,e.bTokenSymbol)},children:[Object(x.jsx)("img",{src:b.a,alt:j["add-margin"]})," ",j.add]}),Object(x.jsxs)("span",{className:"remove-margin",onClick:function(){return function(e,t,a){z(e),V(t),$(a),T(!0)}(e.availableBalance,e.bTokenId,e.bTokenSymbol)},children:[Object(x.jsx)("img",{src:A.a,alt:j["remove-margin"]})," ",j.remove]})]})]},t)})),C.map((function(e,t){return Object(x.jsx)("div",{className:"row"},t)}))]})})]})})}),Object(x.jsx)(p,{wallet:t,onClose:function(){return M(!1)},balance:Y,spec:Object(c.a)(Object(c.a)({},a),{},{bTokenId:q,bTokenSymbol:X}),position:o,modalIsOpen:B,afterDeposit:function(){M(!1),_()},className:"trading-dialog",nested:!0,lang:j}),Object(x.jsx)(g,{wallet:t,onClose:function(){return T(!1)},spec:Object(c.a)(Object(c.a)({},a),{},{bTokenId:q,bTokenSymbol:X}),position:o,modalIsOpen:F,afterWithdraw:function(){T(!1),_()},availableBalance:L,className:"trading-dialog",nested:!0,lang:j})]})}},627:function(e,t,a){"use strict";t.a=a.p+"static/media/remove-margin.b53e55b1.svg"},628:function(e,t,a){"use strict";t.a=a.p+"static/media/add-margin.f4c9f875.svg"},629:function(e,t,a){"use strict";t.a="data:image/png;base64,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"},632:function(e,t,a){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAASCAYAAAC5DOVpAAAACXBIWXMAAAsSAAALEgHS3X78AAAArUlEQVQ4ja2UUQ0CMQxAHwQBOEACSDgJOMDCOWAoOAuggElAAjg5FJQ0lMuyDHIbfUmzj3Zv3ZoMEfkWQd4Ey/cisvtRz5L5rIFoa5EambIBbl4yZQucvWTKAei9ZMoA7P+VnYCFRUwTq6xQT7o29WmdBUBsjXZyDdP+0jU1eWntrIRO6uElG4EOeHrIUuE4V5ZPM+dugb1laO2sGldZes2jRTv2sX0+wlaCiPACF2WaE4qSlAwAAAAASUVORK5CYII="},633:function(e,t,a){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABO0lEQVQ4jaVV223DMAy8BvmvRvAG8QgeISN4lIyQDeoRMoK7gUfQBnUnYMH0LmAU2YETAoQhPs4niWd/mBkWLAE4AmiK9ATgstS0q8QcaADwA6Cv5E4AZj4fzRkG78xsNrOLmTVFrqyb6CnmYlFr/9avAJU+mFmOoCpIZLYFTO6gYwk4cJtbwUQmi4wC9uTMnnnP84QW4xtg8iupHedsrIxNCrG+GKGWsxhrvh1rT8AcwBz8wKaOw/3F/MzB9ppPPttysHNYq0GK0PqXnhnLoebO9oFZ3N7IbaupKwA61p2Lo7peylE39IZrUpJAZsrpVdCT5jgGXmXZREIxMVExW1Xifefax0ESGsovyAozB7uTbO2NrpqbNhdY+RH5Nm/MlgDl0qabv0CumLOqXuLaL8DNVVT7BfhwPxqAP4UiW3Wp1wTfAAAAAElFTkSuQmCC"},634:function(e,t,a){"use strict";var c=a(6),i=(a(691),a(613)),s=a.n(i),n=a(49),l=a(20);t.a=Object(n.b)("version","wallet","type")(Object(n.c)((function({lang:e,version:t,wallet:a,type:i}){const[n,r]=Object(c.useState)("main"),o=s()("area-picker-wrapper",n),d=e=>{r(e),"innovation"===e?t.setCurrent("v2_lite"):t.setCurrent("v2")};return Object(c.useEffect)((()=>(d("main"),()=>{})),[]),(t.isV2||t.isV2Lite)&&a.supportInnovation&&!i.isOption?Object(l.jsx)("div",{className:"area-picker",children:Object(l.jsxs)("div",{className:o,children:[Object(l.jsx)("span",{className:"left",onClick:()=>d("main"),children:e["main-zone"]}),Object(l.jsx)("span",{className:"right",onClick:()=>d("innovation"),children:e["innovation-zone"]})]})}):null})))},644:function(e,t,a){"use strict";var c=a(6),i=a(17),s=a(613),n=a.n(s),l=a(156),r=a(622),o=a(625),d=a(615),j=a(36),b=a(49),A=a(626),m=a(628),O=a(627),u=a(632),x=a(633),p=a.p+"static/media/close-position-icon.6e2b1ee2.svg",g=a(20);const h=Object(l.a)(r.a),v=Object(l.a)(o.a),f=Object(l.a)(A.a);function N({trading:e,wallet:t,lang:a}){const[i,s]=Object(c.useState)(Object(g.jsx)("span",{}));return Object(c.useEffect)((()=>{let c;t.isConnected()&&e.position.liquidationPrice&&(e.position.liquidationPrice.numPositions>1?e.position.liquidationPrice.price1&&e.position.liquidationPrice.price2?c=Object(g.jsxs)("span",{children:[Object(g.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price1}),Object(g.jsx)("span",{children:" / "}),Object(g.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price2})]}):e.position.liquidationPrice.price1||e.position.liquidationPrice.price2?!e.position.liquidationPrice.price1&&e.position.liquidationPrice.price2?c=Object(g.jsxs)("span",{children:[Object(g.jsx)("span",{className:"funding-fee",title:a["liq-price-hover"],children:" ? "}),Object(g.jsx)("span",{children:" / "}),Object(g.jsxs)("span",{children:[" ",Object(g.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price2})," "]})]}):e.position.liquidationPrice.price1&&!e.position.liquidationPrice.price2&&(c=Object(g.jsxs)("span",{children:[Object(g.jsxs)("span",{children:[" ",Object(g.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price1})," "]}),Object(g.jsx)("span",{children:" / "}),Object(g.jsx)("span",{className:"funding-fee",title:a["liq-price-hover"],children:" ? "})]})):c=Object(g.jsxs)("span",{children:[Object(g.jsx)("span",{className:"funding-fee",title:a["liq-price-hover"],children:" ? "}),Object(g.jsx)("span",{children:" / "}),Object(g.jsx)("span",{className:"funding-fee",title:a["liq-price-hover"],children:" ? "})]}):e.position.liquidationPrice.price1&&e.position.liquidationPrice.price2?c=Object(g.jsxs)("span",{children:[Object(g.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price1}),Object(g.jsx)("span",{children:" / "}),Object(g.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price2})]}):e.position.liquidationPrice.price1||e.position.liquidationPrice.price2?!e.position.liquidationPrice.price1&&e.position.liquidationPrice.price2?c=Object(g.jsxs)("span",{children:[Object(g.jsx)("span",{children:" -- "}),Object(g.jsx)("span",{children:" / "}),Object(g.jsxs)("span",{children:[" ",Object(g.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price2})," "]})]}):e.position.liquidationPrice.price1&&!e.position.liquidationPrice.price2&&(c=Object(g.jsxs)("span",{children:[Object(g.jsxs)("span",{children:[" ",Object(g.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price1})," "]}),Object(g.jsx)("span",{children:" / "}),Object(g.jsx)("span",{children:" -- "})]})):c=Object(g.jsxs)("span",{children:[Object(g.jsx)("span",{children:" -- "}),Object(g.jsx)("span",{children:" / "}),Object(g.jsx)("span",{children:" -- "})]}),s(c))}),[e.position,t.detail]),Object(g.jsx)("span",{children:i})}var w=Object(b.b)("wallet","trading","version","type")(Object(b.c)((function({wallet:e,trading:t,version:a,lang:s,type:l}){const[r,o]=Object(c.useState)(!1),[b,A]=Object(c.useState)(""),[w,y]=Object(c.useState)(""),[D,C]=Object(c.useState)(""),[S,k]=Object(c.useState)(!1),[I,B]=Object(c.useState)(!1),[M,Q]=Object(c.useState)(!1),[E,F]=Object(c.useState)(""),T=async()=>{if(e.isConnected()&&t.config){const a=await Object(i.L)(e.detail.chainId,t.config.pool,e.detail.account,t.config.bTokenId).catch((e=>console.error("load balance error,maybe network is wrong")));a&&F(a)}},P=()=>{t.refresh(),T()},R=n()("Direction","info-num",{LONG:+t.position.volume>0,SHORT:+t.position.volume<0});return Object(c.useEffect)((()=>(T(),()=>{})),[e.detail.account,t.config]),Object(c.useEffect)((()=>{if(t.position){const{position:e}=t,a=+e.volume>0?s.long:Object(j.d)(e.volume,0)||!e.volume?"--":s.short;A(a),y(Object(i.e)(e.margin).plus(e.unrealizedPnl).toString()),C(Object(i.e)(e.margin).plus(e.unrealizedPnl).minus(e.marginHeld).toString())}return()=>{}}),[t.position.volume,t.position.margin,t.position.unrealizedPnl]),Object(g.jsxs)("div",{className:"position-info",children:[Object(g.jsxs)("div",{className:"info",children:[Object(g.jsxs)("div",{className:"info-left",children:[Object(g.jsx)("div",{className:"title-text",children:s.position}),Object(g.jsx)("div",{className:"info-num",children:Object(g.jsx)(d.a,{value:t.position.volume,allowZero:!0})})]}),Object(g.jsx)("div",{className:"info-right",children:Object(g.jsxs)("div",{className:"close-position",id:"close-p",onClick:async()=>{o(!0);const a=await Object(i.f)(e.detail.chainId,t.config.pool,e.detail.account,t.config.symbolId).finally((()=>o(!1)));a.success?P():"string"===typeof a.error?alert(a.error||s["close-position-failed"]):"object"===typeof a.error?alert(a.error.errorMessage||s["close-position-failed"]):alert(s["close-position-failed"])},children:[Object(g.jsx)("span",{className:"spinner spinner-border spinner-border-sm",role:"status","aria-hidden":"true",style:{display:r?"block":"none"}}),Object(g.jsx)("img",{src:p})," ",s.close]})})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsxs)("div",{className:"info-left",children:[Object(g.jsx)("div",{className:"title-text",children:s["average-entry-price"]}),Object(g.jsx)("div",{className:"info-num",children:Object(g.jsx)(d.a,{value:t.position.averageEntryPrice,decimalScale:2})})]}),Object(g.jsx)("div",{className:"info-right"})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsxs)("div",{className:"info-left",children:[Object(g.jsx)("div",{className:"title-text balance-con",children:a.isV1||a.isV2Lite?Object(g.jsxs)(g.Fragment,{children:[s["balance-in-contract"],Object(g.jsx)("br",{})," (",s["dynamic-balance"],")"]}):s["dynamic-effective-balance"]}),Object(g.jsx)("div",{className:"info-num",children:Object(g.jsx)(d.a,{decimalScale:2,allowZero:!0,value:w})})]}),Object(g.jsx)("div",{className:`info-right action ${a.current}`,children:a.isV1||a.isV2Lite||l.isOption?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"add-margin",id:"openAddMargin",onClick:()=>B(!0),children:[Object(g.jsx)("img",{src:O.a,alt:"add margin"})," ",s.add]}),Object(g.jsxs)("div",{className:"remove-margin",onClick:()=>Q(!0),children:[Object(g.jsx)("img",{src:m.a,alt:"add margin"})," ",s.remove]})]}):Object(g.jsxs)("div",{onClick:()=>k(!0),children:[Object(g.jsx)("img",{src:u.a,alt:"Remove margin"})," ",s.detail]})})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsxs)("div",{className:"info-left",children:[Object(g.jsx)("div",{className:"title-text",children:s.direction}),Object(g.jsx)("div",{className:R,children:b})]}),Object(g.jsx)("div",{className:"info-right"})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsxs)("div",{className:"info-left",children:[Object(g.jsx)("div",{className:"title-text",children:s.margin}),Object(g.jsx)("div",{className:"info-num",children:Object(g.jsx)(d.a,{value:t.position.marginHeld,decimalScale:2})})]}),Object(g.jsx)("div",{className:"info-right"})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsxs)("div",{className:"info-left",children:[Object(g.jsx)("div",{className:"title-text",children:s["unrealized-pnl"]}),Object(g.jsx)("div",{className:"info-num",children:Object(g.jsxs)("span",{className:"pnl-list",children:[Object(g.jsx)(d.a,{value:t.position.unrealizedPnl,decimalScale:8}),(t.position.unrealizedPnlList?(a.isV2||a.isV2Lite)&&t.position.unrealizedPnlList.length:a.isV2||a.isV2Lite)&&Object(g.jsx)("img",{src:x.a,alt:"unrealizePnl"}),(a.isV2||a.isV2Lite)&&Object(g.jsx)("div",{className:"pnl-box",children:t.position.unrealizedPnlList&&t.position.unrealizedPnlList.map(((e,t)=>Object(g.jsxs)("div",{className:"unrealizePnl-item",children:[Object(g.jsx)("span",{children:e[0]}),Object(g.jsx)("span",{children:Object(g.jsx)(d.a,{value:e[1],decimalScale:8})})]},t)))})]})})]}),Object(g.jsx)("div",{className:"info-right"})]}),Object(g.jsxs)("div",{className:"info",children:[l.isFuture&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"info-left",children:[Object(g.jsx)("div",{className:"title-text  funding-fee",title:s["funding-fee-tip"],children:s["funding-fee"]}),Object(g.jsx)("div",{className:"info-num",children:Object(g.jsx)(d.a,{value:-t.position.fundingFee,decimalScale:8})})]}),Object(g.jsx)("div",{className:"info-right"})]}),l.isOption&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"info-left",children:[Object(g.jsx)("div",{className:"title-text  funding-fee",title:s["funding-fee-tip"],children:s["funding-fee"]}),Object(g.jsx)("div",{className:"info-num",children:Object(g.jsx)(d.a,{value:-t.position.premiumFundingAccrued,decimalScale:8})})]}),Object(g.jsx)("div",{className:"info-right"})]})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsxs)("div",{className:"info-left",children:[Object(g.jsx)("div",{className:"title-text",children:s["liquidation-price"]}),Object(g.jsx)("div",{className:"info-num",children:l.isOption?Object(g.jsx)(N,{trading:t,wallet:e,lang:s}):Object(g.jsx)(d.a,{decimalScale:4,value:t.position.liquidationPrice})})]}),Object(g.jsx)("div",{className:"info-right"})]}),Object(g.jsx)(h,{wallet:e,modalIsOpen:I,onClose:()=>{B(!1)},spec:t.config,afterDeposit:()=>{B(!1),P()},balance:E,className:"trading-dialog",lang:s}),Object(g.jsx)(v,{wallet:e,modalIsOpen:M,onClose:()=>{Q(!1)},spec:t.config,afterWithdraw:()=>{Q(!1),P()},position:t.position,availableBalance:D,className:"trading-dialog",lang:s}),Object(g.jsx)(f,{wallet:e,modalIsOpen:S,onClose:()=>{k(!1)},spec:t.config,afterDepositAndWithdraw:()=>{P()},position:t.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog",lang:s})]})}))),y=a(618),D=a.n(y),C=a(616);var S=a(97),k=a(629);const I=S[i.a.get()].chainInfo;function B({wallet:e,his:t}){const[a,i]=Object(c.useState)(!1),s=()=>{i(!0)},l=()=>{i(!1)},r=n()("view",{hover:a});return Object(g.jsxs)("span",{className:r,onMouseOut:l,children:[Object(g.jsx)("span",{className:"view-space",onMouseOver:s,children:Object(g.jsxs)("a",{target:"_blank",rel:"noreferrer",href:`${I[e.detail.chainId].viewUrl}tx/${t.transactionHash}`,children:["View at ",I[e.detail.chainId].viewUrl]})}),Object(g.jsx)("span",{className:"right-arrow",onMouseOver:s,children:Object(g.jsx)("img",{alt:"",src:k.a})}),Object(g.jsx)("span",{className:"view-arrow",onMouseOver:s,onMouseOut:l,children:Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:`${I[e.detail.chainId].viewUrl}tx/${t.transactionHash}`,children:Object(g.jsx)("img",{rel:"noreferrer",alt:"",src:"data:image/svg+xml;base64,DQo8c3ZnIGZpbGw9Im5vbmUiIGhlaWdodD0iMTAiIHdpZHRoPSIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCiAgICA8cGF0aCBkPSJNOC42NzYuNjQyYS42NS42NSAwIDAwLS4wNzIuMDA2SDQuNzkzYS42NS42NSAwIDAwLS41Ny45NzUuNjUuNjUgMCAwMC41Ny4zMjJINy4xMkwuNDM4IDguNjE0YS42NDcuNjQ3IDAgMDAuMjg2IDEuMDk2LjY1LjY1IDAgMDAuNjMyLS4xNzlMOC4wNCAyLjg2MXYyLjMyNGEuNjQ4LjY0OCAwIDAwLjk3Ny41Ny42NDguNjQ4IDAgMDAuMzIyLS41N1YxLjM4YS42NDcuNjQ3IDAgMDAtLjY2Mi0uNzM3eiIgZmlsbD0iI0FBQUFBQSIvPg0KPC9zdmc+DQoNCg=="})})})]})}var M=Object(b.b)("wallet","trading","type")(Object(b.c)((function({wallet:e,trading:t,lang:a,type:i}){const[s,n]=Object(c.useState)([]);return Object(c.useEffect)((()=>(async function(){if(e.isConnected()&&t.configs&&t.config&&t.contract){const e=t.history.map((e=>{e.directionText=a["long-buy"],"SHORT"===e.direction?e.directionText=a["short-sell"]:"liquidation"===e.direction.toLowerCase()&&(e.directionText=a.liquidation);const c=t.config;return c&&(e.baseTokenText=i.isOption?`${e.symbol} / ${e.baseToken}`:e.baseToken?` ${c.symbol} / ${c.bTokenSymbol}`:c.symbol),e}));n(e)}}(),()=>{})),[e.detail,t.configs,t.config,t.history]),Object(g.jsxs)("div",{className:"history-info","v-show":"historyShow",children:[s.map(((t,c)=>Object(g.jsxs)("div",{className:"history-box",children:[Object(g.jsxs)("div",{className:"direction-bToken-price",children:[Object(g.jsxs)("span",{className:"direction",children:[Object(g.jsxs)("span",{className:`${t.direction}`,children:[" ",t.directionText]}),Object(g.jsx)("span",{className:"basetoken",children:t.baseTokenText}),Object(g.jsx)(B,{wallet:e,his:t})]}),Object(g.jsx)("span",{className:"history-text time",children:D.a.asString("yyyy-MM-dd hh:mm:ss",new Date(parseInt(t.time)))})]}),Object(g.jsxs)("div",{className:"time-price-volume",children:[Object(g.jsxs)("div",{className:"history-price",children:[Object(g.jsxs)("div",{className:"history-title",children:[" ",i.isOption?a["volume-notional-price"]:a["volume-price"]]}),Object(g.jsxs)("div",{className:"history-text",children:[t.volume," @ ",Object(g.jsx)(d.a,{value:t.price,decimalScale:2,displayType:"text"})]})]}),Object(g.jsxs)("div",{className:"notional",children:[Object(g.jsxs)("div",{className:"history-title",children:[" ",i.isOption?a["contract-value"]:a.notional]}),Object(g.jsx)("div",{className:"history-text",children:Object(g.jsx)(d.a,{value:t.notional,decimalScale:4})})]}),Object(g.jsxs)("div",{className:"history-fee",children:[Object(g.jsx)("div",{className:"history-title pc",children:a["transaction-fee"]}),Object(g.jsx)("div",{className:"history-title mobile",children:a["transaction-fee"]}),Object(g.jsx)("div",{className:"history-text",children:Object(g.jsx)(d.a,{value:t.transactionFee,decimalScale:4})})]})]})]},c))),0==s.length?Object(g.jsx)("div",{className:"no-data",children:a["no-data"]}):""]})})));var Q=Object(b.b)("wallet","trading","type")(Object(b.c)((function({wallet:e,trading:t,lang:a,type:c}){return Object(g.jsxs)("div",{className:"contract-box",children:[Object(g.jsx)("div",{className:"contract-header"}),Object(g.jsxs)("div",{className:"contract-info",children:[Object(g.jsx)("div",{className:"conntract-header",children:a["contract-info"]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsx)("div",{className:"title",children:a["base-token"]}),Object(g.jsx)("div",{className:"text",dangerouslySetInnerHTML:{__html:t.contract.bTokenSymbolDisplay&&t.contract.bTokenSymbolDisplay.map((e=>e))}})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsx)("div",{className:"title",children:a.symbol}),Object(g.jsx)("div",{className:"text",children:t.contract.symbol})]}),c.isFuture&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"info",children:[Object(g.jsx)("div",{className:"title",children:a.multiplier}),Object(g.jsx)("div",{className:"text",children:t.contract.multiplier})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsx)("div",{className:"title",children:a["funding-rate-coefficient"]}),Object(g.jsx)("div",{className:"text",children:t.contract.fundingRateCoefficient})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsx)("div",{className:"title",children:a["min-initial-margin-ratio"]}),Object(g.jsx)("div",{className:"text",children:Object(g.jsx)(C.a,{displayType:"text",value:100*t.contract.minInitialMarginRatio,decimalScale:2,suffix:"%"})})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsx)("div",{className:"title",children:a["min-maintenance-margin-ratio"]}),Object(g.jsx)("div",{className:"text",children:Object(g.jsx)(C.a,{displayType:"text",value:100*t.contract.minMaintenanceMarginRatio,decimalScale:2,suffix:"%"})})]})]}),c.isOption&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"info",children:[Object(g.jsx)("div",{className:"title",children:a.underlier}),Object(g.jsx)("div",{className:"text",children:t.contract.underlier})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsx)("div",{className:"title",children:a.strike}),Object(g.jsx)("div",{className:"text",children:t.contract.strike})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsx)("div",{className:"title",children:a["option-type"]}),Object(g.jsx)("div",{className:"text",children:"C"===t.contract.optionType?`${a.call}`:`${a.put}`})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsxs)("div",{className:"title",children:[" ",Object(g.jsxs)("span",{children:[a["min-trade-volume"]," ( ",a.notional," )"]})," "]}),Object(g.jsxs)("div",{className:"text",children:[t.contract.multiplier," ",t.config?t.config.unit:""]})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsxs)("div",{className:"title",children:[" ",Object(g.jsx)("span",{title:t.initialMarginRatioTip,className:"margin-per",children:a["initial-margin-ratio"]})," "]}),Object(g.jsx)("div",{className:"text",children:Object(g.jsx)(C.a,{displayType:"text",value:100*t.contract.initialMarginRatio,decimalScale:2,suffix:"%"})})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsxs)("div",{className:"title",children:[" ",Object(g.jsxs)("span",{title:t.maintenanceMarginRatioTip,className:"margin-per",children:[" ",a["maintenance-margin-ratio"]]})," "]}),Object(g.jsx)("div",{className:"text",children:Object(g.jsx)(C.a,{displayType:"text",value:100*t.contract.maintenanceMarginRatio,decimalScale:2,suffix:"%"})})]})]}),Object(g.jsxs)("div",{className:"info",children:[c.isFuture&&Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"title",children:a["transaction-fee"]})}),c.isOption&&Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"title",children:Object(g.jsx)("span",{className:"margin-per",title:t.TransactionFeeTip,children:a["transaction-fee"]})})}),Object(g.jsx)("div",{className:"text",children:Object(g.jsx)(C.a,{displayType:"text",value:100*t.contract.feeRatio,decimalScale:3,suffix:"%"})})]})]})]})}))),E=a(11),F=a(22),T=a(649),P=a(754),R=(a(689),a(690),P.b.Handle);function Y(e){var t=e.value,a=(e.dragging,e.index),c=Object(T.a)(e,["value","dragging","index"]);return Object(g.jsx)(P.a,{prefixCls:"rc-slider-tooltip",overlay:t||"",placement:"top",visible:!!t,overlayStyle:{display:"block"},overlayInnerStyle:{color:"#569BDA",background:"none",display:"block",fontSize:"10px",boxShadow:"none"},children:Object(g.jsx)(R,Object(F.a)({value:t},c))},a)}function J(e){var t=e.max,a=void 0===t?"--":t,s=e.start,l=e.onValueChange,r=e.freeze,o=e.currentSymbolMarginHeld,d=e.originMarginHeld,j=e.setStopCalculate,b=Object(c.useState)(0),A=Object(E.a)(b,2),m=A[0],O=A[1],u=Object(c.useState)(0),x=Object(E.a)(u,2),p=x[0],h=x[1],v=Object(c.useState)(!1),f=Object(E.a)(v,2),N=f[0],w=f[1],y=Object(c.useState)({}),D=Object(E.a)(y,2),C=D[0],S=D[1],k=Object(c.useState)(!1),I=Object(E.a)(k,2),B=I[0],M=I[1],Q=Object(c.useState)(!1),F=Object(E.a)(Q,2),T=F[0],R=F[1];Object(c.useEffect)((function(){return w(r),0===Math.abs(a)&&w(!0),function(){}}),[r,a]),Object(c.useEffect)((function(){var e=a;return 0!==Math.abs(a)&&"--"!==a||(a=100),isNaN(e)&&O(""),a&&S(function(e){for(var t={},a=+e/10,c=0;c<=10;c++)if(0===c||10===c){var i={top:"-16px",position:"relative"};10===c&&(i.width=100,i.left="-10px",i.paddingRight="10px"),t[c*a]=Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{style:i,children:10===c?(c*a).toFixed(2):c*a}),Object(g.jsx)("div",{style:{top:"-16px",position:"relative"},children:"l"})]})}else t[c*a]="l";return t}(a)),O(+a),"--"!==e&&M(!0),0!==Math.abs(a)&&0!==Math.abs(e)||M(!1),function(){}}),[a]),Object(c.useEffect)((function(){return T||(isNaN(s)?h(0):h(s)),function(){}}),[s]);var J=n()("deri-slider",{controlled:B});return Object(g.jsx)(P.b,{handle:Y,className:J,start:s,min:0,max:m,value:p,onChange:function(e){R(!0),j(!0),h(e),l(e,!1)},onAfterChange:function(e){if(o){var t=Object(i.e)(d).minus(o);Object(i.e)(e).lt(t)&&(h(t),l(t))}R(!1),j(!1)},disabled:N,overlay:p,step:.01,marks:C})}var H=a(614),G=a(32);var L=a(623);function z({version:e,spec:t,type:a}){return a.isOption?`${t.symbol||"BTCUSD-20000-C"}`:e.isV1||e.isV2Lite?`${t.symbol||"BTCUSD"} / ${t.bTokenSymbol||"BUSD"} (10X)`:`${t.symbol||"BTCUSD"} (10X)`}var Z=Object(b.b)("trading","version","loading","type")(Object(b.c)((function({trading:e,version:t,setSpec:a,spec:i,loading:s,type:l}){const[r,o]=Object(c.useState)(!1),d=n()("dropdown-menu",{show:r});return Object(c.useEffect)((()=>(document.body.addEventListener("click",(e=>{document.querySelector(".btn-group")&&!document.querySelector(".btn-group").contains(e.target)&&o(!1)})),()=>{})),[]),Object(g.jsxs)("div",{className:"btn-group check-baseToken-btn",children:[Object(g.jsxs)("button",{type:"button",onClick:t=>{e.configs.length>0&&(t.preventDefault(),o(!r))},className:"btn chec",children:[Object(g.jsx)(z,{spec:i,version:t,type:l}),Object(g.jsx)("span",{className:"check-base-down",children:Object(g.jsx)("img",{src:L.a,alt:""})})]}),Object(g.jsx)("div",{className:d,children:e.configs.map(((c,i)=>Object(g.jsx)("div",{className:"dropdown-item",onClick:t=>(t=>{const c=e.configs.find((e=>e.pool===t.pool&&t.symbolId===e.symbolId));c&&(s.loading(),e.pause(),a(c),e.onSymbolChange(c,(()=>s.loaded()),l.isOption),o(!1))})(c),children:Object(g.jsx)(z,{spec:c,version:t,type:l})},i)))})]})})));a(158);const U=Object(l.a)((function({wallet:e,spec:t,onClose:a,direction:s,volume:n,position:l=0,indexPrice:r,leverage:o,transFee:d,afterTrade:j,lang:b,markPriceAfter:A,trading:m}){const[O,u]=Object(c.useState)(!1),x=()=>{O||a()},p="long"===s?+n+ +l*m.contract.multiplier:+l*m.contract.multiplier-+n;return Object(g.jsx)("div",{className:"modal-dialog",children:Object(g.jsxs)("div",{className:"modal-content",children:[Object(g.jsxs)("div",{className:"modal-header",children:[Object(g.jsx)("div",{className:"title",children:b.confirm}),Object(g.jsx)("div",{className:"close","data-dismiss":"modal",onClick:x,children:Object(g.jsx)("span",{children:"\xd7"})})]}),Object(g.jsx)("div",{className:"modal-body",children:Object(g.jsxs)("div",{className:"contract-box-info",children:[Object(g.jsxs)("div",{className:"top",children:[Object(g.jsxs)("div",{className:"text",children:[Object(g.jsxs)("div",{className:"text-title",children:["# ",b["of-contracts"]]}),Object(g.jsx)("div",{className:"text-num",children:"long"===s?n:`-${n}`})]}),Object(g.jsxs)("div",{className:"text",children:[Object(g.jsx)("div",{className:"text-title",children:b["position-after-execution"]}),Object(g.jsx)("div",{className:"text-num",children:p})]}),Object(g.jsxs)("div",{className:"text",children:[Object(g.jsx)("div",{className:"text-title",children:b.direction}),Object(g.jsx)("div",{className:"text-num",children:Object(g.jsx)("span",{className:s,children:b[s.toLowerCase()]})})]}),G.a.isFuture&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"text",children:[Object(g.jsx)("div",{className:"text-title",children:b["trade-price-estimated"]}),Object(g.jsx)("div",{className:"text-num",children:Object(g.jsx)(C.a,{value:r,decimalScale:2,displayType:"text"})})]})}),G.a.isOption&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"text",children:[Object(g.jsx)("div",{className:"text-title",children:b["trade-price"]}),Object(g.jsx)("div",{className:"text-num",children:Object(g.jsx)(C.a,{value:A,decimalScale:2,displayType:"text"})})]})}),G.a.isFuture&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"text",children:[Object(g.jsx)("div",{className:"text-title",children:b["leverage-after-execution"]}),Object(g.jsxs)("div",{className:"text-num",children:[o,"X"]})]})}),Object(g.jsxs)("div",{className:"text",children:[Object(g.jsx)("div",{className:"text-title",children:b["transaction-fee"]}),Object(g.jsx)("div",{className:"text-num",children:Object(g.jsx)(C.a,{value:d,decimalScale:2,suffix:` ${t.bTokenSymbol}`,displayType:"text"})})]})]}),Object(g.jsx)("div",{className:"modal-footer",children:Object(g.jsxs)("div",{className:"long-btn","v-if":"confirm",children:[Object(g.jsx)("button",{className:"cancel",onClick:x,children:b.cancel}),Object(g.jsx)(H.a,{className:"confirm",btnText:b.ok,click:async()=>{u(!0),n=G.a.isOption?n/+m.contract.multiplier:n,n="long"===s?n:-+n;const c=await Object(i.Y)(e.detail.chainId,t.pool,e.detail.account,n,t.symbolId);if(c.success)j(),a();else{const e="string"===typeof c.error?c.error:c.error.errorMessage||c.error.message;alert(e)}u(!1)},lang:b})]})})]})})]})})})),q=Object(l.a)(r.a),V=Object(l.a)(A.a);function W({hasConnectWallet:e,wallet:t,spec:a,volume:s,available:n,baseToken:l,leverage:r,indexPrice:o,position:d,transFee:j,afterTrade:b,direction:A,trading:m,symbolId:O,bTokenId:u,version:x,lang:p,type:h,markPriceAfter:v}){const[f,N]=Object(c.useState)(!0),[w,y]=Object(c.useState)(!0),[D,C]=Object(c.useState)(!1),[S,k]=Object(c.useState)(!1),[I,B]=Object(c.useState)(""),M=()=>{t.connect()},Q=async()=>{(await t.approve(a.pool,u)).success?(N(!0),T()):(N(!1),alert(p["approve-failed"]))},E=async()=>{m.refresh(),k(!1)},F=()=>{m.refresh(),k(!1)},T=async()=>{if(e()&&a){const e=await t.isApproved(a.pool,u);N(e)}};Object(c.useEffect)((()=>(e()&&a&&(async()=>{if(t.isConnected()&&a){const e=await Object(i.L)(t.detail.chainId,a.pool,t.detail.account,u).catch((e=>console.error("getWalletBalance was error,maybe network is Wrong")));e&&B(e)}})(),()=>{})),[t.detail.account,a,n]),Object(c.useEffect)((()=>(y(!s),()=>{})),[s]),Object(c.useEffect)((()=>(a&&T(),()=>{})),[t.detail.isApproved,a]);let P=Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(U,{wallet:t,className:"trading-dialog",spec:a,modalIsOpen:D,onClose:()=>C(!1),leverage:r,baseToken:l,volume:s,position:d.volume,indexPrice:o,transFee:j,afterTrade:b,direction:A,lang:p,markPriceAfter:v,trading:m}),Object(g.jsx)("button",{className:"short-submit",onClick:()=>C(!0),children:p.trade})]});return e()?f?!n||+n<=0?P=Object(g.jsxs)(g.Fragment,{children:[x.isV2&&!h.isOption?Object(g.jsx)(V,{wallet:t,modalIsOpen:S,onClose:F,spec:m.config,afterDepositAndWithdraw:F,position:m.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog",lang:p}):Object(g.jsx)(q,{wallet:t,modalIsOpen:S,onClose:()=>k(!1),spec:a,balance:I,afterDeposit:E,className:"trading-dialog",lang:p}),Object(g.jsx)("div",{className:"noMargin-text",children:0!==+m.position.margin&&m.position.margin?p["not-enough-margin-tip"]:p["no-margin-tip"]}),Object(g.jsx)("button",{className:"short-submit",onClick:()=>k(!0),children:p.deposit})]}):w&&(P=Object(g.jsx)("button",{className:"btn btn-danger short-submit",children:p["enter-volume"]})):P=Object(g.jsx)(H.a,{className:"approve",btnText:p.approve,click:Q,lang:p}):P=Object(g.jsx)(H.a,{className:"btn btn-danger connect",btnText:p["connect-wallet"],click:M,lang:p}),Object(g.jsx)("div",{className:"submit-btn",children:P})}var K=Object(b.b)("wallet","trading","version","loading","type")(Object(b.c)((function({wallet:e={},trading:t,version:a,lang:s,loading:l,type:r}){const[o,j]=Object(c.useState)("long"),[b,A]=Object(c.useState)(),[m,O]=Object(c.useState)({}),[u,x]=Object(c.useState)(""),[p,h]=Object(c.useState)(""),[v,f]=Object(c.useState)(""),[N,w]=Object(c.useState)({}),[y,D]=Object(c.useState)("rise"),[C,S]=Object(c.useState)("rise"),[k,I]=Object(c.useState)(!0),[B,M]=Object(c.useState)(!1),[Q,E]=Object(c.useState)(!1),[F,T]=Object(c.useState)(!1),P=Object(c.useRef)(),R=Object(c.useRef)(),Y=n()("checked-long","check-long-short"," long-short",{"checked-short":"short"===o}),H=n()("contrant-input",{inputFamliy:""!==t.volume}),G=()=>m&&m.pool,L=()=>e&&e.detail&&e.detail.account,z=e=>{t.setVolume(""),j(e)},U=e=>r.isOption?e/t.contract.multiplier:e,q=e=>{e.target.setAttribute("class","contrant-input inputFamliy")},V=e=>{r.isOption?46!==e.which&&(e.which<48||e.which>57)&&e.preventDefault():r.isFuture&&(e.which<48||e.which>57)&&e.preventDefault()},K=e=>{let{value:a}=e.target;"0"===a&&r.isFuture&&(a=""),t.setVolume(a),M(!0)},X=e=>{const a=e.target;if(r.isOption){let e=t.contract.multiplier.indexOf("."),c=t.contract.multiplier.slice(e).length,i=a.value;"-1"!==a.value.indexOf(".")&&(i=a.value.substring(0,a.value.indexOf(".")+c)),t.setVolume(i)}""===a.value&&a.setAttribute("class","contrant-input")};return Object(c.useEffect)((()=>{var e;return t.position&&t.position.volume&&(e=+t.position.volume,j(e>=0?"long":"short")),()=>{}}),[t.position.volume]),Object(c.useEffect)((()=>(Q||""===t.volumeDisplay?e.detail.account&&t.resume():(t.pause(),(async()=>{if(L()&&G()&&t.volumeDisplay){let a=U(t.volumeDisplay);const c="long"===o?a:-a,s=await Object(i.o)(e.detail.chainId,m.pool,c,m.symbolId);if(s){let e=r.isOption?s.deltaFunding1:s.fundingRate1;x(e)}}})(),r.isOption&&(async()=>{if(L()&&G()&&t.volumeDisplay){let a=U(t.volumeDisplay);const c="long"===o?a:-a,s=await Object(i.q)(e.detail.chainId,m.pool,c,m.symbolId);s&&h(s)}})(),(async()=>{if(L()&&G()&&t.volumeDisplay&&r.isFuture){const{detail:a}=e,c="long"===o?t.volumeDisplay:-t.volumeDisplay,s=await Object(i.t)(a.chainId,m.pool,m.symbolId),n=await Object(i.p)(a.chainId,m.pool,c,m.symbolId);s&&n&&w({curLiqUsed:s.liquidityUsed0,afterLiqUsed:n.liquidityUsed1})}})(),(async()=>{if(L()&&G()&&t.volumeDisplay){let a=U(t.volumeDisplay);const c=await Object(i.n)(e.detail.chainId,m.pool,Math.abs(a),m.symbolId);isNaN(c)||f((+c).toFixed(2))}})()),()=>{})),[t.volumeDisplay,Q]),Object(c.useEffect)((()=>(P.current>t.index?D("fall"):D("rise"),P.current=t.index,()=>{})),[t.index]),Object(c.useEffect)((()=>{if(r.isOption){let e=t.position.markPrice;R.current>e?S("fall"):S("rise"),R.current=e,A(e)}}),[t.index,t.position]),Object(c.useEffect)((()=>(t.config&&O(t.config),()=>{})),[t.config]),Object(c.useEffect)((()=>{l.loading(),t.init(e,a,r.isOption,(()=>{l.loaded()}))}),[e.detail.account,a.current,r.isOption]),Object(c.useEffect)((()=>(t.margin&&t.direction&&j(t.direction),()=>{})),[t.margin]),Object(c.useEffect)((()=>(t.index&&e.isConnected()&&e.supportChain&&I(!1),()=>{})),[e.detail.account,t.index]),Object(c.useEffect)((()=>(B||(t.position.volume>0?t.volume<0?j("short"):j("long"):t.position.volume<0&&(t.volume>0?j("short"):j("long"))),()=>{})),[t.volume,B]),Object(c.useEffect)((()=>(t.setUserSelectedDirection(o),()=>{})),[o]),Object(g.jsx)("div",{className:"trade-info",children:Object(g.jsxs)("div",{className:"trade-peration",children:[Object(g.jsxs)("div",{className:"check-baseToken",children:[Object(g.jsx)(Z,{setSpec:O,spec:m,isOption:r.isOption}),Object(g.jsxs)("div",{className:r.isOption?"price-fundingRate pc options":"price-fundingRate pc",children:[r.isFuture&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"index-prcie",children:[s["index-price"],": ",Object(g.jsxs)("span",{className:y,children:["\xa0 ",Object(g.jsx)(d.a,{value:t.index,decimalScale:2})]})]})}),r.isOption&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"mark-price",children:[s["eo-mark-price"]," : ",Object(g.jsxs)("span",{className:C,children:["\xa0 ",Object(g.jsx)(d.a,{value:b,decimalScale:4})]})]}),Object(g.jsxs)("div",{className:"index-prcie",children:[t.config&&r.isOption?t.config.symbol.split("-")[0]:""," : ",Object(g.jsxs)("span",{className:"option-vol",children:["\xa0 ",Object(g.jsxs)("span",{children:[" ",Object(g.jsx)(d.a,{value:t.index,decimalScale:2})]}),Object(g.jsx)("span",{className:"vol",children:" | "}),s.vol," : ",Object(g.jsx)(d.a,{value:t.position.volatility,decimalScale:2,suffix:"%"})]})]})]}),Object(g.jsxs)("div",{className:"funding-rate",children:[r.isOption&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("span",{children:[s["funding-rate"]," : \xa0"]}),Object(g.jsx)("span",{className:"funding-per",title:t.optionFundingRateTip,children:Object(g.jsx)(d.a,{value:t.fundingRate.premiumFunding0,decimalScale:4})})]}),r.isFuture&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("span",{children:[s["funding-rate-annual"]," : \xa0"]}),Object(g.jsx)("span",{className:"funding-per",title:t.fundingRateTip,children:Object(g.jsx)(d.a,{value:t.fundingRate.fundingRate0,decimalScale:4,suffix:"%"})})]})]})]}),Object(g.jsxs)("div",{className:r.isOption?"price-fundingRate mobile options":"price-fundingRate mobile",children:[r.isFuture&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"index-prcie",children:[s.index,": ",Object(g.jsxs)("span",{className:y,children:["\xa0 ",Object(g.jsx)(d.a,{value:t.index,decimalScale:2})]})]})}),r.isOption&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"mark-price",children:[s["eo-mark-price"]," : ",Object(g.jsxs)("span",{className:C,children:["\xa0 ",Object(g.jsx)(d.a,{value:b,decimalScale:2})]})]}),Object(g.jsxs)("div",{className:"index-prcie",children:[t.config&&r.isOption?t.config.symbol.split("-")[0]:"",": ",Object(g.jsxs)("span",{className:y,children:["\xa0 ",Object(g.jsx)(d.a,{value:t.index,decimalScale:2})]})]}),Object(g.jsxs)("div",{className:"index-prcie",children:[s.vol,": ",Object(g.jsx)(d.a,{value:t.position.volatility,decimalScale:2})]})]}),Object(g.jsxs)("div",{className:"funding-rate",children:[r.isOption&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("span",{children:[s["funding-rate"]," : \xa0"]}),Object(g.jsx)("span",{className:"funding-per",title:t.optionFundingRateTip,children:Object(g.jsx)(d.a,{value:t.fundingRate.premiumFunding0,decimalScale:4})})]}),r.isFuture&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("span",{children:[s["funding-rate-annual"]," : \xa0"]}),Object(g.jsx)("span",{className:"funding-per",title:t.fundingRateTip,children:Object(g.jsx)(d.a,{value:t.fundingRate.fundingRate0,decimalScale:4,suffix:"%"})})]})]})]})]}),Object(g.jsxs)("div",{className:Y,children:[Object(g.jsx)("div",{className:"check-long",onClick:()=>z("long"),children:s["long-buy"]}),Object(g.jsx)("div",{className:"check-short",onClick:()=>z("short"),children:s["short-sell"]})]}),Object(g.jsxs)("div",{className:"the-input",children:[Object(g.jsxs)("div",{className:"left",children:[Object(g.jsxs)("div",{className:"current-position",children:[Object(g.jsx)("span",{children:s["current-position"]}),Object(g.jsx)("span",{className:"position-text",children:Object(g.jsx)(d.a,{value:t.position.volume,allowZero:!0})})]}),r.isFuture&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"contrant",children:[Object(g.jsx)("input",{type:"number",onFocus:q,onBlur:X,onKeyPress:V,disabled:!t.index||0===Math.abs(t.position.margin),onChange:e=>K(e),value:t.volumeDisplay,className:H,placeholder:s["contract-volume"]}),Object(g.jsx)("div",{className:"title-volume",children:s["contract-volume"]})]})}),r.isOption&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"contrant option-input",children:[Object(g.jsx)("input",{type:"number",onFocus:q,onBlur:X,onKeyPress:V,disabled:!t.index||0===Math.abs(t.position.margin),onChange:e=>K(e),value:t.volumeDisplay,className:H,placeholder:s["option-input"]}),Object(g.jsx)("div",{className:"option-unit",children:m.unit})]})}),!!t.volumeDisplay&&r.isFuture&&Object(g.jsx)("div",{className:"btc",children:Object(g.jsx)(d.a,{value:t.amount.exchanged,allowNegative:!1,decimalScale:4,prefix:"= ",suffix:` ${m.unit}`})})]}),Object(g.jsx)("div",{className:"right-info",children:Object(g.jsxs)("div",{className:`contrant-info ${a.current}`,children:[Object(g.jsxs)("div",{className:"balance-contract",children:[a.isV1&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("span",{className:"balance-contract-text pc v1",children:[s["balance-in-contract"],Object(g.jsx)("br",{}),"(",s["dynamic-balance"],")"]}),Object(g.jsxs)("span",{className:"balance-contract-text mobile v1",children:[s["balance-in-contract"],Object(g.jsx)("br",{}),"(",s["dynamic-balance"],")"]})]}),(a.isV2||a.isV2Lite||r.isOption)&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("span",{className:"balance-contract-text pc",title:s["dynamic-effective-balance-title"],children:s["dynamic-effective-balance"]}),Object(g.jsx)("span",{className:"balance-contract-text mobile",title:s["dynamic-effective-balance-title"],children:s["dynamic-effective-balance"]})]}),Object(g.jsx)("span",{className:`balance-contract-num ${a.current}`,children:Object(g.jsx)(d.a,{value:t.amount.dynBalance,allowZero:!0,decimalScale:2})})]}),a.isV1&&Object(g.jsxs)("div",{className:"box-margin",children:[Object(g.jsx)("span",{children:s.margin}),Object(g.jsx)("span",{className:"margin",children:Object(g.jsx)(d.a,{value:t.amount.margin,allowZero:!0,decimalScale:2})})]}),(a.isV2||a.isV2Lite||r.isOption)&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"box-margin",children:s.margin}),Object(g.jsxs)("div",{className:"box-margin",children:[Object(g.jsxs)("span",{className:"total-held",title:s["total-held-title"],children:["\xa0- ",s["total-held"]]}),Object(g.jsx)("span",{className:"margin",children:Object(g.jsx)(d.a,{value:t.amount.margin,allowZero:!0,decimalScale:2})})]}),Object(g.jsxs)("div",{children:[Object(g.jsxs)("span",{className:"pos-held",title:s["for-this-pos-title"],children:["\xa0- ",s["for-this-pos"]," "]}),Object(g.jsx)("span",{className:"margin",children:Object(g.jsx)(d.a,{value:t.amount.currentSymbolMarginHeld,allowZero:!0,decimalScale:2})})]})]}),Object(g.jsxs)("div",{className:"available-balance",children:[Object(g.jsxs)("span",{className:"available-balance pc",title:s["available-balance-title"],children:[" ",s["available-balance"]," "]}),Object(g.jsx)("span",{className:"available-balance mobile",children:s["available-balance"]}),Object(g.jsx)("span",{className:"available-balance-num",children:Object(g.jsx)(d.a,{value:t.amount.available,allowZero:!0,decimalScale:2})})]})]})})]}),Object(g.jsx)("div",{className:"slider mt-13",children:Object(g.jsx)(J,{max:t.amount.dynBalance,onValueChange:(e,a)=>{t.setSlideMargin(e),M(!1),a&&j("long"===o?"short":"long")},start:t.amount.margin,freeze:k,currentSymbolMarginHeld:t.position.marginHeldBySymbol,originMarginHeld:t.position.marginHeld,setStopCalculate:e=>E(e)})}),Object(g.jsx)("div",{className:"title-margin",children:s.margin}),Object(g.jsx)("div",{className:"enterInfo",children:!!t.volumeDisplay&&Object(g.jsxs)(g.Fragment,{children:[r.isFuture&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"text-info",children:[Object(g.jsx)("div",{className:"title-enter pool",children:s["pool-liquidity"]}),Object(g.jsx)("div",{className:"text-enter poolL",children:Object(g.jsx)(d.a,{value:t.fundingRate.liquidity,decimalScale:2,suffix:` ${m.bTokenSymbol}`})})]}),Object(g.jsxs)("div",{className:"text-info",children:[Object(g.jsx)("div",{className:"title-enter",children:s["liquidity-used"]}),Object(g.jsxs)("div",{className:"text-enter",children:[Object(g.jsx)(d.a,{value:N.curLiqUsed,suffix:"%",decimalScale:2})," -> ",Object(g.jsx)(d.a,{value:N.afterLiqUsed,decimalScale:2,suffix:"%"})]})]}),Object(g.jsxs)("div",{className:"text-info",children:[Object(g.jsx)("div",{className:"title-enter",children:s["funding-rate-impact"]}),Object(g.jsxs)("div",{className:"text-enter",children:[Object(g.jsx)(d.a,{value:t.fundingRate.fundingRate0,suffix:"%",decimalScale:4})," -> ",Object(g.jsx)(d.a,{value:u,decimalScale:4,suffix:"%"})]})]})]}),r.isOption&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"text-info",children:[Object(g.jsx)("div",{className:"title-enter pool",children:s["mark-price"]}),Object(g.jsx)("div",{className:"text-enter poolL",children:Object(g.jsx)(d.a,{value:b,decimalScale:4})})]}),Object(g.jsxs)("div",{className:"text-info",children:[Object(g.jsx)("div",{className:"title-enter pool",children:s["trade-price"]}),Object(g.jsx)("div",{className:"text-enter poolL",children:Object(g.jsx)(d.a,{value:p,decimalScale:4})})]}),Object(g.jsxs)("div",{className:"text-info",children:[Object(g.jsx)("div",{className:"title-enter pool",children:s["pool-liquidity"]}),Object(g.jsx)("div",{className:"text-enter poolL",children:Object(g.jsx)(d.a,{value:t.fundingRate.liquidity,thousandSeparator:!0,decimalScale:2,suffix:` ${m.bTokenSymbol}`})})]})]}),Object(g.jsxs)("div",{className:"text-info",children:[Object(g.jsx)("div",{className:"title-enter",children:s["transaction-fee"]}),Object(g.jsx)("div",{className:"text-enter",children:Object(g.jsx)(d.a,{value:v,allowZero:!0,decimalScale:2,suffix:` ${m.bTokenSymbol}`})})]})]})}),Object(g.jsx)(W,{hasConnectWallet:L,transFee:v,wallet:e,spec:t.config,indexPrice:t.index,available:t.amount.available,volume:t.volumeDisplay,direction:o,leverage:t.amount.leverage,afterTrade:()=>{t.setVolume(""),t.refresh(),e.refresh()},position:t.position,trading:t,symbolId:t.config&&t.config.symbolId,bTokenId:t.config&&t.config.bTokenId,version:a,lang:s,type:r,markPriceAfter:p})]})})})));t.a=Object(b.b)("wallet","trading")(Object(b.c)((function({wallet:e,trading:t,isPro:a,lang:i}){const[s,l]=Object(c.useState)("trade"),r=e=>l(e),o=n()("trade-position",s);return Object(g.jsxs)("div",{className:o,children:[Object(g.jsx)("div",{className:"header-top",children:Object(g.jsxs)("div",{className:"header",children:[Object(g.jsx)("span",{className:"trade",onClick:()=>r("trade"),children:i.trade}),!a&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("span",{className:"pc position",onClick:()=>r("position"),children:i["my-position"]}),Object(g.jsx)("span",{className:"mobile position",onClick:()=>r("position"),children:i["my-position"]}),Object(g.jsx)("span",{className:"history",onClick:()=>r("history"),children:i.history})]})]})}),Object(g.jsx)(K,{lang:i}),Object(g.jsx)(w,{lang:i}),Object(g.jsx)(M,{wallet:e,spec:t.config,specs:t.configs,lang:i}),Object(g.jsx)(Q,{lang:i})]})})))},690:function(e,t,a){},691:function(e,t,a){}}]);
//# sourceMappingURL=1.0290d171.chunk.js.map